import{c as N,m as l,j as s,C as b,a as d,B as c}from"./index-COZPVgkZ.js";import{u as j,a as i}from"./vendor-pjqRyqzN.js";function y(){const m=j(),[r,o]=i.useState([]),{updateCount:u}=N();i.useEffect(()=>{o(l.getNotifications())},[u]);const x=e=>{switch(e){case"urgent":return"border-l-4 border-error bg-error/5";case"warning":return"border-l-4 border-warning bg-warning/5";case"success":return"border-l-4 border-success bg-success/5";default:return"border-l-4 border-info bg-info/5"}},a=(e,t)=>{l.markNotificationRead(e),m(t)},h=e=>{const t=Math.floor((Date.now()-e)/6e4);if(t<1)return"Just now";if(t<60)return`${t} min ago`;const n=Math.floor(t/60);return`${n} hour${n>1?"s":""} ago`},p=r.filter(e=>!e.read).length;return s.jsxs(b,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-h3 text-neutral-900",children:"Smart Notifications"}),s.jsxs(d,{status:"error",children:[p," New"]})]}),s.jsx("div",{className:"space-y-3",children:r.slice(0,5).map(e=>s.jsxs("div",{className:`p-4 rounded-small ${x(e.type)} ${e.read?"opacity-60":""}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"text-body font-medium",children:e.title}),e.priority==="urgent"&&s.jsx(d,{status:"error",children:"URGENT"})]}),s.jsx("p",{className:"text-body-sm text-neutral-700 mb-2",children:e.message}),s.jsx("div",{className:"p-2 bg-white rounded-small mb-2",children:s.jsxs("p",{className:"text-body-sm",children:[s.jsx("span",{className:"font-medium",children:e.patientName})," ","(",e.patientId,")"]})})]}),s.jsx("span",{className:"text-body-sm text-neutral-600 ml-3",children:h(e.timestamp)})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(c,{variant:"primary",size:"sm",onClick:()=>a(e.id,`/doctor/consultation/${e.patientId}`),children:"Start Consultation"}),s.jsx(c,{variant:"secondary",size:"sm",onClick:()=>a(e.id,`/doctor/patients/${e.patientId}`),children:"View Details"})]}),s.jsx("div",{className:"mt-2 pt-2 border-t border-neutral-200",children:s.jsxs("p",{className:"text-body-sm text-neutral-600",children:["From: ",s.jsx("span",{className:"font-medium",children:e.fromRole})," â†’ To: ",s.jsx("span",{className:"font-medium",children:e.toRole})]})})]},e.id))})]})}export{y as S};
