var Le=Object.defineProperty;var $e=(t,a,s)=>a in t?Le(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s;var L=(t,a,s)=>$e(t,typeof a!="symbol"?a+"":a,s);import{u as Y,j as e,N as he,E as Oe,T as ce,r as u,Z as Fe,C as qe,a as de,K as Z,h as K,b as Se,L as X,c as me,U as re,d as U,P as W,F as Ce,S as ke,M as Je,e as We,X as ze,f as _,H as Ve,g as He,i as $,k as B,l as Ue,m as _e,n as xe,o as Ge,p as Xe,D as Ye,q as ge,s as Ze,t as fe,V as Ke,v as Qe,w as Q,x as et,y as tt,z as st,R as ee,A as at,B as te,G as rt,I as ye,J as nt,O as z,Q as it,W as lt,Y as ot,_ as ct,$ as dt,a0 as mt,a1 as ut,a2 as Re,a3 as V,a4 as pt,a5 as ht,a6 as xt,a7 as gt,a8 as ft,a9 as yt}from"./vendor-react-DtsOz5pv.js";import{m as M,A as bt,t as jt}from"./vendor-other-DG8If0Tp.js";import{f as ne}from"./vendor-utils-DvtxXjqu.js";import{c as O}from"./vendor-redux-CxpqfPS-.js";import{c as F}from"./vendor-ui-B-dksMZM.js";const Nt={user:null,isAuthenticated:!1,loading:!1},Pe=O({name:"auth",initialState:Nt,reducers:{loginStart:t=>{t.loading=!0},loginSuccess:(t,a)=>{t.user=a.payload,t.isAuthenticated=!0,t.loading=!1},loginFailure:t=>{t.loading=!1},logout:t=>{t.user=null,t.isAuthenticated=!1}}}),{loginStart:vs,loginSuccess:ws,loginFailure:Ss,logout:vt}=Pe.actions,Cs=Pe.reducer,wt={notifications:[],unreadCount:0},De=O({name:"notifications",initialState:wt,reducers:{addNotification:(t,a)=>{const s={...a.payload,id:Date.now().toString(),timestamp:new Date().toISOString(),read:!1};t.notifications.unshift(s),t.unreadCount+=1},addRoleNotification:(t,a)=>{const s={id:Date.now().toString(),timestamp:new Date().toISOString(),read:!1,targetRole:a.payload.role,type:a.payload.type,title:a.payload.title,message:a.payload.message,priority:a.payload.priority||"medium",category:a.payload.category||"system",relatedId:a.payload.relatedId};t.notifications.unshift(s),t.unreadCount+=1},markAsRead:(t,a)=>{const s=t.notifications.find(r=>r.id===a.payload);s&&!s.read&&(s.read=!0,t.unreadCount=Math.max(0,t.unreadCount-1))},markAllAsRead:t=>{t.notifications.forEach(a=>a.read=!0),t.unreadCount=0},removeNotification:(t,a)=>{const s=t.notifications.findIndex(r=>r.id===a.payload);s!==-1&&(t.notifications[s].read||(t.unreadCount=Math.max(0,t.unreadCount-1)),t.notifications.splice(s,1))},clearAllNotifications:t=>{t.notifications=[],t.unreadCount=0}}}),{addNotification:be,addRoleNotification:q,markAsRead:St,markAllAsRead:Ct,removeNotification:kt,clearAllNotifications:ks}=De.actions,Rs=De.reducer,Rt={requests:[{id:"MR001",patientName:"John Smith",patientId:"P001",roomNumber:"A-101",medication:"Paracetamol",dosage:"500mg",quantity:10,urgency:"medium",status:"dispatched",requestedBy:"Nurse Sarah",requestTime:"2024-01-15 14:30",notes:"Patient experiencing fever",processedBy:"Pharmacist John",processedTime:"2024-01-15 15:00"},{id:"MR002",patientName:"Sarah Johnson",patientId:"P002",roomNumber:"B-205",medication:"Amoxicillin",dosage:"250mg",quantity:21,urgency:"high",status:"sent",requestedBy:"Nurse Sarah",requestTime:"2024-01-15 13:15",processedBy:"Pharmacist John",processedTime:"2024-01-15 14:00"},{id:"MR003",patientName:"Michael Chen",patientId:"P003",roomNumber:"C-310",medication:"Morphine",dosage:"10mg",quantity:5,urgency:"high",status:"pending",requestedBy:"Nurse Maria",requestTime:"2024-01-15 15:45",notes:"Post-operative pain management"},{id:"MR004",patientName:"David Williams",patientId:"P005",roomNumber:"ICU-02",medication:"Insulin",dosage:"10 units",quantity:1,urgency:"high",status:"request",requestedBy:"Nurse Tom",requestTime:"2024-01-15 16:00",notes:"Blood sugar 250 mg/dL"}],loading:!1,error:null},Ie=O({name:"medication",initialState:Rt,reducers:{addMedicationRequest:(t,a)=>{const s={...a.payload,id:`MR${String(t.requests.length+1).padStart(3,"0")}`,status:"request",requestTime:new Date().toISOString()};t.requests.unshift(s)},updateMedicationStatus:(t,a)=>{const{id:s,status:r,processedBy:n}=a.payload,i=t.requests.find(o=>o.id===s);i&&(i.status=r,n&&(i.processedBy=n,i.processedTime=new Date().toISOString()))},setLoading:(t,a)=>{t.loading=a.payload},setError:(t,a)=>{t.error=a.payload}}}),{addMedicationRequest:Ps,updateMedicationStatus:Pt,setLoading:Ds,setError:Is}=Ie.actions,Ts=Ie.reducer,Dt={prescriptions:[{id:"RX001",patientName:"John Smith",patientId:"P001",doctorName:"Dr. Wilson",prescriptionDate:"2024-01-15 14:30",priority:"high",status:"pending",medications:[{name:"Paracetamol",dosage:"500mg",quantity:20,frequency:"Every 6 hours",duration:"5 days",instructions:"Take with food"},{name:"Amoxicillin",dosage:"250mg",quantity:21,frequency:"Three times daily",duration:"7 days"}],notes:"Patient has fever and infection"},{id:"RX002",patientName:"Sarah Johnson",patientId:"P002",doctorName:"Dr. Brown",prescriptionDate:"2024-01-15 13:15",priority:"medium",status:"processing",medications:[{name:"Ibuprofen",dosage:"400mg",quantity:10,frequency:"Twice daily",duration:"3 days"}]},{id:"RX003",patientName:"Michael Chen",patientId:"P003",doctorName:"Dr. Wilson",prescriptionDate:"2024-01-15 11:00",priority:"low",status:"ready",medications:[{name:"Atorvastatin",dosage:"20mg",quantity:30,frequency:"Once daily",duration:"30 days",instructions:"Take at bedtime"}],processedBy:"Pharmacist John",processedTime:"2024-01-15 12:00"},{id:"RX004",patientName:"Emily Rodriguez",patientId:"P004",doctorName:"Dr. Martinez",prescriptionDate:"2024-01-14 16:45",priority:"medium",status:"dispensed",medications:[{name:"Cetirizine",dosage:"10mg",quantity:14,frequency:"Once daily",duration:"14 days"}],processedBy:"Pharmacist John",processedTime:"2024-01-15 09:00"},{id:"RX005",patientName:"David Williams",patientId:"P005",doctorName:"Dr. Wilson",prescriptionDate:"2024-01-15 10:20",priority:"high",status:"pending",medications:[{name:"Spiriva",dosage:"18mcg",quantity:30,frequency:"Once daily",duration:"30 days",instructions:"Use inhaler as directed"},{name:"Prednisone",dosage:"10mg",quantity:10,frequency:"Once daily",duration:"10 days",instructions:"Take with food"}],notes:"COPD exacerbation"}],loading:!1,error:null,draft:void 0},Te=O({name:"prescriptions",initialState:Dt,reducers:{addPrescription:(t,a)=>{const s={...a.payload,id:`RX${String(t.prescriptions.length+1).padStart(3,"0")}`,status:"pending",prescriptionDate:new Date().toISOString()};t.prescriptions.unshift(s)},updatePrescriptionStatus:(t,a)=>{const{id:s,status:r,processedBy:n}=a.payload,i=t.prescriptions.find(o=>o.id===s);i&&(i.status=r,n&&(i.processedBy=n,i.processedTime=new Date().toISOString()))},setLoading:(t,a)=>{t.loading=a.payload},setError:(t,a)=>{t.error=a.payload},requestRefill:(t,a)=>{const s=t.prescriptions.find(r=>r.id===a.payload);s&&(s.refillRequested=!0,s.refillRequestDate=new Date().toISOString())},approveRefill:(t,a)=>{const s=t.prescriptions.find(r=>r.id===a.payload);s&&s.refillsRemaining&&s.refillsRemaining>0&&(s.refillsRemaining-=1,s.refillRequested=!1,s.status="pending")}}}),{addPrescription:As,updatePrescriptionStatus:It,setLoading:Ms,setError:Bs,requestRefill:Tt,approveRefill:Es}=Te.actions,Ls=Te.reducer,At=[{id:"CBC",name:"Complete Blood Count",category:"Hematology",normalRange:"4.5-11.0",unit:"×10³/μL"},{id:"BMP",name:"Basic Metabolic Panel",category:"Chemistry"},{id:"LFT",name:"Liver Function Tests",category:"Chemistry"},{id:"TSH",name:"Thyroid Stimulating Hormone",category:"Endocrinology",normalRange:"0.4-4.0",unit:"mIU/L"},{id:"HbA1c",name:"Hemoglobin A1c",category:"Chemistry",normalRange:"<7.0",unit:"%"},{id:"UA",name:"Urinalysis",category:"Urinalysis"},{id:"PT",name:"Prothrombin Time",category:"Coagulation",normalRange:"11-13",unit:"seconds"},{id:"ESR",name:"Erythrocyte Sedimentation Rate",category:"Hematology",normalRange:"<20",unit:"mm/hr"}],Mt={orders:[{id:"LAB001",patientName:"John Smith",patientId:"P001",doctorName:"Dr. Wilson",orderDate:"2024-01-15 14:30",priority:"routine",status:"ordered",tests:[{id:"CBC",name:"Complete Blood Count",category:"Hematology"},{id:"BMP",name:"Basic Metabolic Panel",category:"Chemistry"}],notes:"Patient presenting with fatigue and weakness"},{id:"LAB002",patientName:"Sarah Johnson",patientId:"P002",doctorName:"Dr. Brown",orderDate:"2024-01-15 13:00",priority:"urgent",status:"collected",tests:[{id:"HbA1c",name:"Hemoglobin A1c",category:"Chemistry"}],notes:"Diabetes monitoring"},{id:"LAB003",patientName:"Michael Chen",patientId:"P003",doctorName:"Dr. Wilson",orderDate:"2024-01-15 10:15",priority:"routine",status:"processing",tests:[{id:"LFT",name:"Liver Function Tests",category:"Chemistry"},{id:"PT",name:"Prothrombin Time",category:"Coagulation"}]},{id:"LAB004",patientName:"David Williams",patientId:"P005",doctorName:"Dr. Wilson",orderDate:"2024-01-14 16:00",priority:"stat",status:"completed",tests:[{id:"CBC",name:"Complete Blood Count",category:"Hematology"},{id:"ESR",name:"Erythrocyte Sedimentation Rate",category:"Hematology"}],results:{CBC:{value:"8.5 ×10³/μL",status:"normal"},ESR:{value:"15 mm/hr",status:"normal"}},completedDate:"2024-01-15 09:00"},{id:"LAB005",patientName:"Emily Rodriguez",patientId:"P004",doctorName:"Dr. Martinez",orderDate:"2024-01-15 11:30",priority:"routine",status:"ordered",tests:[{id:"TSH",name:"Thyroid Stimulating Hormone",category:"Endocrinology"},{id:"UA",name:"Urinalysis",category:"Urinalysis"}]}],availableTests:At,loading:!1,error:null},Ae=O({name:"lab",initialState:Mt,reducers:{addLabOrder:(t,a)=>{const s={...a.payload,id:`LAB${String(t.orders.length+1).padStart(3,"0")}`,status:"ordered",orderDate:new Date().toISOString()};t.orders.unshift(s)},updateLabOrderStatus:(t,a)=>{const{id:s,status:r,completedDate:n}=a.payload,i=t.orders.find(o=>o.id===s);i&&(i.status=r,n&&(i.completedDate=n))},addLabResults:(t,a)=>{const{orderId:s,results:r}=a.payload,n=t.orders.find(i=>i.id===s);n&&(n.results=r,n.status="completed",n.completedDate=new Date().toISOString())},setLoading:(t,a)=>{t.loading=a.payload},setError:(t,a)=>{t.error=a.payload}}}),{addLabOrder:$s,updateLabOrderStatus:Bt,addLabResults:Os,setLoading:Fs,setError:qs}=Ae.actions,Js=Ae.reducer,je=[{id:"FB001",patientId:"P001",patientName:"John Smith",appointmentId:"APT001",doctorName:"Dr. Wilson",rating:9,category:"promoter",comments:"Excellent service, very professional",aspects:{waitTime:4,doctorCare:5,staffFriendliness:5,cleanliness:5,overall:5},submittedAt:"2024-01-15T10:00:00Z"},{id:"FB002",patientId:"P002",patientName:"Sarah Johnson",appointmentId:"APT002",doctorName:"Dr. Brown",rating:7,category:"passive",comments:"Good experience overall",aspects:{waitTime:3,doctorCare:4,staffFriendliness:4,cleanliness:4,overall:4},submittedAt:"2024-01-14T14:30:00Z"},{id:"FB003",patientId:"P003",patientName:"Mike Chen",appointmentId:"APT003",doctorName:"Dr. Wilson",rating:10,category:"promoter",comments:"Outstanding care!",aspects:{waitTime:5,doctorCare:5,staffFriendliness:5,cleanliness:5,overall:5},submittedAt:"2024-01-13T16:00:00Z"}],Me=t=>{if(t.length===0)return 0;const a=t.filter(r=>r.rating>=9).length,s=t.filter(r=>r.rating<=6).length;return Math.round((a-s)/t.length*100)},Et={feedbacks:je,npsScore:Me(je)},Be=O({name:"feedback",initialState:Et,reducers:{addFeedback:(t,a)=>{const s=a.payload.rating,r=s>=9?"promoter":s>=7?"passive":"detractor",n={...a.payload,id:`FB${String(t.feedbacks.length+1).padStart(3,"0")}`,category:r,submittedAt:new Date().toISOString()};t.feedbacks.unshift(n),t.npsScore=Me(t.feedbacks)}}}),{addFeedback:Lt}=Be.actions,Ws=Be.reducer;function zs({children:t,allowedRoles:a}){const{isAuthenticated:s,user:r}=Y(n=>n.auth);return s?a&&r&&!a.includes(r.role)?e.jsx(he,{to:`/${r.role}`,replace:!0}):e.jsx(e.Fragment,{children:t}):e.jsx(he,{to:"/signin",replace:!0})}const $t=({error:t,resetError:a})=>(t instanceof Error&&t.message,e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(ce,{className:"h-8 w-8 text-red-500 mr-3"}),e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Something went wrong"})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),!1,e.jsx("button",{onClick:a,className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors",children:"Try again"})]})})),Vs=({children:t})=>e.jsx(Oe,{fallback:({error:a,resetError:s})=>e.jsx($t,{error:a,resetError:s}),children:t});function b({variant:t="primary",size:a="md",loading:s=!1,className:r,children:n,disabled:i,...o}){const m="inline-flex items-center justify-center font-medium transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-opacity-50 disabled:opacity-50 disabled:cursor-not-allowed rounded-small",l={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"border border-neutral-300 bg-white text-neutral-700 hover:bg-neutral-50 focus:ring-primary-500",tertiary:"text-primary-600 hover:text-primary-700 hover:bg-primary-50 focus:ring-primary-500",icon:"text-neutral-500 hover:text-neutral-700 hover:bg-neutral-100 focus:ring-primary-500",outline:"border border-neutral-300 bg-transparent text-neutral-700 hover:bg-neutral-50 focus:ring-primary-500",destructive:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"},h={sm:"px-3 py-1.5 text-sm min-h-[32px]",md:"px-4 py-2 text-body min-h-[40px]",lg:"px-6 py-3 text-body-lg min-h-[48px]"};return e.jsxs(M.button,{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.15},className:F(m,l[t],h[a],r),disabled:i||s,...o,children:[s&&e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",role:"img","aria-label":"Loading",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n]})}const H=u.forwardRef(({type:t="text",label:a,error:s,helperText:r,className:n,id:i,...o},m)=>{const l=i||`input-${Math.random().toString(36).substr(2,9)}`,h=s?`${l}-error`:void 0,f=r?`${l}-helper`:void 0,p=[h,f,o["aria-describedby"]].filter(Boolean).join(" ")||void 0;return e.jsxs("div",{className:"w-full",children:[a&&e.jsxs("label",{htmlFor:l,className:"block text-body font-medium text-neutral-700 mb-1",children:[a,o.required&&e.jsx("span",{className:"text-error ml-1","aria-label":"required",children:"*"})]}),e.jsx(M.input,{ref:m,id:l,type:t,"aria-invalid":!!s,"aria-describedby":p,whileFocus:{scale:1.01},transition:{duration:.2},className:F("block w-full px-3 py-2 border rounded-minimal shadow-sm text-body min-h-[40px]","placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 focus:ring-opacity-50","transition-all duration-200",s?"border-error text-error focus:ring-error focus:border-error":"border-neutral-300",n),...o}),e.jsx(bt,{mode:"wait",children:s&&e.jsx(M.p,{id:h,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"mt-1 text-body-sm text-error",role:"alert","aria-live":"polite",children:s})}),r&&!s&&e.jsx("p",{id:f,className:"mt-1 text-body-sm text-neutral-500",children:r})]})});function I({children:t,className:a,padding:s="md",shadow:r="md",onClick:n}){const i={sm:"p-4",md:"p-6",lg:"p-8"},o={sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg",xl:"shadow-xl"};return e.jsx(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:n?{y:-4,boxShadow:"0 10px 25px rgba(0,0,0,0.1)"}:{},className:F("bg-white rounded-small border border-neutral-200",i[s],o[r],n&&"cursor-pointer transition-shadow",a),onClick:n,children:t})}function k({status:t,priority:a,severity:s,children:r,className:n,showIcon:i=!1,size:o="md"}){const m={request:"bg-neutral-100 text-neutral-800",pending:"bg-warning/10 text-warning",sent:"bg-info/10 text-info",dispatched:"bg-primary-100 text-primary-800",received:"bg-success/10 text-success",delivered:"bg-success text-white",error:"bg-red-100 text-red-800",info:"bg-info/10 text-info",secondary:"bg-neutral-100 text-neutral-800",success:"bg-success/10 text-success",warning:"bg-warning/10 text-warning",critical:"bg-red-100 text-red-800",good:"bg-green-100 text-green-800",excellent:"bg-green-100 text-green-800"},l={emergency:"bg-red-600 text-white",urgent:"bg-red-100 text-red-800 border border-red-200",high:"bg-orange-100 text-orange-800 border border-orange-200",normal:"bg-blue-100 text-blue-800 border border-blue-200",low:"bg-gray-100 text-gray-800 border border-gray-200"},h={critical:"bg-error/20 text-error border border-error/30",high:"bg-error/10 text-error",medium:"bg-warning/20 text-warning border border-warning/30",low:"bg-neutral-100 text-neutral-600"},f=()=>i?a==="emergency"?e.jsx(Fe,{className:"w-3 h-3"}):a==="urgent"||a==="high"?e.jsx(ce,{className:"w-3 h-3"}):s==="critical"||s==="high"?e.jsx(qe,{className:"w-3 h-3"}):e.jsx(de,{className:"w-3 h-3"}):null,p={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-sm",lg:"px-3 py-1 text-base"},d=()=>t?m[t]:a?l[a]:s?h[s]:"bg-neutral-100 text-neutral-800";return e.jsxs(M.span,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.2},className:F("inline-flex items-center gap-1 rounded-small font-medium",p[o],d(),n),children:[f(),r]})}function ue({isOpen:t,onClose:a,title:s,children:r,size:n="md"}){const i={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return e.jsx(Z,{appear:!0,show:t,as:u.Fragment,children:e.jsxs(K,{as:"div",className:"relative z-50",onClose:a,children:[e.jsx(Z.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsx(Z.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(K.Panel,{className:F("w-full transform overflow-hidden rounded-medium bg-white p-6 shadow-xl transition-all",i[n]),children:[s&&e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(K.Title,{className:"text-h3 text-neutral-900",children:s}),e.jsx("button",{onClick:a,className:"text-neutral-400 hover:text-neutral-600 text-xl",children:"×"})]}),r]})})})})]})})}function Ot({className:t}){return e.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}function Ft({className:t}){return e.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}function qt(){const t=Se(),s=(()=>{const r=t.pathname.split("/").filter(Boolean),n=[];let i="";return r.forEach((o,m)=>{i+=`/${o}`;const l=o.split("-").map(h=>h.charAt(0).toUpperCase()+h.slice(1)).join(" ");n.push({label:l,path:i})}),n})();return s.length===0?null:e.jsxs("nav",{"aria-label":"Breadcrumb",className:"flex items-center space-x-2 text-sm text-neutral-600 mb-4",children:[e.jsx(X,{to:"/",className:"hover:text-primary-600 transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 rounded p-1","aria-label":"Home",children:e.jsx(Ft,{className:"w-4 h-4"})}),s.map((r,n)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ot,{className:"w-4 h-4 text-neutral-400","aria-hidden":"true"}),n===s.length-1?e.jsx("span",{className:"text-neutral-900 font-medium","aria-current":"page",children:r.label}):e.jsx(X,{to:r.path,className:"hover:text-primary-600 transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 rounded px-1",children:r.label})]},r.path))]})}function Jt(t,a){const[s,r]=u.useState(t);return u.useEffect(()=>{const n=setTimeout(()=>{r(t)},a);return()=>{clearTimeout(n)}},[t,a]),s}function Wt({isOpen:t,onClose:a,placeholder:s="Search patients, appointments, prescriptions..."}){const[r,n]=u.useState(""),[i,o]=u.useState([]),[m,l]=u.useState(!1),[h,f]=u.useState(!1),[p,d]=u.useState(-1),c=u.useRef(null),N=u.useRef(null),j=u.useRef(null),x=me(),S=Jt(r,300),g=u.useCallback(async y=>{if(!y.trim()){o([]);return}l(!0);try{await new Promise(E=>setTimeout(E,200));const v=[];(y.toLowerCase().includes("john")||y.toLowerCase().includes("patient"))&&v.push({id:"1",type:"patient",title:"John Doe",subtitle:"Patient ID: P001 | Age: 45 | Room 201",url:"/patients/1",icon:e.jsx(re,{className:"w-4 h-4"}),priority:10}),(y.toLowerCase().includes("appointment")||y.toLowerCase().includes("today"))&&v.push({id:"2",type:"appointment",title:"Cardiology Consultation",subtitle:"Dr. Smith | Today 2:00 PM | John Doe",url:"/appointments/2",icon:e.jsx(U,{className:"w-4 h-4"}),priority:8}),(y.toLowerCase().includes("prescription")||y.toLowerCase().includes("medication"))&&v.push({id:"3",type:"prescription",title:"Lisinopril 10mg",subtitle:"John Doe | Prescribed: 2024-01-15 | Dr. Smith",url:"/prescriptions/3",icon:e.jsx(W,{className:"w-4 h-4"}),priority:6}),(y.toLowerCase().includes("lab")||y.toLowerCase().includes("test"))&&v.push({id:"4",type:"lab-result",title:"Blood Test Results",subtitle:"John Doe | CBC Panel | Completed: 2024-01-14",url:"/lab/results/4",icon:e.jsx(Ce,{className:"w-4 h-4"}),priority:4});const D=v.filter(E=>E.title.toLowerCase().includes(y.toLowerCase())||E.subtitle.toLowerCase().includes(y.toLowerCase())).sort((E,Ee)=>Ee.priority-E.priority).slice(0,8);o(D)}catch(v){console.error("Search error:",v),o([])}finally{l(!1)}},[]),C=u.useCallback(()=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window)){alert("Voice search is not supported in this browser");return}const y=window.SpeechRecognition||window.webkitSpeechRecognition;j.current=new y,j.current.continuous=!1,j.current.interimResults=!1,j.current.lang="en-US",j.current.onstart=()=>{f(!0)},j.current.onresult=v=>{const D=v.results[0][0].transcript;n(D),f(!1)},j.current.onerror=v=>{console.error("Speech recognition error:",v.error),f(!1)},j.current.onend=()=>{f(!1)},j.current.start()},[]),P=u.useCallback(()=>{j.current&&j.current.stop()},[]);u.useEffect(()=>{g(S)},[S,g]),u.useEffect(()=>{t&&c.current&&c.current.focus()},[t]),u.useEffect(()=>{const y=v=>{if(t)switch(v.key){case"Escape":a();break;case"ArrowDown":v.preventDefault(),d(D=>Math.min(D+1,i.length-1));break;case"ArrowUp":v.preventDefault(),d(D=>Math.max(D-1,-1));break;case"Enter":v.preventDefault(),p>=0&&i[p]&&T(i[p]);break}};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[t,p,i,a]);const T=y=>{x(y.url),a(),n(""),o([])},A=y=>{switch(y){case"patient":return"text-blue-600 bg-blue-50";case"appointment":return"text-green-600 bg-green-50";case"prescription":return"text-purple-600 bg-purple-50";case"lab-result":return"text-orange-600 bg-orange-50";default:return"text-gray-600 bg-gray-50"}};return t?e.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-start justify-center pt-16",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4 max-h-96 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-gray-200",children:[e.jsx(ke,{className:"w-5 h-5 text-gray-400"}),e.jsx("input",{ref:c,type:"text",value:r,onChange:y=>n(y.target.value),placeholder:s,className:"flex-1 text-lg outline-none placeholder-gray-400"}),e.jsx("button",{onClick:h?P:C,className:`p-2 rounded-full transition-colors ${h?"bg-red-100 text-red-600 animate-pulse":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,"aria-label":h?"Stop voice search":"Start voice search",children:h?e.jsx(Je,{className:"w-5 h-5"}):e.jsx(We,{className:"w-5 h-5"})}),e.jsx("button",{onClick:a,className:"p-2 rounded-full text-gray-400 hover:text-gray-600 hover:bg-gray-100","aria-label":"Close search",children:e.jsx(ze,{className:"w-5 h-5"})})]}),e.jsxs("div",{ref:N,className:"max-h-80 overflow-y-auto",children:[m&&e.jsxs("div",{className:"p-4 text-center text-gray-500",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600 mx-auto mb-2"}),"Searching..."]}),!m&&i.length===0&&r&&e.jsxs("div",{className:"p-4 text-center text-gray-500",children:['No results found for "',r,'"']}),!m&&i.length>0&&e.jsx("div",{className:"py-2",children:i.map((y,v)=>e.jsxs("button",{onClick:()=>T(y),className:`w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors flex items-center gap-3 ${v===p?"bg-blue-50":""}`,children:[e.jsx("div",{className:`p-2 rounded-lg ${A(y.type)}`,children:y.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900 truncate",children:y.title}),e.jsx("div",{className:"text-sm text-gray-500 truncate",children:y.subtitle})]}),e.jsx(_,{className:"w-4 h-4 text-gray-400"})]},y.id))}),!r&&e.jsxs("div",{className:"p-4 text-center text-gray-500",children:[e.jsx("div",{className:"text-sm mb-2",children:"Quick Search Tips:"}),e.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[e.jsx("div",{children:"• Search by patient name, ID, or room number"}),e.jsx("div",{children:"• Find appointments by date or doctor name"}),e.jsx("div",{children:"• Look up prescriptions by medication name"}),e.jsx("div",{children:"• Use voice search for hands-free operation"})]})]})]})]})}):null}const zt={admin:{label:"Administration",children:{users:"User Management",beds:"Bed Management",analytics:"Analytics Dashboard","appointment-analytics":"Appointment Analytics",demographics:"Patient Demographics",reminders:"System Reminders",feedback:"User Feedback","api-docs":"API Documentation",settings:"System Settings"}},doctor:{label:"Doctor Portal",children:{dashboard:"Dashboard",queue:"Patient Queue",consultation:"Consultation",appointments:"Appointments",prescriptions:"Prescriptions",performance:"Performance",profile:"Profile"}},nurse:{label:"Nursing Station",children:{dashboard:"Dashboard",patients:"Patient Care",vitals:"Vital Signs",medications:"Medications",reports:"Reports"}},pharmacist:{label:"Pharmacy",children:{dashboard:"Dashboard",prescriptions:"Prescriptions",inventory:"Inventory",orders:"Orders",reports:"Reports"}},receptionist:{label:"Reception",children:{dashboard:"Dashboard",patients:"Patient Registration",appointments:"Appointment Booking",billing:"Billing",reports:"Reports"}},lab:{label:"Laboratory",children:{dashboard:"Dashboard",orders:"Test Orders",results:"Results",equipment:"Equipment",reports:"Reports"}},patients:{label:"Patient Portal",searchable:!0}};function Hs(){const t=Se(),a=me(),[s,r]=u.useState(!1),[n,i]=u.useState(null),o=t.pathname.split("/").filter(Boolean),m=[];let l="";o.forEach((p,d)=>{l+=`/${p}`;const c=d===o.length-1,N=zt[p];if(N){const j={path:p,label:N.label,href:l,isActive:c};if(N.children&&!c){const x=o[d+1];x&&N.children[x]&&(j.children=Object.entries(N.children).map(([S,g])=>({path:S,label:g,href:`${l}/${S}`,isActive:S===x})))}m.push(j)}else m.push({path:p,label:p.charAt(0).toUpperCase()+p.slice(1).replace("-"," "),href:l,isActive:c})});const h=()=>{r(!s)},f=(p,d)=>{d||a(p)};return e.jsxs("nav",{className:"flex items-center justify-between gap-4 px-4 py-3 bg-white border-b border-neutral-200","aria-label":"Breadcrumb navigation",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm overflow-x-auto",children:[e.jsxs(X,{to:"/",className:"flex items-center gap-1 text-neutral-600 hover:text-primary-600 transition-colors p-1 rounded hover:bg-neutral-50","aria-label":"Go to home",children:[e.jsx(Ve,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Home"})]}),m.map((p,d)=>e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsx(_,{className:"w-4 h-4 text-neutral-400"}),p.children&&p.children.length>0?e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>i(n===p.path?null:p.path),className:"flex items-center gap-1 text-neutral-600 hover:text-primary-600 transition-colors p-1 rounded hover:bg-neutral-50","aria-expanded":n===p.path,"aria-haspopup":"menu",children:[e.jsx("span",{children:p.label}),e.jsx(_,{className:"w-3 h-3 rotate-90"})]}),n===p.path&&e.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-neutral-200 rounded-md shadow-lg z-50 min-w-48",children:p.children.map(c=>e.jsx(X,{to:c.href,className:`block px-3 py-2 text-sm hover:bg-neutral-50 transition-colors ${c.isActive?"text-primary-600 bg-primary-50":"text-neutral-700"}`,onClick:()=>i(null),children:c.label},c.path))})]}):e.jsx("button",{onClick:()=>f(p.href,!!p.children),className:`p-1 rounded transition-colors ${p.isActive?"text-primary-600 bg-primary-50 font-medium":"text-neutral-600 hover:text-primary-600 hover:bg-neutral-50"}`,disabled:p.isActive,children:p.label})]},p.path)),m.length>3&&e.jsxs("div",{className:"flex items-center gap-2 sm:hidden",children:[e.jsx(_,{className:"w-4 h-4 text-neutral-400"}),e.jsx(He,{className:"w-4 h-4 text-neutral-400"})]})]}),e.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:e.jsx("button",{onClick:h,className:`p-2 rounded-md transition-colors ${s?"bg-primary-100 text-primary-600":"text-neutral-600 hover:text-primary-600 hover:bg-neutral-50"}`,"aria-label":"Open global search",children:e.jsx(ke,{className:"w-4 h-4"})})}),e.jsx(Wt,{isOpen:s,onClose:()=>r(!1)})]})}const Vt={admin:[{name:"Dashboard",path:"/admin",icon:B},{name:"User Management",path:"/admin/users",icon:z},{name:"Bed Management",path:"/admin/beds",icon:ct},{name:"Analytics",path:"/admin/analytics",icon:te},{name:"Appointment Analytics",path:"/admin/appointment-analytics",icon:B},{name:"Demographics",path:"/admin/demographics",icon:z},{name:"Reminders",path:"/admin/reminders",icon:de},{name:"Feedback",path:"/admin/feedback",icon:ge},{name:"API Docs",path:"/admin/api-docs",icon:dt},{name:"Settings",path:"/admin/settings",icon:mt}],doctor:[{name:"Dashboard",path:"/doctor",icon:B},{name:"Patient Queue",path:"/doctor/queue",icon:z},{name:"Appointments",path:"/doctor/appointments",icon:U},{name:"Prescriptions",path:"/doctor/prescriptions",icon:W},{name:"E-Signature",path:"/doctor/prescription-signature",icon:lt},{name:"Performance",path:"/doctor/performance",icon:ot},{name:"Profile",path:"/doctor/profile",icon:re}],receptionist:[{name:"Dashboard",path:"/receptionist",icon:B},{name:"Appointments",path:"/receptionist/appointments",icon:U},{name:"Recurring Appts",path:"/receptionist/recurring-appointments",icon:ee},{name:"Waitlist",path:"/receptionist/waitlist",icon:nt},{name:"Patients",path:"/receptionist/patients",icon:z},{name:"Billing",path:"/receptionist/billing",icon:fe},{name:"Payment Plans",path:"/receptionist/billing/payment-plans",icon:it},{name:"Revenue Reports",path:"/receptionist/billing/revenue-reports",icon:te},{name:"Insurance Claims",path:"/receptionist/billing/insurance-claims",icon:ye}],nurse:[{name:"Dashboard",path:"/nurse",icon:B},{name:"Patient Records",path:"/nurse/patients",icon:Q},{name:"Vitals Entry",path:"/nurse/vitals",icon:rt},{name:"Medication Requests",path:"/nurse/medication-requests",icon:W},{name:"Ward Management",path:"/nurse/wards",icon:ye},{name:"Shift Handover",path:"/nurse/shift-handover",icon:ee}],pharmacist:[{name:"Dashboard",path:"/pharmacist",icon:B},{name:"Prescription Queue",path:"/pharmacist/prescriptions",icon:tt},{name:"Medication Requests",path:"/pharmacist/medication-requests",icon:W},{name:"Patient Records",path:"/pharmacist/patients",icon:Q},{name:"Inventory",path:"/pharmacist/inventory",icon:st},{name:"Expiry Alerts",path:"/pharmacist/expiry-alerts",icon:ce},{name:"Reorder",path:"/pharmacist/reorder-management",icon:ee},{name:"Batch Tracking",path:"/pharmacist/batch-tracking",icon:at},{name:"Analytics",path:"/pharmacist/inventory-analytics",icon:te}],lab:[{name:"Dashboard",path:"/lab",icon:Qe},{name:"Order Queue",path:"/lab/orders",icon:Q},{name:"Result Entry",path:"/lab/results",icon:et},{name:"Verification",path:"/lab/verification",icon:xe},{name:"Reports",path:"/lab/reports",icon:Ce}],patient:[{name:"Dashboard",path:"/patient-portal",icon:B},{name:"Health Summary",path:"/patient-portal/health-summary",icon:Ue},{name:"My Appointments",path:"/patient-portal/appointments",icon:U},{name:"Lab Results",path:"/patient-portal/lab-results",icon:_e},{name:"Prescriptions",path:"/patient-portal/prescriptions",icon:W},{name:"Medication Adherence",path:"/patient-portal/medication-adherence",icon:xe},{name:"Symptom Checker",path:"/patient-portal/symptom-checker",icon:Ge},{name:"Messages",path:"/patient-portal/messages",icon:Xe},{name:"Download Records",path:"/patient-portal/record-download",icon:Ye},{name:"Feedback",path:"/patient-portal/feedback",icon:ge},{name:"Medical Records",path:"/patient-portal/records",icon:Ze},{name:"Bills & Payments",path:"/patient-portal/bills",icon:fe},{name:"Video Consultation",path:"/patient-portal/video-consultation",icon:Ke},{name:"My Profile",path:"/patient-portal/profile",icon:re}]},Ht={admin:"text-admin",doctor:"text-doctor",receptionist:"text-receptionist",nurse:"text-nurse",pharmacist:"text-pharmacist",lab:"text-blue-600",patient:"text-teal-600"};function Ut({onClose:t}={}){const{user:a}=Y(i=>i.auth),s=$();if(!a)return null;const r=Vt[a.role]||[],n=Ht[a.role];return e.jsxs("div",{className:"w-[280px] h-screen bg-white border-r border-neutral-200 flex flex-col overflow-y-auto",role:"complementary","aria-label":"Sidebar navigation",children:[e.jsx("div",{className:"p-6 border-b border-neutral-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-small flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold",children:"AC"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-h4 text-neutral-900",children:"AroCord"}),e.jsx("p",{className:`text-body-sm capitalize ${n}`,children:a.role})]})]})}),e.jsx("nav",{className:"flex-1 p-4 overflow-y-auto",role:"navigation","aria-label":"Main navigation",children:e.jsx("ul",{className:"space-y-2",children:r.map(i=>e.jsx("li",{children:e.jsxs(ut,{to:i.path,end:i.path==="/doctor"||i.path==="/admin"||i.path==="/nurse"||i.path==="/receptionist"||i.path==="/pharmacist"||i.path==="/patient-portal"||i.path==="/lab",className:({isActive:o})=>`flex items-center space-x-3 px-3 py-3 rounded-small text-body transition-colors min-h-[44px] focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-opacity-50 ${o?"bg-primary-50 text-primary-700 font-medium":"text-neutral-600 hover:bg-neutral-50 hover:text-neutral-900"}`,onClick:()=>t==null?void 0:t(),"aria-label":`Navigate to ${i.name}`,children:[e.jsx(i.icon,{className:"w-5 h-5","aria-hidden":"true"}),e.jsx("span",{children:i.name})]})},i.path))})}),e.jsxs("div",{className:"p-4 border-t border-neutral-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"w-8 h-8 bg-neutral-200 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-neutral-600 text-sm",children:a.name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-body font-medium text-neutral-900",children:a.name}),e.jsx("p",{className:"text-body-sm text-neutral-500",children:a.email})]})]}),e.jsx("button",{onClick:()=>s(vt()),className:"w-full text-left px-3 py-2 text-body text-neutral-600 hover:bg-neutral-50 hover:text-neutral-900 rounded-small transition-colors min-h-[44px] focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-opacity-50","aria-label":"Sign out of your account",children:"Sign Out"})]})]})}function Us({icon:t,value:a,label:s,trend:r,trendUp:n,trendIndicator:i}){return e.jsxs(I,{className:"text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:t}),e.jsx("div",{className:"text-h2 text-neutral-900 mb-1",children:a}),e.jsx("div",{className:"text-body text-neutral-600 mb-2",children:s}),r&&e.jsx("div",{className:"text-body-sm text-neutral-600 mb-1",children:r}),i&&e.jsxs("div",{className:`text-body-sm flex items-center justify-center gap-1 ${i.value>=0?"text-success":"text-error"}`,children:[e.jsx("span",{children:i.value>=0?"↑":"↓"}),e.jsxs("span",{children:[Math.abs(i.value),"%"]}),e.jsx("span",{className:"text-neutral-500",children:i.label})]}),!i&&r&&e.jsxs("div",{className:`text-body-sm ${n?"text-success":"text-error"}`,children:[n?"↑":"↓"," ",r]})]})}function _s({columns:t,data:a,onRowClick:s}){return e.jsx("div",{className:"overflow-x-auto border border-neutral-200 rounded-lg",children:e.jsxs("table",{className:"min-w-full divide-y divide-neutral-200",children:[e.jsx("thead",{className:"bg-neutral-50",children:e.jsx("tr",{children:t.map(r=>e.jsx("th",{className:"px-6 py-3 text-left text-body-sm font-medium text-neutral-500 uppercase tracking-wider",scope:"col",children:r.header},r.key))})}),e.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:a.map((r,n)=>e.jsx("tr",{className:`
                ${n%2===0?"bg-white":"bg-neutral-50"}
                ${s?"cursor-pointer hover:bg-primary-50 transition-colors":""}
              `,onClick:()=>s==null?void 0:s(r),children:t.map(i=>e.jsx("td",{className:"px-6 py-4 text-body text-neutral-900",children:i.render?i.render(r[i.key],r):r[i.key]},i.key))},n))})]})})}u.forwardRef(({label:t,error:a,options:s,className:r,...n},i)=>e.jsxs("div",{className:"w-full",children:[t&&e.jsx("label",{className:"block text-body font-medium text-neutral-700 mb-1",children:t}),e.jsx("select",{ref:i,className:F("block w-full px-3 py-2 border rounded-minimal shadow-sm text-body","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",a?"border-error focus:ring-error focus:border-error":"border-neutral-300",r),...n,children:s.map(o=>e.jsx("option",{value:o.value,children:o.label},o.value))}),a&&e.jsx("p",{className:"mt-1 text-body-sm text-error",children:a})]}));function Gs({events:t=[],onDateSelect:a,onEventClick:s,selected:r,onSelect:n,minDate:i,className:o}){const[m,l]=u.useState(new Date),[h,f]=u.useState(null),p=["January","February","March","April","May","June","July","August","September","October","November","December"],d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],c=g=>{i&&g<i||(f(g),a==null||a(g),n==null||n(g))},N=g=>{l(new Date(m.getFullYear(),m.getMonth()+g,1))},x=(()=>{const g=m.getFullYear(),C=m.getMonth(),P=new Date(g,C,1),A=new Date(g,C+1,0).getDate(),y=P.getDay(),v=[];for(let D=0;D<y;D++)v.push(null);for(let D=1;D<=A;D++)v.push(new Date(g,C,D));return v})(),S=new Date;return e.jsxs("div",{className:`bg-white rounded-small border border-neutral-200 w-full ${o||""}`,children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200",children:[e.jsxs("h3",{className:"text-h4 text-neutral-900",children:[p[m.getMonth()]," ",m.getFullYear()]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(b,{variant:"tertiary",size:"sm",onClick:()=>N(-1),children:"←"}),e.jsx(b,{variant:"tertiary",size:"sm",onClick:()=>N(1),children:"→"})]})]}),e.jsxs("div",{className:"p-2 sm:p-4",children:[e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:d.map(g=>e.jsx("div",{className:"text-center text-xs sm:text-body-sm font-medium text-neutral-600 p-1 sm:p-2",children:g},g))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:x.map((g,C)=>{var A;if(!g)return e.jsx("div",{className:"min-h-[60px] sm:min-h-[80px]"},C);const P=g.toDateString()===S.toDateString(),T=((A=r||h)==null?void 0:A.toDateString())===g.toDateString();return e.jsxs("div",{className:`min-h-[60px] sm:min-h-[80px] p-1 border border-neutral-100 cursor-pointer hover:bg-neutral-50 ${P?"bg-primary-50":""} ${T?"bg-receptionist/10":""}`,onClick:()=>c(g),children:[e.jsx("div",{className:`text-xs sm:text-body-sm ${P?"font-semibold text-primary-600":""}`,children:g.getDate()}),e.jsx("div",{className:"space-y-1 mt-1",children:t.slice(0,1).map(y=>e.jsx("div",{className:"text-[8px] sm:text-[10px] p-1 bg-receptionist/20 text-receptionist rounded-minimal cursor-pointer",onClick:v=>{v.stopPropagation(),s==null||s(y)},children:y.time},y.id))})]},C)})})]})]})}const _t=({icon:t,title:a,description:s,action:r,className:n=""})=>{const i=e.jsx(Re,{className:"w-12 h-12 text-gray-400"});return e.jsxs("div",{className:`flex flex-col items-center justify-center py-12 px-4 text-center ${n}`,children:[e.jsx("div",{className:"mb-4",children:t||i}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:a}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md",children:s}),r&&e.jsx("button",{onClick:r.onClick,className:`px-4 py-2 rounded-lg font-medium transition-colors ${r.variant==="secondary"?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-blue-600 text-white hover:bg-blue-700"}`,children:r.label})]})},Xs=({onRefresh:t})=>e.jsx(_t,{icon:e.jsx(Re,{className:"w-12 h-12 text-gray-400"}),title:"No data available",description:"There's no data to display at the moment.",action:t?{label:"Refresh",onClick:t,variant:"secondary"}:void 0}),Ys=({size:t="md",variant:a="spinner"})=>{const s={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return a==="dots"?e.jsx("div",{className:"flex gap-1",children:[0,1,2].map(r=>e.jsx(M.div,{className:"w-2 h-2 bg-primary-600 rounded-full",animate:{y:[0,-10,0]},transition:{duration:.6,repeat:1/0,delay:r*.2}},r))}):a==="pulse"?e.jsx(M.div,{className:`${s[t]} bg-primary-600 rounded-full`,animate:{scale:[1,1.2,1],opacity:[1,.5,1]},transition:{duration:1.5,repeat:1/0}}):e.jsx(M.div,{className:`${s[t]} border-4 border-neutral-200 border-t-primary-600 rounded-full`,animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})};function Zs({patientName:t,age:a,gender:s,allergies:r,currentMedications:n,vitalSigns:i,lastVisit:o}){return e.jsxs(I,{className:"mb-4 bg-primary-50 border-primary-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-h4 text-neutral-900",children:t}),e.jsxs("p",{className:"text-body-sm text-neutral-600",children:[a,"Y • ",s," • Last visit: ",o||"First visit"]})]}),i&&e.jsxs("div",{className:"flex gap-2 text-body-sm",children:[e.jsxs("span",{children:["BP: ",i.bp]}),e.jsxs("span",{children:["HR: ",i.hr]}),e.jsxs("span",{children:["Temp: ",i.temp,"°F"]}),e.jsxs("span",{children:["O2: ",i.o2,"%"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm font-medium text-neutral-700 mb-1",children:"Allergies"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:r.length>0?r.map((m,l)=>e.jsx(k,{status:"error",children:m},l)):e.jsx("span",{className:"text-body-sm text-neutral-500",children:"None"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm font-medium text-neutral-700 mb-1",children:"Current Medications"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.length>0?n.slice(0,3).map((m,l)=>e.jsx(k,{status:"pending",children:m},l)):e.jsx("span",{className:"text-body-sm text-neutral-500",children:"None"}),n.length>3&&e.jsxs(k,{status:"sent",children:["+",n.length-3," more"]})]})]})]})]})}const w={PATIENTS:"hims_patients",NOTIFICATIONS:"hims_notifications",VITALS:"hims_vitals",PRESCRIPTIONS:"hims_prescriptions"},Gt=()=>{localStorage.getItem(w.PATIENTS)||localStorage.setItem(w.PATIENTS,JSON.stringify(ie)),localStorage.getItem(w.NOTIFICATIONS)||localStorage.setItem(w.NOTIFICATIONS,JSON.stringify(le)),localStorage.getItem(w.VITALS)||localStorage.setItem(w.VITALS,JSON.stringify(G)),localStorage.getItem(w.PRESCRIPTIONS)||localStorage.setItem(w.PRESCRIPTIONS,JSON.stringify(oe))},ie=[{id:"P001",name:"John Smith",age:45,gender:"Male",status:"in-progress",currentStage:"Consultation",assignedDoctor:"Dr. Wilson",waitTime:5,priority:"normal",allergies:["Penicillin"],medications:["Metformin 500mg"]},{id:"P002",name:"Sarah Johnson",age:32,gender:"Female",status:"waiting",currentStage:"Vitals Recording",assignedDoctor:"Dr. Brown",waitTime:12,priority:"urgent",allergies:["Sulfa drugs"],medications:["Lisinopril 10mg"]},{id:"P003",name:"Mike Davis",age:58,gender:"Male",status:"waiting",currentStage:"Pharmacy",assignedDoctor:"Dr. Wilson",waitTime:8,priority:"normal",allergies:[],medications:[]},{id:"P004",name:"Emily Chen",age:28,gender:"Female",status:"ready",currentStage:"Check-in",assignedDoctor:"Dr. Brown",waitTime:2,priority:"critical",allergies:["Aspirin"],medications:[]},{id:"P005",name:"Robert Taylor",age:65,gender:"Male",status:"in-progress",currentStage:"Lab Tests",assignedDoctor:"Dr. Wilson",waitTime:15,priority:"normal",allergies:[],medications:["Atorvastatin 20mg"]},{id:"P006",name:"Lisa Anderson",age:41,gender:"Female",status:"ready",currentStage:"Waiting Room",assignedDoctor:"Dr. Brown",waitTime:3,priority:"normal",allergies:["Latex"],medications:[]},{id:"P007",name:"David Martinez",age:52,gender:"Male",status:"waiting",currentStage:"Billing",assignedDoctor:"Dr. Wilson",waitTime:6,priority:"normal",allergies:[],medications:["Metoprolol 50mg"]},{id:"P008",name:"Jennifer White",age:36,gender:"Female",status:"in-progress",currentStage:"Consultation",assignedDoctor:"Dr. Brown",waitTime:10,priority:"urgent",allergies:["Iodine"],medications:[]}],le=[{id:"N001",type:"urgent",fromRole:"Nurse",toRole:"Doctor",title:"Patient Ready",message:"John Smith (P001) vitals complete - BP: 120/80, HR: 72",patientId:"P001",patientName:"John Smith",timestamp:Date.now()-12e4,priority:"high",read:!1},{id:"N002",type:"info",fromRole:"Doctor",toRole:"Pharmacy",title:"Prescription Ready",message:"Prescription ready for Sarah Johnson - 2 medications",patientId:"P002",patientName:"Sarah Johnson",timestamp:Date.now()-3e5,priority:"medium",read:!1},{id:"N003",type:"warning",fromRole:"Lab",toRole:"Doctor",title:"Critical Results",message:"Critical results for Michael Chen - HbA1c: 12.5%",patientId:"P003",patientName:"Michael Chen",timestamp:Date.now()-6e4,priority:"urgent",read:!1},{id:"N004",type:"success",fromRole:"Doctor",toRole:"Receptionist",title:"Consultation Complete",message:"Consultation complete for Jane Doe",patientId:"P004",patientName:"Jane Doe",timestamp:Date.now()-6e5,priority:"medium",read:!0}],G=[{patientId:"P001",bp:"120/80",hr:72,temp:98.6,o2:98,weight:180,height:70,recordedBy:"Nurse Sarah",timestamp:Date.now()-3e5},{patientId:"P002",bp:"140/90",hr:88,temp:99.2,o2:96,weight:145,height:65,recordedBy:"Nurse Sarah",timestamp:Date.now()-72e4},{patientId:"P004",bp:"110/70",hr:65,temp:98.4,o2:99,weight:125,height:64,recordedBy:"Nurse John",timestamp:Date.now()-18e4}],oe=[{id:"RX001",patientId:"P001",patientName:"John Smith",doctor:"Dr. Wilson",medications:[{name:"Metformin 500mg",dosage:"1 tablet",frequency:"Twice daily"}],status:"pending",priority:"normal",timestamp:Date.now()-6e5},{id:"RX002",patientId:"P002",patientName:"Sarah Johnson",doctor:"Dr. Brown",medications:[{name:"Lisinopril 10mg",dosage:"1 tablet",frequency:"Once daily"},{name:"Amlodipine 5mg",dosage:"1 tablet",frequency:"Once daily"}],status:"processing",priority:"high",timestamp:Date.now()-3e5}],R={init:()=>{Gt()},getPatients:()=>{const t=localStorage.getItem(w.PATIENTS);return t?JSON.parse(t):ie},getPatient:t=>R.getPatients().find(s=>s.id===t),updatePatient:(t,a)=>{const s=R.getPatients(),r=s.findIndex(n=>n.id===t);return r!==-1&&(s[r]={...s[r],...a},localStorage.setItem(w.PATIENTS,JSON.stringify(s))),s[r]},updatePatientStatus:(t,a,s)=>R.updatePatient(t,{status:a,currentStage:s}),getNotifications:()=>{const t=localStorage.getItem(w.NOTIFICATIONS);return t?JSON.parse(t):le},addNotification:t=>{const a=R.getNotifications(),s={id:`N${Date.now()}`,timestamp:Date.now(),read:!1,...t};return a.unshift(s),localStorage.setItem(w.NOTIFICATIONS,JSON.stringify(a)),s},markNotificationRead:t=>{const a=R.getNotifications(),s=a.find(r=>r.id===t);s&&(s.read=!0,localStorage.setItem(w.NOTIFICATIONS,JSON.stringify(a)))},clearNotifications:()=>{localStorage.setItem(w.NOTIFICATIONS,JSON.stringify([]))},getVitals:t=>{const a=localStorage.getItem(w.VITALS);return(a?JSON.parse(a):G).filter(r=>r.patientId===t)},addVitals:t=>{const a=localStorage.getItem(w.VITALS),s=a?JSON.parse(a):G,r={...t,timestamp:Date.now()};return s.push(r),localStorage.setItem(w.VITALS,JSON.stringify(s)),r},getPrescriptions:()=>{const t=localStorage.getItem(w.PRESCRIPTIONS);return t?JSON.parse(t):oe},getPrescription:t=>R.getPrescriptions().find(s=>s.id===t),addPrescription:t=>{const a=R.getPrescriptions(),s={id:`RX${Date.now()}`,timestamp:Date.now(),status:"pending",...t};return a.push(s),localStorage.setItem(w.PRESCRIPTIONS,JSON.stringify(a)),s},updatePrescriptionStatus:(t,a)=>{const s=R.getPrescriptions(),r=s.find(n=>n.id===t);return r&&(r.status=a,localStorage.setItem(w.PRESCRIPTIONS,JSON.stringify(s))),r},saveConsultation:(t,a)=>{const s=`consultation_${t}`;localStorage.setItem(s,JSON.stringify({...a,timestamp:Date.now()}))},getConsultation:t=>{const a=`consultation_${t}`,s=localStorage.getItem(a);return s?JSON.parse(s):null},resetAllData:()=>{localStorage.setItem(w.PATIENTS,JSON.stringify(ie)),localStorage.setItem(w.NOTIFICATIONS,JSON.stringify(le)),localStorage.setItem(w.VITALS,JSON.stringify(G)),localStorage.setItem(w.PRESCRIPTIONS,JSON.stringify(oe))}};R.init();class Xt{constructor(){L(this,"intervalId",null);L(this,"listeners",new Set);L(this,"isRunning",!1)}start(a=8e3){this.isRunning||(this.isRunning=!0,this.intervalId=setInterval(()=>{this.simulateUpdates(),this.notifyListeners()},a))}stop(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null,this.isRunning=!1)}subscribe(a){return this.listeners.add(a),()=>this.listeners.delete(a)}notifyListeners(){this.listeners.forEach(a=>a())}simulateUpdates(){const a=R.getPatients();if(a.length===0)return;const s=Math.random()>.5?1:2;for(let r=0;r<s;r++){const n=a[Math.floor(Math.random()*a.length)];this.updatePatientStatus(n)}Math.random()>.7&&this.generateNotification(a)}updatePatientStatus(a){const s=["Check-in","Vitals Recording","Waiting Room","Consultation","Lab Tests","Pharmacy","Billing"],r=["ready","in-progress","waiting"],n=s.indexOf(a.currentStage);n<s.length-1&&Math.random()>.6?R.updatePatient(a.id,{currentStage:s[n+1],status:r[Math.floor(Math.random()*r.length)],waitTime:Math.floor(Math.random()*20)+1}):R.updatePatient(a.id,{waitTime:Math.max(1,a.waitTime+Math.floor(Math.random()*3)-1)})}generateNotification(a){const s=a[Math.floor(Math.random()*a.length)],r=["urgent","info","warning"],n=[{title:"Patient Ready",message:`${s.name} vitals complete`,fromRole:"Nurse",toRole:"Doctor"},{title:"Lab Results",message:`Results available for ${s.name}`,fromRole:"Lab",toRole:"Doctor"},{title:"Prescription Ready",message:`Prescription ready for ${s.name}`,fromRole:"Doctor",toRole:"Pharmacy"}],i=n[Math.floor(Math.random()*n.length)];R.addNotification({type:r[Math.floor(Math.random()*r.length)],...i,patientId:s.id,patientName:s.name,priority:Math.random()>.7?"high":"medium"})}}const J=new Xt,pe=(t=!0)=>{const[a,s]=u.useState(!1),[r,n]=u.useState(0);return u.useEffect(()=>{t&&(J.start(),s(!0));const m=J.subscribe(()=>{n(l=>l+1)});return()=>{m(),t&&J.stop()}},[t]),{isRunning:a,start:()=>{J.start(),s(!0)},stop:()=>{J.stop(),s(!1)},updateCount:r}};function Ks(){const[t,a]=u.useState([]),{updateCount:s}=pe();u.useEffect(()=>{a(R.getPatients())},[s]);const r=i=>{switch(i){case"ready":return"bg-success";case"in-progress":return"bg-warning";case"waiting":return"bg-info";case"delayed":return"bg-error";default:return"bg-neutral-400"}},n=i=>{switch(i){case"ready":return"🟢";case"in-progress":return"🟡";case"waiting":return"🔴";case"delayed":return"⚫";default:return"⚪"}};return e.jsxs(I,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-h3 text-neutral-900",children:"Live Patient Journey Map"}),e.jsxs("div",{className:"flex gap-2 text-body-sm",children:[e.jsx("span",{children:"🟢 Ready"}),e.jsx("span",{children:"🟡 In Progress"}),e.jsx("span",{children:"🔴 Waiting"}),e.jsx("span",{children:"⚫ Delayed"})]})]}),e.jsx("div",{className:"space-y-3",children:t.map(i=>e.jsxs("div",{className:`p-4 rounded-small border-l-4 ${i.priority==="critical"?"border-error bg-error/5":i.priority==="urgent"?"border-warning bg-warning/5":"border-neutral-300 bg-white"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:n(i.status)}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"text-body font-medium",children:i.name}),e.jsxs("span",{className:"text-body-sm text-neutral-600",children:["(",i.id,")"]}),i.priority!=="normal"&&e.jsx(k,{status:i.priority==="critical"?"error":"pending",children:i.priority.toUpperCase()})]}),e.jsx("p",{className:"text-body-sm text-neutral-600",children:i.assignedDoctor})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-body-sm font-medium",children:i.currentStage}),e.jsxs("p",{className:"text-body-sm text-neutral-600",children:["Wait: ",i.waitTime," min"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-neutral-200",children:[e.jsxs("p",{className:"text-body-sm text-neutral-700",children:["Next: ",i.currentStage]}),e.jsx("div",{className:`w-2 h-2 rounded-full ${r(i.status)} animate-pulse`})]})]},i.id))}),e.jsxs("div",{className:"grid grid-cols-4 gap-3 mt-4 pt-4 border-t border-neutral-200",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-h4 text-success",children:t.filter(i=>i.status==="ready").length}),e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Ready"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-h4 text-warning",children:t.filter(i=>i.status==="in-progress").length}),e.jsx("p",{className:"text-body-sm text-neutral-600",children:"In Progress"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-h4 text-info",children:t.filter(i=>i.status==="waiting").length}),e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Waiting"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-h4 text-neutral-700",children:[Math.round(t.reduce((i,o)=>i+o.waitTime,0)/t.length)," min"]}),e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Avg Wait"})]})]})]})}function Qs(){const t=me(),[a,s]=u.useState([]),{updateCount:r}=pe();u.useEffect(()=>{s(R.getNotifications())},[r]);const n=l=>{switch(l){case"urgent":return"border-l-4 border-error bg-error/5";case"warning":return"border-l-4 border-warning bg-warning/5";case"success":return"border-l-4 border-success bg-success/5";default:return"border-l-4 border-info bg-info/5"}},i=(l,h)=>{R.markNotificationRead(l),t(h)},o=l=>{const h=Math.floor((Date.now()-l)/6e4);if(h<1)return"Just now";if(h<60)return`${h} min ago`;const f=Math.floor(h/60);return`${f} hour${f>1?"s":""} ago`},m=a.filter(l=>!l.read).length;return e.jsxs(I,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-h3 text-neutral-900",children:"Smart Notifications"}),e.jsxs(k,{status:"error",children:[m," New"]})]}),e.jsx("div",{className:"space-y-3",children:a.slice(0,5).map(l=>e.jsxs("div",{className:`p-4 rounded-small ${n(l.type)} ${l.read?"opacity-60":""}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"text-body font-medium",children:l.title}),l.priority==="urgent"&&e.jsx(k,{status:"error",children:"URGENT"})]}),e.jsx("p",{className:"text-body-sm text-neutral-700 mb-2",children:l.message}),e.jsx("div",{className:"p-2 bg-white rounded-small mb-2",children:e.jsxs("p",{className:"text-body-sm",children:[e.jsx("span",{className:"font-medium",children:l.patientName})," ","(",l.patientId,")"]})})]}),e.jsx("span",{className:"text-body-sm text-neutral-600 ml-3",children:o(l.timestamp)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{variant:"primary",size:"sm",onClick:()=>i(l.id,`/doctor/consultation/${l.patientId}`),children:"Start Consultation"}),e.jsx(b,{variant:"secondary",size:"sm",onClick:()=>i(l.id,`/doctor/patients/${l.patientId}`),children:"View Details"})]}),e.jsx("div",{className:"mt-2 pt-2 border-t border-neutral-200",children:e.jsxs("p",{className:"text-body-sm text-neutral-600",children:["From: ",e.jsx("span",{className:"font-medium",children:l.fromRole})," → To: ",e.jsx("span",{className:"font-medium",children:l.toRole})]})})]},l.id))})]})}function ea({onSelect:t}){const a=[{diagnosis:"Type 2 Diabetes - Uncontrolled",icd10:"E11.65",confidence:92,treatments:["Metformin 500mg","Lifestyle modification","HbA1c monitoring"],reasoning:"Based on elevated blood sugar, patient history, and symptoms"},{diagnosis:"Hypertension",icd10:"I10",confidence:85,treatments:["Lisinopril 10mg","Low sodium diet","Regular BP monitoring"],reasoning:"Consistent elevated BP readings, family history"},{diagnosis:"Upper Respiratory Infection",icd10:"J06.9",confidence:78,treatments:["Amoxicillin 500mg","Rest","Fluids"],reasoning:"Symptoms align with viral/bacterial URI"}];return e.jsxs(I,{className:"bg-primary-50 border-primary-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:"text-2xl",children:"🤖"}),e.jsx("h3",{className:"text-h4 text-neutral-900",children:"AI-Powered Suggestions"})]}),e.jsx("div",{className:"space-y-2",children:a.map((s,r)=>e.jsxs("div",{className:"p-3 bg-white rounded-small cursor-pointer hover:bg-primary-100 border border-primary-200",onClick:()=>t(s),children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-body font-medium",children:s.diagnosis}),e.jsx("p",{className:"text-body-sm text-neutral-600",children:s.icd10})]}),e.jsxs(k,{status:s.confidence>85?"delivered":"pending",children:[s.confidence,"% confidence"]})]}),e.jsx("p",{className:"text-body-sm text-neutral-600 mb-2",children:s.reasoning}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.treatments.map((n,i)=>e.jsx("span",{className:"text-xs px-2 py-1 bg-primary-100 rounded-small",children:n},i))})]},r))})]})}function ta({}){const t=[{id:"1",category:"Documentation",check:"Chief Complaint Documented",status:"pass"},{id:"2",category:"Documentation",check:"Diagnosis with ICD-10 Code",status:"pass"},{id:"3",category:"Safety",check:"Allergy Verification",status:"pass",message:"Checked against 2 known allergies"},{id:"4",category:"Safety",check:"Drug Interaction Check",status:"pass",message:"No interactions found"},{id:"5",category:"Clinical",check:"Vital Signs Reviewed",status:"pass"},{id:"6",category:"Clinical",check:"Treatment Plan Documented",status:"pass"},{id:"7",category:"Compliance",check:"Follow-up Scheduled",status:"warning",message:"Recommended for chronic condition"},{id:"8",category:"Compliance",check:"Patient Education Provided",status:"pass"}],a=t.filter(n=>n.status==="pass").length,s=t.filter(n=>n.status==="warning").length,r=t.filter(n=>n.status==="fail").length;return e.jsxs(I,{className:r>0?"bg-error/10":s>0?"bg-warning/10":"bg-success/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-h4 text-neutral-900",children:"Automated Quality Checks"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(k,{status:"delivered",children:[a," Pass"]}),s>0&&e.jsxs(k,{status:"pending",children:[s," Warning"]}),r>0&&e.jsxs(k,{status:"error",children:[r," Fail"]})]})]}),e.jsx("div",{className:"space-y-3",children:["Documentation","Safety","Clinical","Compliance"].map(n=>e.jsxs("div",{children:[e.jsx("h4",{className:"text-body-sm font-medium text-neutral-700 mb-2",children:n}),e.jsx("div",{className:"space-y-1",children:t.filter(i=>i.category===n).map(i=>e.jsx("div",{className:"flex items-start justify-between p-2 bg-white rounded-small",children:e.jsxs("div",{className:"flex items-start gap-2 flex-1",children:[e.jsx("span",{className:"text-lg",children:i.status==="pass"?"✅":i.status==="warning"?"⚠️":"❌"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm font-medium",children:i.check}),i.message&&e.jsx("p",{className:"text-body-sm text-neutral-600",children:i.message})]})]})},i.id))})]},n))}),r===0&&s===0&&e.jsx("div",{className:"mt-4 p-3 bg-success/20 rounded-small text-center",children:e.jsx("p",{className:"text-body font-medium text-success",children:"✅ All quality checks passed - Ready for completion"})})]})}function sa(){const t={currentLoad:75,predictedWaitTime:18,bottlenecks:["Doctor consultation","Lab processing"],recommendations:["Activate additional consultation room","Pre-order common lab tests","Notify backup doctor for peak hours"]},a=[{id:"P005",name:"Alice Brown",eta:"5 min",complexity:"low",predictedTime:"8 min"},{id:"P006",name:"Bob Wilson",eta:"12 min",complexity:"high",predictedTime:"15 min"},{id:"P007",name:"Carol Davis",eta:"20 min",complexity:"medium",predictedTime:"10 min"}];return e.jsxs(I,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-h4 text-neutral-900",children:"🔮 Predictive Patient Flow"}),e.jsxs(k,{status:"pending",children:[t.currentLoad,"% Load"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"p-3 bg-info/10 rounded-small",children:[e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Predicted Wait Time"}),e.jsxs("p",{className:"text-h3 text-info",children:[t.predictedWaitTime," min"]})]}),e.jsxs("div",{className:"p-3 bg-warning/10 rounded-small",children:[e.jsx("p",{className:"text-body-sm text-neutral-600",children:"System Load"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 bg-neutral-200 rounded-full h-2",children:e.jsx("div",{className:"bg-warning h-2 rounded-full",style:{width:`${t.currentLoad}%`}})}),e.jsxs("span",{className:"text-body-sm font-medium",children:[t.currentLoad,"%"]})]})]})]}),t.bottlenecks.length>0&&e.jsxs("div",{className:"mb-4 p-3 bg-error/10 rounded-small",children:[e.jsx("p",{className:"text-body-sm font-medium text-error mb-2",children:"⚠️ Detected Bottlenecks:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.bottlenecks.map((s,r)=>e.jsx(k,{status:"error",children:s},r))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-body-sm font-medium mb-2",children:"AI Recommendations:"}),e.jsx("ul",{className:"space-y-1",children:t.recommendations.map((s,r)=>e.jsxs("li",{className:"text-body-sm flex items-start gap-2 p-2 bg-success/10 rounded-small",children:[e.jsx("span",{className:"text-success",children:"✓"}),e.jsx("span",{children:s})]},r))})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm font-medium mb-2",children:"Upcoming Patients (Predicted):"}),e.jsx("div",{className:"space-y-2",children:a.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-neutral-50 rounded-small",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm font-medium",children:s.name}),e.jsxs("p",{className:"text-body-sm text-neutral-600",children:["ETA: ",s.eta]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(k,{status:s.complexity==="high"?"error":s.complexity==="medium"?"pending":"delivered",children:s.complexity}),e.jsxs("p",{className:"text-body-sm text-neutral-600 mt-1",children:["~",s.predictedTime]})]})]},s.id))})]})]})}function aa({isOpen:t,onClose:a,notification:s,onAction:r}){const n=l=>{switch(l){case"urgent":return"error";case"high":return"error";case"medium":return"pending";default:return"sent"}},i=l=>{switch(l){case"urgent":return"🚨";case"error":return"❌";case"warning":return"⚠️";case"success":return"✅";default:return"ℹ️"}},o=l=>{const h=typeof l=="number"?new Date(l):new Date(l);return ne(h,"MMM dd, yyyy HH:mm")},m=[{label:"Start Consultation",action:"start-consultation",variant:"primary"},{label:"View Patient History",action:"view-history",variant:"secondary"},{label:"Send Message",action:"send-message",variant:"secondary"}];return e.jsx(ue,{isOpen:t,onClose:a,title:"Notification Details",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"text-4xl",children:i(s.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:s.title}),e.jsx(k,{status:n(s.priority),children:s.priority.toUpperCase()})]}),e.jsx("p",{className:"text-sm text-neutral-600",children:s.message})]})]}),s.patientName&&e.jsxs("div",{className:"p-4 bg-neutral-50 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900 mb-3",children:"Patient Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-neutral-600",children:"Name"}),e.jsx("p",{className:"text-sm font-medium text-neutral-900",children:s.patientName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-neutral-600",children:"Patient ID"}),e.jsx("p",{className:"text-sm font-medium text-neutral-900",children:s.patientId})]}),s.patientAge&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-neutral-600",children:"Age"}),e.jsxs("p",{className:"text-sm font-medium text-neutral-900",children:[s.patientAge," years"]})]}),s.patientGender&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-neutral-600",children:"Gender"}),e.jsx("p",{className:"text-sm font-medium text-neutral-900 capitalize",children:s.patientGender})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-neutral-600 mb-1",children:"Timestamp"}),e.jsx("p",{className:"text-sm font-medium text-neutral-900",children:o(s.timestamp)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-neutral-600 mb-1",children:"Type"}),e.jsx("p",{className:"text-sm font-medium text-neutral-900 capitalize",children:s.type})]}),s.fromRole&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-neutral-600 mb-1",children:"From"}),e.jsx("p",{className:"text-sm font-medium text-neutral-900 capitalize",children:s.fromRole})]}),s.toRole&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-neutral-600 mb-1",children:"To"}),e.jsx("p",{className:"text-sm font-medium text-neutral-900 capitalize",children:s.toRole})]}),s.category&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-neutral-600 mb-1",children:"Category"}),e.jsx("p",{className:"text-sm font-medium text-neutral-900 capitalize",children:s.category})]})]}),s.patientId&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-neutral-900 mb-3",children:"Recommended Actions"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(l=>e.jsx(b,{variant:l.variant,size:"sm",onClick:()=>{r==null||r(l.action),a()},children:l.label},l.action))})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t border-neutral-200",children:[e.jsx(b,{variant:"secondary",onClick:a,children:"Close"}),e.jsx(b,{variant:"primary",onClick:a,children:"Mark as Read"})]})]})})}const Yt=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];function ra(){const[t,a]=u.useState(Yt.map(d=>({day:d,enabled:d!=="Sunday",slots:d!=="Sunday"?[{start:"09:00",end:"13:00",type:"both"},{start:"17:00",end:"20:00",type:"both"}]:[],breakTime:d!=="Sunday"?{start:"13:00",end:"14:00"}:void 0}))),[s,r]=u.useState(!1),n=d=>{const c=[...t];c[d].enabled=!c[d].enabled,c[d].enabled||(c[d].slots=[],c[d].breakTime=void 0),a(c)},i=d=>{const c=[...t];c[d].slots.push({start:"09:00",end:"17:00",type:"both"}),a(c)},o=(d,c)=>{const N=[...t];N[d].slots.splice(c,1),a(N)},m=(d,c,N,j)=>{const x=[...t];x[d].slots[c]={...x[d].slots[c],[N]:j},a(x)},l=(d,c,N)=>{const j=[...t];j[d].breakTime||(j[d].breakTime={start:"13:00",end:"14:00"}),j[d].breakTime[c]=N,a(j)},h=()=>{jt.success("Schedule updated successfully"),r(!1)},f=()=>{r(!1)},p=d=>{switch(d){case"in-person":return"🏥";case"teleconsultation":return"💻";case"both":return"🏥💻";default:return""}};return e.jsxs(I,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-neutral-900",children:"Weekly Schedule"}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"Manage your working hours and consultation types"})]}),s?e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{variant:"secondary",onClick:f,children:"Cancel"}),e.jsx(b,{variant:"primary",onClick:h,children:"💾 Save Changes"})]}):e.jsx(b,{variant:"primary",onClick:()=>r(!0),children:"✏️ Edit Schedule"})]}),e.jsx("div",{className:"space-y-4",children:t.map((d,c)=>{var N,j,x,S;return e.jsxs("div",{className:`p-4 border-2 rounded-lg transition-all ${d.enabled?"border-primary-200 bg-primary-50/30":"border-neutral-200 bg-neutral-50"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:d.enabled,onChange:()=>s&&n(c),disabled:!s,className:"w-4 h-4 text-primary-600 rounded focus:ring-2 focus:ring-primary-500"}),e.jsx("span",{className:"text-base font-semibold text-neutral-900",children:d.day})]}),!d.enabled&&e.jsx("span",{className:"text-sm text-neutral-500 italic",children:"Off"})]}),s&&d.enabled&&e.jsx(b,{size:"sm",variant:"secondary",onClick:()=>i(c),children:"+ Add Slot"})]}),d.enabled&&e.jsxs("div",{className:"space-y-3 ml-6",children:[d.slots.map((g,C)=>e.jsx("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border border-neutral-200",children:s?e.jsxs(e.Fragment,{children:[e.jsx(H,{type:"time",value:g.start,onChange:P=>m(c,C,"start",P.target.value),className:"w-32"}),e.jsx("span",{className:"text-neutral-600",children:"to"}),e.jsx(H,{type:"time",value:g.end,onChange:P=>m(c,C,"end",P.target.value),className:"w-32"}),e.jsxs("select",{value:g.type,onChange:P=>m(c,C,"type",P.target.value),className:"px-3 py-2 border border-neutral-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"in-person",children:"In-Person"}),e.jsx("option",{value:"teleconsultation",children:"Teleconsultation"}),e.jsx("option",{value:"both",children:"Both"})]}),e.jsx(b,{size:"sm",variant:"secondary",onClick:()=>o(c,C),className:"ml-auto",children:"🗑️"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-sm font-medium text-neutral-900",children:[g.start," - ",g.end]}),e.jsxs("span",{className:"text-sm text-neutral-600",children:[p(g.type)," ",g.type==="both"?"In-Person & Teleconsultation":g.type==="in-person"?"In-Person":"Teleconsultation"]})]})},C)),e.jsx("div",{className:"p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm font-medium text-neutral-900",children:"☕ Break:"}),s?e.jsxs(e.Fragment,{children:[e.jsx(H,{type:"time",value:((N=d.breakTime)==null?void 0:N.start)||"13:00",onChange:g=>l(c,"start",g.target.value),className:"w-32"}),e.jsx("span",{className:"text-neutral-600",children:"to"}),e.jsx(H,{type:"time",value:((j=d.breakTime)==null?void 0:j.end)||"14:00",onChange:g=>l(c,"end",g.target.value),className:"w-32"})]}):e.jsxs("span",{className:"text-sm text-neutral-700",children:[((x=d.breakTime)==null?void 0:x.start)||"13:00"," - ",((S=d.breakTime)==null?void 0:S.end)||"14:00"]})]})})]})]},d.day)})}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-semibold text-neutral-900 mb-2",children:"📊 Weekly Summary"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-neutral-600",children:"Working Days"}),e.jsxs("p",{className:"font-semibold text-neutral-900",children:[t.filter(d=>d.enabled).length," days"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-neutral-600",children:"Total Slots"}),e.jsxs("p",{className:"font-semibold text-neutral-900",children:[t.reduce((d,c)=>d+c.slots.length,0)," slots"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-neutral-600",children:"Teleconsultation"}),e.jsxs("p",{className:"font-semibold text-neutral-900",children:[t.reduce((d,c)=>d+c.slots.filter(N=>N.type!=="in-person").length,0)," slots"]})]})]})]})]})}function Zt(){return e.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-primary-600 focus:text-white focus:rounded-md focus:shadow-lg",children:"Skip to main content"})}const Kt={focusStyles:"focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2"},Qt=u.forwardRef(({variant:t="primary",size:a="md",fullWidth:s=!1,loading:r=!1,icon:n,iconPosition:i="left",children:o,className:m="",disabled:l,...h},f)=>{const p=`
      inline-flex items-center justify-center
      font-medium rounded-md transition-colors
      disabled:opacity-50 disabled:cursor-not-allowed
      ${Kt.focusStyles}
    `,d={primary:"bg-primary-600 text-white hover:bg-primary-700 active:bg-primary-800",secondary:"bg-neutral-100 text-neutral-900 hover:bg-neutral-200 active:bg-neutral-300",danger:"bg-red-600 text-white hover:bg-red-700 active:bg-red-800",ghost:"bg-transparent text-neutral-700 hover:bg-neutral-100 active:bg-neutral-200"},c={sm:"min-h-[44px] px-3 py-2 text-sm",md:"min-h-[48px] px-4 py-2.5 text-base",lg:"min-h-[56px] px-6 py-3 text-lg"},N=s?"w-full":"";return e.jsxs("button",{ref:f,className:`${p} ${d[t]} ${c[a]} ${N} ${m}`,disabled:l||r,...h,children:[r&&e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n&&i==="left"&&e.jsx("span",{className:"mr-2",children:n}),o,n&&i==="right"&&e.jsx("span",{className:"ml-2",children:n})]})});Qt.displayName="ResponsiveButton";const es=u.forwardRef(({padding:t="md",hoverable:a=!1,clickable:s=!1,className:r="",children:n,...i},o)=>{const m="bg-white rounded-lg border border-neutral-200 shadow-sm",l={none:"",sm:"p-3 sm:p-4",md:"p-4 sm:p-6",lg:"p-6 sm:p-8"},h=a?"hover:shadow-md transition-shadow":"",f=s?"cursor-pointer active:scale-[0.98] transition-transform":"";return e.jsx("div",{ref:o,className:`${m} ${l[t]} ${h} ${f} ${r}`,...i,children:n})});es.displayName="ResponsiveCard";const ts=({className:t})=>e.jsx("span",{className:t,children:"🔔"}),ss=({className:t})=>e.jsx("span",{className:t,children:"❌"}),as=({className:t})=>e.jsx("span",{className:t,children:"✅"}),rs=({className:t})=>e.jsx("span",{className:t,children:"⚠️"}),ns=({className:t})=>e.jsx("span",{className:t,children:"ℹ️"}),is=({className:t})=>e.jsx("span",{className:t,children:"⚠️"}),Ne=({userRole:t})=>{const{notifications:a,unreadCount:s}=Y(x=>x.notifications),r=$(),[n,i]=V.useState(!1),[o,m]=V.useState("all"),[l,h]=V.useState("all"),f=a.filter(x=>{const S=!t||!x.targetRole||x.targetRole===t,g=o==="all"||x.category===o,C=l==="all"||x.priority===l;return S&&g&&C}),p=x=>{switch(x){case"success":return e.jsx(as,{className:"w-4 h-4 text-green-500"});case"warning":return e.jsx(rs,{className:"w-4 h-4 text-yellow-500"});case"error":return e.jsx(is,{className:"w-4 h-4 text-red-500"});default:return e.jsx(ns,{className:"w-4 h-4 text-blue-500"})}},d=x=>{switch(x){case"urgent":return"text-red-600 bg-red-50";case"high":return"text-orange-600 bg-orange-50";case"medium":return"text-blue-600 bg-blue-50";case"low":return"text-gray-600 bg-gray-50";default:return"text-gray-600 bg-gray-50"}},c=x=>{r(St(x))},N=x=>{r(kt(x))},j=()=>{r(Ct())};return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>i(!n),className:"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(ts,{className:"w-5 h-5"}),s>0&&e.jsx("span",{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] text-xs flex items-center justify-center bg-red-500 text-white rounded-full",children:s>99?"99+":s})]}),n&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)}),e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-96 bg-white rounded-lg shadow-lg border border-gray-200 z-50 max-h-[500px] overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"}),s>0&&e.jsx(b,{variant:"secondary",size:"sm",onClick:j,children:"Mark all read"})]}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsxs("select",{value:o,onChange:x=>m(x.target.value),className:"text-xs px-2 py-1 border border-gray-300 rounded",children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"medication",children:"Medication"}),e.jsx("option",{value:"appointment",children:"Appointments"}),e.jsx("option",{value:"lab",children:"Lab Results"}),e.jsx("option",{value:"patient",children:"Patients"}),e.jsx("option",{value:"system",children:"System"})]}),e.jsxs("select",{value:l,onChange:x=>h(x.target.value),className:"text-xs px-2 py-1 border border-gray-300 rounded",children:[e.jsx("option",{value:"all",children:"All Priority"}),e.jsx("option",{value:"urgent",children:"Urgent"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"low",children:"Low"})]})]})]}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:f.length===0?e.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications"}):f.map(x=>e.jsx("div",{className:`p-4 border-b border-gray-100 hover:bg-gray-50 ${x.read?"":"bg-blue-50"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[p(x.type),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:x.title}),e.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs font-medium ${d(x.priority)}`,children:x.priority})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.message}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("p",{className:"text-xs text-gray-500",children:new Date(x.timestamp).toLocaleString()}),x.category&&e.jsxs("span",{className:"text-xs text-gray-400 capitalize",children:["• ",x.category]})]})]}),e.jsx("button",{onClick:()=>N(x.id),className:"text-gray-400 hover:text-gray-600 ml-2",children:e.jsx(ss,{className:"w-4 h-4"})})]}),!x.read&&e.jsx("button",{onClick:()=>c(x.id),className:"text-xs text-blue-600 hover:text-blue-800 mt-2",children:"Mark as read"})]})]})},x.id))})]})]})]})},ls=({userRole:t})=>{const a=$();return u.useEffect(()=>{const s=setInterval(()=>{os(t).forEach(n=>{switch(n.type){case"medication_status_update":n.data&&a(Pt({id:n.relatedId,status:n.data.status,processedBy:n.data.processedBy})),a(q({role:n.targetRole,type:"info",title:n.title,message:n.message,category:"medication",priority:n.priority,relatedId:n.relatedId}));break;case"prescription_ready":a(It({id:n.relatedId,status:"ready",processedBy:"Pharmacist John"})),a(q({role:n.targetRole,type:"success",title:n.title,message:n.message,category:"medication",priority:n.priority,relatedId:n.relatedId}));break;case"lab_results_ready":a(Bt({id:n.relatedId,status:"completed",completedDate:new Date().toISOString()})),a(q({role:n.targetRole,type:"info",title:n.title,message:n.message,category:"lab",priority:n.priority,relatedId:n.relatedId}));break;case"patient_arrived":a(q({role:n.targetRole,type:"info",title:n.title,message:n.message,category:"appointment",priority:n.priority,relatedId:n.relatedId}));break;case"emergency_alert":a(q({role:n.targetRole,type:"error",title:n.title,message:n.message,category:"patient",priority:"urgent",relatedId:n.relatedId}));break}})},3e4);return()=>clearInterval(s)},[a,t]),null};function os(t){const a=[];if(Math.random()<.1)switch(t){case"nurse":Math.random()<.5?a.push({type:"medication_status_update",targetRole:"nurse",title:"Medication Dispatched",message:"Paracetamol for John Smith has been dispatched from pharmacy",priority:"medium",relatedId:"MR001",data:{status:"dispatched",processedBy:"Pharmacist John"}}):a.push({type:"patient_arrived",targetRole:"nurse",title:"Patient Arrived",message:"Sarah Johnson has arrived for her appointment",priority:"medium",relatedId:"P002"});break;case"doctor":Math.random()<.5?a.push({type:"lab_results_ready",targetRole:"doctor",title:"Lab Results Available",message:"CBC results for John Smith are ready for review",priority:"high",relatedId:"LAB001"}):a.push({type:"patient_arrived",targetRole:"doctor",title:"Patient Ready",message:"Michael Davis is ready for consultation in Room 3",priority:"medium",relatedId:"P003"});break;case"pharmacy":a.push({type:"prescription_ready",targetRole:"pharmacy",title:"New Prescription",message:"New prescription from Dr. Wilson requires processing",priority:"medium",relatedId:"RX003"});break;case"receptionist":a.push({type:"patient_arrived",targetRole:"receptionist",title:"Patient Check-in",message:"Emma Wilson has arrived for her 2:00 PM appointment",priority:"medium",relatedId:"P004"});break;case"admin":Math.random()<.3&&a.push({type:"emergency_alert",targetRole:"admin",title:"System Alert",message:"Server response time is above normal threshold",priority:"urgent",relatedId:"SYS001"});break}return a}const na=({children:t})=>{const{user:a}=Y(o=>o.auth),[s,r]=u.useState(!1),[n,i]=u.useState(!1);return u.useEffect(()=>{const o=()=>{r(window.innerWidth<768),window.innerWidth>=768&&i(!1)};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]),a?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Zt,{}),s&&e.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between lg:hidden sticky top-0 z-30",children:[e.jsx("button",{onClick:()=>i(!n),className:"p-3 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100 min-h-[44px] min-w-[44px] flex items-center justify-center","aria-label":"Toggle sidebar",children:e.jsx("span",{className:"text-xl",children:n?"✕":"☰"})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900 truncate",children:"AroCord HIMS"}),e.jsx("div",{className:"min-h-[44px] min-w-[44px] flex items-center justify-center",children:e.jsx(Ne,{})})]}),e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:`${s?`fixed inset-y-0 left-0 z-50 transform ${n?"translate-x-0":"-translate-x-full"} transition-transform duration-200 ease-out w-sidebar`:"relative"}`,children:e.jsx(Ut,{onClose:()=>i(!1)})}),s&&n&&e.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden transition-opacity duration-200",onClick:()=>i(!1),onTouchStart:()=>i(!1)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[!s&&e.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("h1",{className:"text-xl font-semibold text-gray-900",children:[a.role.charAt(0).toUpperCase()+a.role.slice(1)," Dashboard"]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(Ne,{}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-gray-600",children:a.name.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"hidden sm:block",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.name}),e.jsx("p",{className:"text-xs text-gray-500",children:a.email})]})]})]})]}),e.jsxs("main",{id:"main-content",className:`${s?"p-3 pt-4":"p-6"} max-w-full overflow-x-auto min-h-screen`,children:[e.jsx(qt,{}),t]})]})]}),e.jsx(ls,{userRole:a.role})]}):null};function cs(t,a={}){var A;const s=typeof t=="string"?t:"ws://localhost:8080",r=typeof t=="object"?t:a,{enabled:n=!0,reconnectAttempts:i=3,reconnectInterval:o=3e3,onOpen:m,onClose:l,onMessage:h}=r,[f,p]=u.useState(!1),[d,c]=u.useState("disconnected"),[N,j]=u.useState(null),[x,S]=u.useState(null),g=u.useRef(null),C=u.useRef(0),P=u.useCallback(y=>{g.current&&g.current.readyState===WebSocket.OPEN&&g.current.send(JSON.stringify(y))},[]),T=u.useCallback(()=>{if(n)try{c("connecting"),S(null),g.current=new WebSocket(s),g.current.onopen=()=>{p(!0),c("connected"),C.current=0,m==null||m()},g.current.onmessage=y=>{try{const v=JSON.parse(y.data);j(v),h==null||h(v)}catch{j(y.data),h==null||h(y.data)}},g.current.onclose=()=>{p(!1),c("disconnected"),l==null||l(),C.current<i&&(C.current++,setTimeout(T,o))},g.current.onerror=()=>{S("WebSocket connection error"),c("error")}}catch{S("Failed to create WebSocket connection"),c("error")}},[n,s,i,o]);return u.useEffect(()=>(n&&T(),()=>{g.current&&g.current.close()}),[T,n]),{isConnected:f,connectionStatus:d,sendMessage:P,lastMessage:N,readyState:((A=g.current)==null?void 0:A.readyState)??WebSocket.CLOSED,error:x}}const ds=u.createContext(void 0);function ia({children:t,enabled:a=!0}){const s=cs({enabled:a});return V.useEffect(()=>{const r=n=>{s.isConnected&&s.sendMessage(n.detail)};return window.addEventListener("websocket-send",r),()=>window.removeEventListener("websocket-send",r)},[s]),e.jsx(ds.Provider,{value:s,children:t})}const ms=({isOpen:t,onClose:a})=>{const s=$(),[r,n]=u.useState(""),[i,o]=u.useState(""),[m,l]=u.useState(""),h=()=>{s(be({type:"error",title:"🚨 EMERGENCY ALERT",message:"${alertType} at ${location}: ${description}",priority:"urgent",category:"system"})),setTimeout(()=>{s(be({type:"info",title:"Emergency Response",message:"Emergency team has been notified and is responding",priority:"medium",category:"system"}))},2e3),a(),n(""),o(""),l("")};return e.jsx(ue,{isOpen:t,onClose:a,title:"🚨 Emergency Alert System",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-red-800 text-sm font-medium",children:"⚠️ This will send an immediate alert to all hospital staff"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Emergency Type"}),e.jsxs("select",{value:r,onChange:f=>n(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select emergency type"}),e.jsx("option",{value:"Code Blue",children:"Code Blue - Cardiac Arrest"}),e.jsx("option",{value:"Code Red",children:"Code Red - Fire Emergency"}),e.jsx("option",{value:"Code Gray",children:"Code Gray - Security Alert"}),e.jsx("option",{value:"Code Yellow",children:"Code Yellow - Missing Patient"}),e.jsx("option",{value:"Code Green",children:"Code Green - Emergency Activation"}),e.jsx("option",{value:"Code Black",children:"Code Black - Bomb Threat"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),e.jsx("input",{type:"text",value:i,onChange:f=>o(f.target.value),placeholder:"e.g., ICU Room 301, Emergency Department",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{value:m,onChange:f=>l(f.target.value),placeholder:"Brief description of the emergency situation",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(b,{variant:"primary",onClick:h,disabled:!r||!i,className:"flex-1 bg-red-600 hover:bg-red-700",children:"🚨 Send Emergency Alert"}),e.jsx(b,{variant:"secondary",onClick:a,children:"Cancel"})]})]})})},la=()=>{const[t,a]=u.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>a(!0),className:"fixed bottom-4 left-4 bg-red-600 hover:bg-red-700 text-white p-3 rounded-full shadow-lg z-50 animate-pulse",title:"Emergency Alert",children:e.jsx("span",{className:"text-xl",children:"🚨"})}),e.jsx(ms,{isOpen:t,onClose:()=>a(!1)})]})};function oa(){const{isRunning:t,start:a,stop:s}=pe(!1),[r,n]=u.useState(!1),i=()=>{confirm("Reset all data to initial state?")&&(R.resetAllData(),window.location.reload())};return e.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:r?e.jsxs(I,{className:"w-80 p-4 shadow-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h3",{className:"text-body font-medium",children:"Demo Controls"}),e.jsx(b,{variant:"tertiary",size:"sm",onClick:()=>n(!1),children:"✕"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 bg-neutral-50 rounded-small",children:[e.jsx("span",{className:"text-body-sm",children:"Real-time Simulation"}),e.jsx(k,{status:t?"delivered":"pending",children:t?"Running":"Stopped"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{variant:t?"secondary":"primary",size:"sm",className:"flex-1",onClick:t?s:a,children:t?"⏸ Pause":"▶ Start"}),e.jsx(b,{variant:"secondary",size:"sm",className:"flex-1",onClick:i,children:"🔄 Reset Data"})]}),e.jsx("div",{className:"pt-2 border-t border-neutral-200",children:e.jsx("p",{className:"text-xs text-neutral-600",children:"Simulation updates every 8 seconds"})})]})]}):e.jsx(b,{variant:"primary",className:"shadow-lg",onClick:()=>n(!0),children:"🎮 Demo Controls"})})}class ca extends u.Component{constructor(s){super(s);L(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0})});L(this,"handleGoHome",()=>{this.setState({hasError:!1,error:void 0}),window.location.href="/quick-access"});this.state={hasError:!1}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,r){console.error("Route Error Boundary caught an error:",s,r),console.error("Production error:",{error:s.message,stack:s.stack,errorInfo:r})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs(I,{className:"max-w-md w-full p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl",children:"⚠️"})}),e.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We encountered an unexpected error. Please try again or return to the home page."}),!1,e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsx(b,{variant:"secondary",onClick:this.handleRetry,children:"Try Again"}),e.jsx(b,{variant:"primary",onClick:this.handleGoHome,children:"Go Home"})]})]})}):this.props.children}}const us=({className:t="",width:a="w-full",height:s="h-4",rounded:r=!0})=>e.jsx("div",{className:`animate-pulse bg-gray-200 ${a} ${s} ${r?"rounded":""} ${t}`}),da=({lines:t=3,showAvatar:a=!1,className:s=""})=>e.jsx("div",{className:`animate-pulse p-4 ${s}`,children:e.jsxs("div",{className:"flex items-center space-x-4",children:[a&&e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),e.jsx("div",{className:"flex-1 space-y-2",children:Array.from({length:t}).map((r,n)=>e.jsx(us,{width:n===t-1?"w-3/4":"w-full",height:"h-3"},n))})]})});function ma({patientName:t,doctorName:a,appointmentDate:s,appointmentTime:r,reminderType:n,status:i,scheduledFor:o,sentAt:m}){const l=()=>{switch(i){case"sent":return e.jsx(k,{status:"delivered",children:"Sent"});case"failed":return e.jsx(k,{status:"error",children:"Failed"});default:return e.jsx(k,{status:"pending",children:"Pending"})}},h=()=>{switch(n){case"sms":return"💬";case"email":return"📧";case"push":return"🔔"}};return e.jsx("div",{className:"flex items-center justify-between p-4 bg-white border border-neutral-200 rounded-lg hover:shadow-sm transition-shadow",children:e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:"text-2xl",children:h()}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-900",children:t}),l()]}),e.jsxs("p",{className:"text-xs text-neutral-600",children:["Appointment with Dr. ",a," on ",s," at ",r]}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:i==="sent"&&m?e.jsxs(e.Fragment,{children:["Sent ",ne(new Date(m),"MMM dd, yyyy HH:mm")]}):e.jsxs(e.Fragment,{children:["Scheduled for ",ne(new Date(o),"MMM dd, yyyy HH:mm")]})})]})]})})}const se=[{key:"request",label:"Requested",icon:"📝"},{key:"pending",label:"Pending",icon:"⏳"},{key:"sent",label:"Sent to Pharmacy",icon:"📤"},{key:"dispatched",label:"Dispatched",icon:"🚛"},{key:"received",label:"Received",icon:"📦"},{key:"delivered",label:"Delivered",icon:"✅"}],ua=({status:t,className:a=""})=>{const s=se.findIndex(r=>r.key===t);return e.jsx("div",{className:`flex items-center space-x-2 ${a}`,children:se.map((r,n)=>{const i=n<=s,o=n===s;return e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`
              flex items-center justify-center w-8 h-8 rounded-full text-xs font-medium
              ${i?o?"bg-blue-500 text-white":"bg-green-500 text-white":"bg-gray-200 text-gray-500"}
            `,children:r.icon}),n<se.length-1&&e.jsx("div",{className:`
                w-8 h-0.5 mx-1
                ${n<s?"bg-green-500":"bg-gray-200"}
              `})]},r.key)})})};function pa({isOpen:t,onClose:a,prescription:s}){const r=$(),[n,i]=u.useState(""),o=()=>{r(Tt(s.id)),a(),i("")};return e.jsx(ue,{isOpen:t,onClose:a,title:"Request Refill",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-neutral-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-900 mb-2",children:"Prescription Details"}),s.medications.map((m,l)=>e.jsxs("p",{className:"text-sm text-neutral-700",children:[m.name," - ",m.dosage]},l)),s.refillsRemaining!==void 0&&e.jsxs("p",{className:"text-sm text-neutral-600 mt-2",children:["Refills remaining: ",s.refillsRemaining]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Reason for refill (optional)"}),e.jsx("textarea",{value:n,onChange:m=>i(m.target.value),rows:3,className:"block w-full px-3 py-2 border border-neutral-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"e.g., Running low on medication..."})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-blue-800",children:"ℹ️ Your refill request will be sent to your doctor for approval. You'll be notified once approved."})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(b,{variant:"secondary",onClick:a,className:"flex-1",children:"Cancel"}),e.jsx(b,{onClick:o,className:"flex-1",children:"Request Refill"})]})]})})}function ha({appointmentId:t,doctorName:a,onSubmit:s}){const r=$(),[n,i]=u.useState(0),[o,m]=u.useState({waitTime:0,doctorCare:0,staffFriendliness:0,cleanliness:0,overall:0}),[l,h]=u.useState(""),f=c=>{c.preventDefault(),r(Lt({patientId:"P001",patientName:"Current User",appointmentId:t,doctorName:a,rating:n,aspects:o,comments:l})),s==null||s()},p=({value:c,onChange:N,label:j})=>e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:j}),e.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(x=>e.jsx("button",{type:"button",onClick:()=>N(x),className:`text-3xl transition-colors ${x<=c?"text-yellow-400":"text-neutral-300"} hover:text-yellow-400`,children:"★"},x))})]}),d=()=>e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"How likely are you to recommend us? (0-10)"}),e.jsx("div",{className:"flex gap-1",children:[0,1,2,3,4,5,6,7,8,9,10].map(c=>e.jsx("button",{type:"button",onClick:()=>i(c),className:`w-10 h-10 rounded-lg font-medium transition-colors ${c===n?"bg-primary-600 text-white":"bg-neutral-100 text-neutral-700 hover:bg-neutral-200"}`,children:c},c))}),e.jsxs("div",{className:"flex justify-between text-xs text-neutral-600 mt-1",children:[e.jsx("span",{children:"Not likely"}),e.jsx("span",{children:"Very likely"})]})]});return e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsx(d,{}),e.jsx(p,{value:o.waitTime,onChange:c=>m({...o,waitTime:c}),label:"Wait Time"}),e.jsx(p,{value:o.doctorCare,onChange:c=>m({...o,doctorCare:c}),label:"Doctor Care & Attention"}),e.jsx(p,{value:o.staffFriendliness,onChange:c=>m({...o,staffFriendliness:c}),label:"Staff Friendliness"}),e.jsx(p,{value:o.cleanliness,onChange:c=>m({...o,cleanliness:c}),label:"Cleanliness"}),e.jsx(p,{value:o.overall,onChange:c=>m({...o,overall:c}),label:"Overall Experience"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Additional Comments (Optional)"}),e.jsx("textarea",{value:l,onChange:c=>h(c.target.value),rows:4,className:"block w-full px-3 py-2 border border-neutral-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Tell us more about your experience..."})]}),e.jsx(b,{type:"submit",className:"w-full",children:"Submit Feedback"})]})}const xa=({position:t,estimatedWait:a,totalInQueue:s})=>e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(z,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-lg font-semibold text-blue-900",children:["Position #",t]}),e.jsxs("p",{className:"text-sm text-blue-700",children:[s," patients in queue"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(de,{className:"w-4 h-4 text-blue-600"}),e.jsxs("span",{className:"text-lg font-semibold text-blue-900",children:["~",a," min"]})]}),e.jsx("p",{className:"text-sm text-blue-700",children:"estimated wait"})]})]})}),ae=pt,ve=ht,ps=ft,hs=gt,xs=yt,we=xt,ga=({patientName:t,onEndCall:a,onToggleVideo:s,onToggleMute:r,onToggleScreenShare:n})=>{const[i,o]=u.useState(!0),[m,l]=u.useState(!1),[h,f]=u.useState(!1),[p,d]=u.useState(0);V.useEffect(()=>{const S=setInterval(()=>{d(g=>g+1)},1e3);return()=>clearInterval(S)},[]);const c=S=>{const g=Math.floor(S/60),C=S%60;return`${g.toString().padStart(2,"0")}:${C.toString().padStart(2,"0")}`},N=()=>{o(!i),s()},j=()=>{l(!m),r()},x=()=>{f(!h),n()};return e.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex flex-col",children:[e.jsxs("div",{className:"bg-gray-900 text-white p-4 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Video Consultation"}),e.jsxs("p",{className:"text-sm text-gray-300",children:["with ",t]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-300",children:"Duration"}),e.jsx("p",{className:"text-lg font-mono",children:c(p)})]})]}),e.jsxs("div",{className:"flex-1 relative bg-gray-800",children:[e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i?e.jsx("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx(ae,{className:"w-24 h-24 mx-auto mb-4"}),e.jsx("p",{className:"text-xl",children:t}),e.jsx("p",{className:"text-sm text-gray-300",children:"Patient Video"})]})}):e.jsx("div",{className:"w-full h-full bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx(ve,{className:"w-24 h-24 mx-auto mb-4"}),e.jsx("p",{className:"text-xl",children:"Video Off"})]})})}),e.jsx("div",{className:"absolute top-4 right-4 w-48 h-36 bg-gray-600 rounded-lg border-2 border-white",children:e.jsx("div",{className:"w-full h-full flex items-center justify-center text-white",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ae,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("p",{className:"text-sm",children:"You"})]})})}),h&&e.jsxs("div",{className:"absolute top-4 left-4 bg-blue-600 text-white px-3 py-1 rounded-full text-sm",children:[e.jsx(we,{className:"w-4 h-4 inline mr-1"}),"Screen Sharing"]})]}),e.jsxs("div",{className:"bg-gray-900 p-4",children:[e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx(b,{variant:m?"primary":"secondary",onClick:j,className:`w-12 h-12 rounded-full ${m?"bg-red-600 hover:bg-red-700":""}`,children:m?e.jsx(hs,{className:"w-5 h-5"}):e.jsx(ps,{className:"w-5 h-5"})}),e.jsx(b,{variant:i?"secondary":"primary",onClick:N,className:`w-12 h-12 rounded-full ${i?"":"bg-red-600 hover:bg-red-700"}`,children:i?e.jsx(ae,{className:"w-5 h-5"}):e.jsx(ve,{className:"w-5 h-5"})}),e.jsx(b,{variant:h?"primary":"secondary",onClick:x,className:`w-12 h-12 rounded-full ${h?"bg-blue-600 hover:bg-blue-700":""}`,children:e.jsx(we,{className:"w-5 h-5"})}),e.jsx(b,{variant:"primary",onClick:a,className:"w-12 h-12 rounded-full bg-red-600 hover:bg-red-700",children:e.jsx(xs,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex justify-center mt-4 space-x-4",children:[e.jsx(b,{variant:"secondary",size:"sm",children:"Chat"}),e.jsx(b,{variant:"secondary",size:"sm",children:"Notes"}),e.jsx(b,{variant:"secondary",size:"sm",children:"Prescription"}),e.jsx(b,{variant:"secondary",size:"sm",children:"Record"})]})]})]})};function fa({onSave:t,onCancel:a}){const s=u.useRef(null),[r,n]=u.useState(!1),i=f=>{const p=s.current;if(!p)return;const d=p.getContext("2d");if(!d)return;n(!0);const c=p.getBoundingClientRect();d.beginPath(),d.moveTo(f.clientX-c.left,f.clientY-c.top)},o=f=>{if(!r)return;const p=s.current;if(!p)return;const d=p.getContext("2d");if(!d)return;const c=p.getBoundingClientRect();d.lineTo(f.clientX-c.left,f.clientY-c.top),d.stroke()},m=()=>n(!1),l=()=>{const f=s.current;if(!f)return;const p=f.getContext("2d");p&&p.clearRect(0,0,f.width,f.height)},h=()=>{const f=s.current;f&&t(f.toDataURL())};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"border-2 border-gray-300 rounded",children:e.jsx("canvas",{ref:s,width:500,height:200,onMouseDown:i,onMouseMove:o,onMouseUp:m,onMouseLeave:m,className:"cursor-crosshair"})}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(b,{variant:"outline",onClick:l,children:"Clear"}),e.jsx(b,{variant:"outline",onClick:a,children:"Cancel"}),e.jsx(b,{onClick:h,children:"Save Signature"})]})]})}export{ta as $,Os as A,Hs as B,I as C,oa as D,_t as E,ha as F,pe as G,da as H,H as I,Xs as J,R as K,us as L,Us as M,aa as N,Es as O,zs as P,xa as Q,ma as R,Qs as S,_s as T,Ks as U,ga as V,ia as W,fa as X,ra as Y,Zs as Z,ea as _,b as a,sa as a0,k as b,ue as c,be as d,pa as e,q as f,ua as g,Pt as h,Ws as i,Js as j,Cs as k,ws as l,Ts as m,Rs as n,vs as o,Ls as p,Vs as q,na as r,ca as s,la as t,It as u,Ys as v,Gs as w,St as x,Ps as y,Bt as z};
