import{j as e,C as y,B as b,a as X,I as B,M as fe,u as xe,b as mt,c as ut}from"./index-BaUceZnW.js";import{R as N,g as Xe,a as A,f as xt,h as U}from"./vendor-Co8sLtJy.js";import{u as _,d as Ye}from"./redux-29f41A6q.js";import{s as ge,T as pt}from"./sanitizer-B3gSroah.js";import{E as ht}from"./EmptyState-DsUGf8Os.js";import{f as De}from"./format-DxorSBJt.js";import{f as C,r as et,a as ft,b as tt,c as gt,i as Q,T as Me,p as q,L as $,g as st,d as Le,e as at,D as vt,C as yt,h as ae,j as Y,S as jt,A as bt,k as Nt,l as $e,m as wt,n as ee,o as At,u as St,G as Pt,q as ve,s as kt,t as nt,v as Ot,w as pe,x as Be,y as Ct,z as Tt,R as Dt,B as Et,E as Rt}from"./generateCategoricalChart-BBxOcRcU.js";import{c as K}from"./ui-DKbXx6wr.js";function he({icon:a,value:s,label:n,trend:t,trendUp:r,trendIndicator:c}){return e.jsxs(y,{className:"text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:a}),e.jsx("div",{className:"text-h2 text-neutral-900 mb-1",children:s}),e.jsx("div",{className:"text-body text-neutral-600 mb-2",children:n}),t&&e.jsx("div",{className:"text-body-sm text-neutral-600 mb-1",children:t}),c&&e.jsxs("div",{className:`text-body-sm flex items-center justify-center gap-1 ${c.value>=0?"text-success":"text-error"}`,children:[e.jsx("span",{children:c.value>=0?"â†‘":"â†“"}),e.jsxs("span",{children:[Math.abs(c.value),"%"]}),e.jsx("span",{className:"text-neutral-500",children:c.label})]}),!c&&t&&e.jsxs("div",{className:`text-body-sm ${r?"text-success":"text-error"}`,children:[r?"â†‘":"â†“"," ",t]})]})}var It=["points","className","baseLinePoints","connectNulls"];function te(){return te=Object.assign?Object.assign.bind():function(a){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(a[t]=n[t])}return a},te.apply(this,arguments)}function _t(a,s){if(a==null)return{};var n=Mt(a,s),t,r;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);for(r=0;r<c.length;r++)t=c[r],!(s.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(a,t)&&(n[t]=a[t])}return n}function Mt(a,s){if(a==null)return{};var n={};for(var t in a)if(Object.prototype.hasOwnProperty.call(a,t)){if(s.indexOf(t)>=0)continue;n[t]=a[t]}return n}function Fe(a){return Ft(a)||Bt(a)||$t(a)||Lt()}function Lt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $t(a,s){if(a){if(typeof a=="string")return Ee(a,s);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(a);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ee(a,s)}}function Bt(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function Ft(a){if(Array.isArray(a))return Ee(a)}function Ee(a,s){(s==null||s>a.length)&&(s=a.length);for(var n=0,t=new Array(s);n<s;n++)t[n]=a[n];return t}var Ue=function(s){return s&&s.x===+s.x&&s.y===+s.y},Ut=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return s.forEach(function(t){Ue(t)?n[n.length-1].push(t):n[n.length-1].length>0&&n.push([])}),Ue(s[0])&&n[n.length-1].push(s[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},ce=function(s,n){var t=Ut(s);n&&(t=[t.reduce(function(c,l){return[].concat(Fe(c),Fe(l))},[])]);var r=t.map(function(c){return c.reduce(function(l,m,f){return"".concat(l).concat(f===0?"M":"L").concat(m.x,",").concat(m.y)},"")}).join("");return t.length===1?"".concat(r,"Z"):r},qt=function(s,n,t){var r=ce(s,t);return"".concat(r.slice(-1)==="Z"?r.slice(0,-1):r,"L").concat(ce(n.reverse(),t).slice(1))},zt=function(s){var n=s.points,t=s.className,r=s.baseLinePoints,c=s.connectNulls,l=_t(s,It);if(!n||!n.length)return null;var m=K("recharts-polygon",t);if(r&&r.length){var f=l.stroke&&l.stroke!=="none",d=qt(n,r,c);return N.createElement("g",{className:m},N.createElement("path",te({},C(l,!0),{fill:d.slice(-1)==="Z"?l.fill:"none",stroke:"none",d})),f?N.createElement("path",te({},C(l,!0),{fill:"none",d:ce(n,c)})):null,f?N.createElement("path",te({},C(l,!0),{fill:"none",d:ce(r,c)})):null)}var u=ce(n,c);return N.createElement("path",te({},C(l,!0),{fill:u.slice(-1)==="Z"?l.fill:"none",className:m,d:u}))},Ce,qe;function Wt(){if(qe)return Ce;qe=1;var a=et(),s=ft(),n=tt();function t(r,c){return r&&r.length?a(r,n(c,2),s):void 0}return Ce=t,Ce}var Gt=Wt();const Kt=Xe(Gt);var Te,ze;function Vt(){if(ze)return Te;ze=1;var a=et(),s=tt(),n=gt();function t(r,c){return r&&r.length?a(r,s(c,2),n):void 0}return Te=t,Te}var Ht=Vt();const Jt=Xe(Ht);var Qt=["cx","cy","angle","ticks","axisLine"],Zt=["ticks","tick","angle","tickFormatter","stroke"];function ne(a){"@babel/helpers - typeof";return ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},ne(a)}function oe(){return oe=Object.assign?Object.assign.bind():function(a){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(a[t]=n[t])}return a},oe.apply(this,arguments)}function We(a,s){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(a);s&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable})),n.push.apply(n,t)}return n}function H(a){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?We(Object(n),!0).forEach(function(t){we(a,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(n,t))})}return a}function Ge(a,s){if(a==null)return{};var n=Xt(a,s),t,r;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);for(r=0;r<c.length;r++)t=c[r],!(s.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(a,t)&&(n[t]=a[t])}return n}function Xt(a,s){if(a==null)return{};var n={};for(var t in a)if(Object.prototype.hasOwnProperty.call(a,t)){if(s.indexOf(t)>=0)continue;n[t]=a[t]}return n}function Yt(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}function Ke(a,s){for(var n=0;n<s.length;n++){var t=s[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(a,it(t.key),t)}}function es(a,s,n){return s&&Ke(a.prototype,s),n&&Ke(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}function ts(a,s,n){return s=je(s),ss(a,rt()?Reflect.construct(s,n||[],je(a).constructor):s.apply(a,n))}function ss(a,s){if(s&&(ne(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return as(a)}function as(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function rt(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rt=function(){return!!a})()}function je(a){return je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},je(a)}function ns(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),s&&Re(a,s)}function Re(a,s){return Re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Re(a,s)}function we(a,s,n){return s=it(s),s in a?Object.defineProperty(a,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[s]=n,a}function it(a){var s=rs(a,"string");return ne(s)=="symbol"?s:s+""}function rs(a,s){if(ne(a)!="object"||!a)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var t=n.call(a,s);if(ne(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}var Ae=(function(a){function s(){return Yt(this,s),ts(this,s,arguments)}return ns(s,a),es(s,[{key:"getTickValueCoord",value:function(t){var r=t.coordinate,c=this.props,l=c.angle,m=c.cx,f=c.cy;return q(m,f,r,l)}},{key:"getTickTextAnchor",value:function(){var t=this.props.orientation,r;switch(t){case"left":r="end";break;case"right":r="start";break;default:r="middle";break}return r}},{key:"getViewBox",value:function(){var t=this.props,r=t.cx,c=t.cy,l=t.angle,m=t.ticks,f=Kt(m,function(u){return u.coordinate||0}),d=Jt(m,function(u){return u.coordinate||0});return{cx:r,cy:c,startAngle:l,endAngle:l,innerRadius:d.coordinate||0,outerRadius:f.coordinate||0}}},{key:"renderAxisLine",value:function(){var t=this.props,r=t.cx,c=t.cy,l=t.angle,m=t.ticks,f=t.axisLine,d=Ge(t,Qt),u=m.reduce(function(v,o){return[Math.min(v[0],o.coordinate),Math.max(v[1],o.coordinate)]},[1/0,-1/0]),g=q(r,c,u[0],l),w=q(r,c,u[1],l),S=H(H(H({},C(d,!1)),{},{fill:"none"},C(f,!1)),{},{x1:g.x,y1:g.y,x2:w.x,y2:w.y});return N.createElement("line",oe({className:"recharts-polar-radius-axis-line"},S))}},{key:"renderTicks",value:function(){var t=this,r=this.props,c=r.ticks,l=r.tick,m=r.angle,f=r.tickFormatter,d=r.stroke,u=Ge(r,Zt),g=this.getTickTextAnchor(),w=C(u,!1),S=C(l,!1),v=c.map(function(o,i){var p=t.getTickValueCoord(o),x=H(H(H(H({textAnchor:g,transform:"rotate(".concat(90-m,", ").concat(p.x,", ").concat(p.y,")")},w),{},{stroke:"none",fill:d},S),{},{index:i},p),{},{payload:o});return N.createElement($,oe({className:K("recharts-polar-radius-axis-tick",st(l)),key:"tick-".concat(o.coordinate)},Le(t.props,o,i)),s.renderTickItem(l,x,f?f(o.value,i):o.value))});return N.createElement($,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var t=this.props,r=t.ticks,c=t.axisLine,l=t.tick;return!r||!r.length?null:N.createElement($,{className:K("recharts-polar-radius-axis",this.props.className)},c&&this.renderAxisLine(),l&&this.renderTicks(),at.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(t,r,c){var l;return N.isValidElement(t)?l=N.cloneElement(t,r):Q(t)?l=t(r):l=N.createElement(Me,oe({},r,{className:"recharts-polar-radius-axis-tick-value"}),c),l}}])})(A.PureComponent);we(Ae,"displayName","PolarRadiusAxis");we(Ae,"axisType","radiusAxis");we(Ae,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function re(a){"@babel/helpers - typeof";return re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},re(a)}function Z(){return Z=Object.assign?Object.assign.bind():function(a){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(a[t]=n[t])}return a},Z.apply(this,arguments)}function Ve(a,s){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(a);s&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable})),n.push.apply(n,t)}return n}function J(a){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?Ve(Object(n),!0).forEach(function(t){Se(a,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(n,t))})}return a}function is(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}function He(a,s){for(var n=0;n<s.length;n++){var t=s[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(a,ct(t.key),t)}}function ls(a,s,n){return s&&He(a.prototype,s),n&&He(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}function cs(a,s,n){return s=be(s),os(a,lt()?Reflect.construct(s,n||[],be(a).constructor):s.apply(a,n))}function os(a,s){if(s&&(re(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ds(a)}function ds(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function lt(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lt=function(){return!!a})()}function be(a){return be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},be(a)}function ms(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),s&&Ie(a,s)}function Ie(a,s){return Ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Ie(a,s)}function Se(a,s,n){return s=ct(s),s in a?Object.defineProperty(a,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[s]=n,a}function ct(a){var s=us(a,"string");return re(s)=="symbol"?s:s+""}function us(a,s){if(re(a)!="object"||!a)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var t=n.call(a,s);if(re(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}var xs=Math.PI/180,Je=1e-5,Pe=(function(a){function s(){return is(this,s),cs(this,s,arguments)}return ms(s,a),ls(s,[{key:"getTickLineCoord",value:function(t){var r=this.props,c=r.cx,l=r.cy,m=r.radius,f=r.orientation,d=r.tickSize,u=d||8,g=q(c,l,m,t.coordinate),w=q(c,l,m+(f==="inner"?-1:1)*u,t.coordinate);return{x1:g.x,y1:g.y,x2:w.x,y2:w.y}}},{key:"getTickTextAnchor",value:function(t){var r=this.props.orientation,c=Math.cos(-t.coordinate*xs),l;return c>Je?l=r==="outer"?"start":"end":c<-Je?l=r==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var t=this.props,r=t.cx,c=t.cy,l=t.radius,m=t.axisLine,f=t.axisLineType,d=J(J({},C(this.props,!1)),{},{fill:"none"},C(m,!1));if(f==="circle")return N.createElement(vt,Z({className:"recharts-polar-angle-axis-line"},d,{cx:r,cy:c,r:l}));var u=this.props.ticks,g=u.map(function(w){return q(r,c,l,w.coordinate)});return N.createElement(zt,Z({className:"recharts-polar-angle-axis-line"},d,{points:g}))}},{key:"renderTicks",value:function(){var t=this,r=this.props,c=r.ticks,l=r.tick,m=r.tickLine,f=r.tickFormatter,d=r.stroke,u=C(this.props,!1),g=C(l,!1),w=J(J({},u),{},{fill:"none"},C(m,!1)),S=c.map(function(v,o){var i=t.getTickLineCoord(v),p=t.getTickTextAnchor(v),x=J(J(J({textAnchor:p},u),{},{stroke:"none",fill:d},g),{},{index:o,payload:v,x:i.x2,y:i.y2});return N.createElement($,Z({className:K("recharts-polar-angle-axis-tick",st(l)),key:"tick-".concat(v.coordinate)},Le(t.props,v,o)),m&&N.createElement("line",Z({className:"recharts-polar-angle-axis-tick-line"},w,i)),l&&s.renderTickItem(l,x,f?f(v.value,o):v.value))});return N.createElement($,{className:"recharts-polar-angle-axis-ticks"},S)}},{key:"render",value:function(){var t=this.props,r=t.ticks,c=t.radius,l=t.axisLine;return c<=0||!r||!r.length?null:N.createElement($,{className:K("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(t,r,c){var l;return N.isValidElement(t)?l=N.cloneElement(t,r):Q(t)?l=t(r):l=N.createElement(Me,Z({},r,{className:"recharts-polar-angle-axis-tick-value"}),c),l}}])})(A.PureComponent);Se(Pe,"displayName","PolarAngleAxis");Se(Pe,"axisType","angleAxis");Se(Pe,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var ye;function ie(a){"@babel/helpers - typeof";return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},ie(a)}function se(){return se=Object.assign?Object.assign.bind():function(a){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(a[t]=n[t])}return a},se.apply(this,arguments)}function Qe(a,s){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(a);s&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable})),n.push.apply(n,t)}return n}function k(a){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?Qe(Object(n),!0).forEach(function(t){M(a,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(n,t))})}return a}function ps(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}function Ze(a,s){for(var n=0;n<s.length;n++){var t=s[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(a,dt(t.key),t)}}function hs(a,s,n){return s&&Ze(a.prototype,s),n&&Ze(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}function fs(a,s,n){return s=Ne(s),gs(a,ot()?Reflect.construct(s,n||[],Ne(a).constructor):s.apply(a,n))}function gs(a,s){if(s&&(ie(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vs(a)}function vs(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function ot(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ot=function(){return!!a})()}function Ne(a){return Ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ne(a)}function ys(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),s&&_e(a,s)}function _e(a,s){return _e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},_e(a,s)}function M(a,s,n){return s=dt(s),s in a?Object.defineProperty(a,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[s]=n,a}function dt(a){var s=js(a,"string");return ie(s)=="symbol"?s:s+""}function js(a,s){if(ie(a)!="object"||!a)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var t=n.call(a,s);if(ie(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}var z=(function(a){function s(n){var t;return ps(this,s),t=fs(this,s,[n]),M(t,"pieRef",null),M(t,"sectorRefs",[]),M(t,"id",St("recharts-pie-")),M(t,"handleAnimationEnd",function(){var r=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),Q(r)&&r()}),M(t,"handleAnimationStart",function(){var r=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),Q(r)&&r()}),t.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},t}return ys(s,a),hs(s,[{key:"isActiveIndex",value:function(t){var r=this.props.activeIndex;return Array.isArray(r)?r.indexOf(t)!==-1:t===r}},{key:"hasActiveIndex",value:function(){var t=this.props.activeIndex;return Array.isArray(t)?t.length!==0:t||t===0}},{key:"renderLabels",value:function(t){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var c=this.props,l=c.label,m=c.labelLine,f=c.dataKey,d=c.valueKey,u=C(this.props,!1),g=C(l,!1),w=C(m,!1),S=l&&l.offsetRadius||20,v=t.map(function(o,i){var p=(o.startAngle+o.endAngle)/2,x=q(o.cx,o.cy,o.outerRadius+S,p),P=k(k(k(k({},u),o),{},{stroke:"none"},g),{},{index:i,textAnchor:s.getTextAnchor(x.x,o.cx)},x),E=k(k(k(k({},u),o),{},{fill:"none",stroke:o.fill},w),{},{index:i,points:[q(o.cx,o.cy,o.outerRadius,p),x]}),O=f;return ae(f)&&ae(d)?O="value":ae(f)&&(O=d),N.createElement($,{key:"label-".concat(o.startAngle,"-").concat(o.endAngle,"-").concat(o.midAngle,"-").concat(i)},m&&s.renderLabelLineItem(m,E,"line"),s.renderLabelItem(l,P,Y(o,O)))});return N.createElement($,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(t){var r=this,c=this.props,l=c.activeShape,m=c.blendStroke,f=c.inactiveShape;return t.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&t.length!==1)return null;var g=r.isActiveIndex(u),w=f&&r.hasActiveIndex()?f:null,S=g?l:w,v=k(k({},d),{},{stroke:m?d.fill:d.stroke,tabIndex:-1});return N.createElement($,se({ref:function(i){i&&!r.sectorRefs.includes(i)&&r.sectorRefs.push(i)},tabIndex:-1,className:"recharts-pie-sector"},Le(r.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),N.createElement(jt,se({option:S,isActive:g,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var t=this,r=this.props,c=r.sectors,l=r.isAnimationActive,m=r.animationBegin,f=r.animationDuration,d=r.animationEasing,u=r.animationId,g=this.state,w=g.prevSectors,S=g.prevIsAnimationActive;return N.createElement(bt,{begin:m,duration:f,isActive:l,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(S),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var o=v.t,i=[],p=c&&c[0],x=p.startAngle;return c.forEach(function(P,E){var O=w&&w[E],R=E>0?Nt(P,"paddingAngle",0):0;if(O){var L=$e(O.endAngle-O.startAngle,P.endAngle-P.startAngle),T=k(k({},P),{},{startAngle:x+R,endAngle:x+L(o)+R});i.push(T),x=T.endAngle}else{var W=P.endAngle,I=P.startAngle,V=$e(0,W-I),G=V(o),F=k(k({},P),{},{startAngle:x+R,endAngle:x+G+R});i.push(F),x=F.endAngle}}),N.createElement($,null,t.renderSectorsStatically(i))})}},{key:"attachKeyboardHandlers",value:function(t){var r=this;t.onkeydown=function(c){if(!c.altKey)switch(c.key){case"ArrowLeft":{var l=++r.state.sectorToFocus%r.sectorRefs.length;r.sectorRefs[l].focus(),r.setState({sectorToFocus:l});break}case"ArrowRight":{var m=--r.state.sectorToFocus<0?r.sectorRefs.length-1:r.state.sectorToFocus%r.sectorRefs.length;r.sectorRefs[m].focus(),r.setState({sectorToFocus:m});break}case"Escape":{r.sectorRefs[r.state.sectorToFocus].blur(),r.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var t=this.props,r=t.sectors,c=t.isAnimationActive,l=this.state.prevSectors;return c&&r&&r.length&&(!l||!wt(l,r))?this.renderSectorsWithAnimation():this.renderSectorsStatically(r)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var t=this,r=this.props,c=r.hide,l=r.sectors,m=r.className,f=r.label,d=r.cx,u=r.cy,g=r.innerRadius,w=r.outerRadius,S=r.isAnimationActive,v=this.state.isAnimationFinished;if(c||!l||!l.length||!ee(d)||!ee(u)||!ee(g)||!ee(w))return null;var o=K("recharts-pie",m);return N.createElement($,{tabIndex:this.props.rootTabIndex,className:o,ref:function(p){t.pieRef=p}},this.renderSectors(),f&&this.renderLabels(l),at.renderCallByParent(this.props,null,!1),(!S||v)&&At.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(t,r){return r.prevIsAnimationActive!==t.isAnimationActive?{prevIsAnimationActive:t.isAnimationActive,prevAnimationId:t.animationId,curSectors:t.sectors,prevSectors:[],isAnimationFinished:!0}:t.isAnimationActive&&t.animationId!==r.prevAnimationId?{prevAnimationId:t.animationId,curSectors:t.sectors,prevSectors:r.curSectors,isAnimationFinished:!0}:t.sectors!==r.curSectors?{curSectors:t.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(t,r){return t>r?"start":t<r?"end":"middle"}},{key:"renderLabelLineItem",value:function(t,r,c){if(N.isValidElement(t))return N.cloneElement(t,r);if(Q(t))return t(r);var l=K("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return N.createElement(yt,se({},r,{key:c,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(t,r,c){if(N.isValidElement(t))return N.cloneElement(t,r);var l=c;if(Q(t)&&(l=t(r),N.isValidElement(l)))return l;var m=K("recharts-pie-label-text",typeof t!="boolean"&&!Q(t)?t.className:"");return N.createElement(Me,se({},r,{alignmentBaseline:"middle",className:m}),l)}}])})(A.PureComponent);ye=z;M(z,"displayName","Pie");M(z,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Pt.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});M(z,"parseDeltaAngle",function(a,s){var n=ve(s-a),t=Math.min(Math.abs(s-a),360);return n*t});M(z,"getRealPieData",function(a){var s=a.data,n=a.children,t=C(a,!1),r=kt(n,nt);return s&&s.length?s.map(function(c,l){return k(k(k({payload:c},t),c),r&&r[l]&&r[l].props)}):r&&r.length?r.map(function(c){return k(k({},t),c.props)}):[]});M(z,"parseCoordinateOfPie",function(a,s){var n=s.top,t=s.left,r=s.width,c=s.height,l=Ot(r,c),m=t+pe(a.cx,r,r/2),f=n+pe(a.cy,c,c/2),d=pe(a.innerRadius,l,0),u=pe(a.outerRadius,l,l*.8),g=a.maxRadius||Math.sqrt(r*r+c*c)/2;return{cx:m,cy:f,innerRadius:d,outerRadius:u,maxRadius:g}});M(z,"getComposedData",function(a){var s=a.item,n=a.offset,t=s.type.defaultProps!==void 0?k(k({},s.type.defaultProps),s.props):s.props,r=ye.getRealPieData(t);if(!r||!r.length)return null;var c=t.cornerRadius,l=t.startAngle,m=t.endAngle,f=t.paddingAngle,d=t.dataKey,u=t.nameKey,g=t.valueKey,w=t.tooltipType,S=Math.abs(t.minAngle),v=ye.parseCoordinateOfPie(t,n),o=ye.parseDeltaAngle(l,m),i=Math.abs(o),p=d;ae(d)&&ae(g)?(Be(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),p="value"):ae(d)&&(Be(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),p=g);var x=r.filter(function(T){return Y(T,p,0)!==0}).length,P=(i>=360?x:x-1)*f,E=i-x*S-P,O=r.reduce(function(T,W){var I=Y(W,p,0);return T+(ee(I)?I:0)},0),R;if(O>0){var L;R=r.map(function(T,W){var I=Y(T,p,0),V=Y(T,u,W),G=(ee(I)?I:0)/O,F;W?F=L.endAngle+ve(o)*f*(I!==0?1:0):F=l;var de=F+ve(o)*((I!==0?S:0)+G*E),me=(F+de)/2,le=(v.innerRadius+v.outerRadius)/2,ke=[{name:V,value:I,payload:T,dataKey:p,type:w}],Oe=q(v.cx,v.cy,le,me);return L=k(k(k({percent:G,cornerRadius:c,name:V,tooltipPayload:ke,midAngle:me,middleRadius:le,tooltipPosition:Oe},T),v),{},{value:Y(T,p),startAngle:F,endAngle:de,payload:T,paddingAngle:ve(o)*f}),L})}return k(k({},v),{},{sectors:R,data:r})});var bs=Ct({chartName:"PieChart",GraphicalChild:z,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Pe},{axisType:"radiusAxis",AxisComp:Ae}],formatAxisMap:Tt,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function Ns(){const{appointments:a}=_(x=>x.appointments),{patients:s}=_(x=>x.patients),{prescriptions:n}=_(x=>x.prescriptions),{alerts:t}=_(x=>x.inventory),{requests:r}=_(x=>x.medication),[c,l]=A.useState(new Date);A.useEffect(()=>{const x=setInterval(()=>{l(new Date)},6e4);return()=>clearInterval(x)},[]);const m=new Date().toISOString().split("T")[0],f=a.filter(x=>x.date===m),d=f.filter(x=>x.status==="scheduled").length,u=f.filter(x=>x.status==="completed").length,g=f.filter(x=>x.status==="in-progress").length,w=n.filter(x=>x.status==="pending"),S=n.filter(x=>x.status==="dispensed"),v=t.filter(x=>x.severity==="critical"),o=r.filter(x=>x.status==="request"||x.status==="pending"),i={appointments:{value:-12,label:"vs yesterday"},patients:{value:5,label:"vs last week"},prescriptions:{value:8,label:"vs yesterday"},alerts:{value:-3,label:"vs yesterday"}},p=x=>{const E=Math.floor((new Date().getTime()-x.getTime())/6e4);if(E<1)return"Just now";if(E<60)return`${E} min ago`;const O=Math.floor(E/60);if(O<24)return`${O} hour${O>1?"s":""} ago`;const R=Math.floor(O/24);return`${R} day${R>1?"s":""} ago`};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Welcome back, Admin!"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mt-1",children:[e.jsxs("span",{children:["Last updated ",p(c)]}),e.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Live Data"]})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs(y,{children:[e.jsx("p",{className:"text-body text-neutral-600 mb-6",children:"Here's a snapshot of today's hospital activity"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(he,{icon:"ðŸ“…",value:d,label:"Scheduled Today",trend:`${u} completed | ${g} in progress`,trendUp:u>d*.8,trendIndicator:i.appointments}),e.jsx(he,{icon:"ðŸ‘¥",value:s.length,label:"Total Active Patients",trend:"Currently registered",trendUp:!0,trendIndicator:i.patients}),e.jsx(he,{icon:"ðŸ’Š",value:w.length,label:"Pending Prescriptions",trend:`${S.length} dispensed | ${n.length} total`,trendUp:w.length<n.length*.3,trendIndicator:i.prescriptions}),e.jsx(he,{icon:"âš ï¸",value:v.length,label:"Critical Alerts",trend:"Requires immediate attention",trendUp:v.length===0,trendIndicator:i.alerts})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(y,{className:"lg:col-span-2",children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-4",children:"System Overview"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-success/10 rounded-small",children:[e.jsx("div",{className:"text-2xl mb-2",children:"âœ…"}),e.jsx("div",{className:"text-body font-medium",children:"Completed Today"}),e.jsxs("div",{className:"text-body-sm text-success",children:[u," appointments"]}),e.jsxs("div",{className:"text-xs text-neutral-500 mt-1",children:[a.length>0?Math.round(u/a.length*100):0,"% of total"]})]}),e.jsxs("div",{className:"text-center p-4 bg-warning/10 rounded-small",children:[e.jsx("div",{className:"text-2xl mb-2",children:"â³"}),e.jsx("div",{className:"text-body font-medium",children:"In Progress"}),e.jsxs("div",{className:"text-body-sm text-warning",children:[g," appointments"]}),e.jsx("div",{className:"text-xs text-neutral-500 mt-1",children:"Currently being served"})]}),e.jsxs("div",{className:"text-center p-4 bg-info/10 rounded-small",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ’Š"}),e.jsx("div",{className:"text-body font-medium",children:"Med Requests"}),e.jsxs("div",{className:"text-body-sm text-info",children:[o.length," pending"]}),e.jsx("div",{className:"text-xs text-neutral-500 mt-1",children:"Awaiting approval"})]})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-neutral-200",children:[e.jsx("h4",{className:"text-sm font-medium text-neutral-700 mb-3",children:"Key Performance Indicators"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"Bed Occupancy Rate"}),e.jsx("span",{className:"text-sm font-medium text-success",children:"75% (18/24 beds)"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"Staff Efficiency"}),e.jsx("span",{className:"text-sm font-medium text-primary-600",children:"92% average"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"Patient Satisfaction"}),e.jsx("span",{className:"text-sm font-medium text-success",children:"NPS 67 (Excellent)"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"No-Show Rate"}),e.jsx("span",{className:"text-sm font-medium text-warning",children:"6.8% (below target)"})]})]})]})]}),e.jsxs(y,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(b,{variant:"primary",className:"w-full justify-start",children:"ðŸ‘¥ Manage Users"}),e.jsx(b,{variant:"secondary",className:"w-full justify-start",children:"ðŸ›ï¸ Bed Management"}),e.jsx(b,{variant:"secondary",className:"w-full justify-start",children:"ðŸ“Š View Reports"}),e.jsx(b,{variant:"secondary",className:"w-full justify-start",children:"âš™ï¸ Settings"})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-neutral-200",children:[e.jsx("h4",{className:"text-sm font-medium text-neutral-700 mb-3",children:"Critical Alerts"}),e.jsxs("div",{className:"space-y-2",children:[v.length>0?v.slice(0,3).map((x,P)=>e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-error/10 rounded text-xs",children:[e.jsx("div",{className:"w-2 h-2 bg-error rounded-full"}),e.jsx("span",{className:"text-error-700 truncate",children:"Critical Stock Alert"})]},P)):e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-success/10 rounded text-xs",children:[e.jsx("div",{className:"w-2 h-2 bg-success rounded-full"}),e.jsx("span",{className:"text-success-700",children:"All systems operational"})]}),v.length>3&&e.jsxs("div",{className:"text-xs text-neutral-500 text-center",children:["+",v.length-3," more alerts"]})]})]})]})]})]})})]})}const ws=[{id:"1",name:"Dr. Sarah Wilson",email:"sarah@hospital.com",role:"doctor",status:"active",lastLogin:"2024-01-15 09:30 AM",department:"Cardiology",lastPasswordChange:"2024-01-10 14:20 PM",lastIPAddress:"192.168.1.105",deviceInfo:"Chrome on Windows",location:"Main Building",createdAt:"2023-06-15 10:00 AM"},{id:"2",name:"John Smith",email:"john@hospital.com",role:"nurse",status:"active",lastLogin:"2024-01-14 02:15 PM",department:"Emergency",lastPasswordChange:"2023-12-20 11:45 AM",lastIPAddress:"192.168.1.112",deviceInfo:"Safari on iOS",location:"Emergency Wing",createdAt:"2023-08-22 09:30 AM"},{id:"3",name:"Mary Johnson",email:"mary@hospital.com",role:"receptionist",status:"inactive",lastLogin:"2024-01-10 11:45 AM",department:"Front Desk",lastPasswordChange:"2023-11-15 16:30 PM",lastIPAddress:"192.168.1.98",deviceInfo:"Chrome on macOS",location:"Main Entrance",createdAt:"2023-09-10 08:15 AM"},{id:"4",name:"Dr. Robert Brown",email:"robert@hospital.com",role:"doctor",status:"disabled",lastLogin:"2023-12-20 03:20 PM",department:"Orthopedics",lastPasswordChange:"2023-12-15 10:00 AM",lastIPAddress:"192.168.1.87",deviceInfo:"Firefox on Windows",location:"Building A",createdAt:"2023-05-12 11:00 AM"},{id:"5",name:"Lisa Chen",email:"lisa@hospital.com",role:"pharmacist",status:"active",lastLogin:"2024-01-15 08:45 AM",department:"Pharmacy",lastPasswordChange:"2024-01-01 12:00 PM",lastIPAddress:"192.168.1.156",deviceInfo:"Chrome on Windows",location:"Pharmacy Department",createdAt:"2023-07-18 02:30 PM"}],As=[{id:"1",userId:"1",action:"login",timestamp:"2024-01-15 09:30 AM",ipAddress:"192.168.1.105",deviceInfo:"Chrome on Windows",location:"Main Building",details:"Successful login"},{id:"2",userId:"1",action:"password_change",timestamp:"2024-01-10 14:20 PM",ipAddress:"192.168.1.105",deviceInfo:"Chrome on Windows",location:"Main Building",details:"Password updated successfully"},{id:"3",userId:"2",action:"login",timestamp:"2024-01-14 02:15 PM",ipAddress:"192.168.1.112",deviceInfo:"Safari on iOS",location:"Emergency Wing",details:"Successful login"},{id:"4",userId:"3",action:"login",timestamp:"2024-01-10 11:45 AM",ipAddress:"192.168.1.98",deviceInfo:"Chrome on macOS",location:"Main Entrance",details:"Successful login"},{id:"5",userId:"4",action:"logout",timestamp:"2023-12-20 03:30 PM",ipAddress:"192.168.1.87",deviceInfo:"Firefox on Windows",location:"Building A",details:"Manual logout"}];function Ss(){const[a]=A.useState(ws),[s]=A.useState(As),[n,t]=A.useState(""),[r,c]=A.useState("all"),[l,m]=A.useState("all"),[f,d]=A.useState(!1),[u,g]=A.useState(!1),[w,S]=A.useState(!1),[,v]=A.useState(!1),[o,i]=A.useState(null),[p,x]=A.useState([]),[P,E]=A.useState(null),[O,R]=A.useState(!1),L=a.filter(h=>{const j=h.name.toLowerCase().includes(n.toLowerCase())||h.email.toLowerCase().includes(n.toLowerCase()),D=r==="all"||h.role===r,ue=l==="all"||h.status===l;return j&&D&&ue}),T=h=>{i(h),g(!0)},W=()=>{o!=null&&o.id&&console.log("Delete user:",ge.forLog(o.id)),g(!1),i(null)},I=h=>{const j=new Date(h.lastLogin);return Math.floor((new Date().getTime()-j.getTime())/(1e3*60*60*24))>30},V=h=>{const j=new Date(h.lastLogin);return Math.floor((new Date().getTime()-j.getTime())/(1e3*60*60*24))},G=async h=>{R(!0);try{switch(await new Promise(j=>setTimeout(j,1e3)),h){case"enable":console.log(`Enabling ${p.length} users:`,p);break;case"disable":console.log(`Disabling ${p.length} users:`,p);break;case"reset_password":console.log(`Resetting passwords for ${p.length} users:`,p);break}x([])}catch(j){console.error("Bulk action failed:",j)}finally{R(!1)}},F=(h,j)=>{x(j?D=>[...D,h]:D=>D.filter(ue=>ue!==h))},de=h=>{x(h?L.map(j=>j.id):[])},me=h=>{E(h),S(!0)},le=h=>s.filter(j=>j.userId===h).sort((j,D)=>new Date(D.timestamp).getTime()-new Date(j.timestamp).getTime()).slice(0,5),ke=h=>{const j="px-2 py-1 rounded-full text-xs font-medium capitalize";switch(h){case"active":return e.jsx("span",{className:`${j} bg-green-100 text-green-800`,children:"Active"});case"inactive":return e.jsx("span",{className:`${j} bg-yellow-100 text-yellow-800`,children:"Inactive"});case"disabled":return e.jsx("span",{className:`${j} bg-red-100 text-red-800`,children:"Disabled"});default:return e.jsx("span",{className:`${j} bg-gray-100 text-gray-800`,children:h})}},Oe=[{key:"select",header:e.jsx("input",{type:"checkbox",checked:p.length===L.length&&L.length>0,onChange:h=>de(h.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),render:(h,j)=>e.jsx("input",{type:"checkbox",checked:p.includes(j.id),onChange:D=>F(j.id,D.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),width:"50px"},{key:"name",header:"Name",render:(h,j)=>e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:h}),j.department&&e.jsx("div",{className:"text-sm text-gray-500",children:j.department}),I(j)&&e.jsxs("div",{className:"text-xs text-yellow-600 flex items-center gap-1 mt-1",children:["âš ï¸ Inactive ",V(j)," days"]})]})},{key:"email",header:"Email"},{key:"role",header:"Role",render:h=>e.jsx(X,{status:"delivered",className:"capitalize",children:h})},{key:"status",header:"Status",render:h=>ke(h)},{key:"lastLogin",header:"Last Login",render:(h,j)=>e.jsxs("div",{children:[e.jsx("div",{className:"text-sm",children:h}),j.lastIPAddress&&e.jsx("div",{className:"text-xs text-gray-500",children:j.lastIPAddress})]})},{key:"activity",header:"Activity",render:(h,j)=>(V(j),e.jsxs("button",{onClick:()=>me(j),className:"text-primary-600 hover:text-primary-800 text-sm underline",children:["View Log (",le(j.id).length,")"]}))},{key:"actions",header:"Actions",render:(h,j)=>e.jsxs("div",{className:"flex gap-2",role:"group","aria-label":"User actions",children:[e.jsx(b,{variant:"tertiary",size:"sm",onClick:D=>{D.stopPropagation(),console.log("Edit user:",ge.forLog(j.id))},"aria-label":`Edit ${j.name}`,children:"Edit"}),e.jsx(b,{variant:"tertiary",size:"sm",className:"text-error hover:bg-error-50",onClick:D=>{D.stopPropagation(),T(j)},"aria-label":`Delete ${j.name}`,children:"Delete"})]}),width:"150px"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"User Management"}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"Manage hospital staff and their permissions. Configure roles and access in Settings."})]}),e.jsxs(b,{onClick:()=>d(!0),className:"flex items-center gap-2","aria-label":"Add new user",children:[e.jsx("span",{"aria-hidden":"true",children:"+"}),"Add New User"]}),e.jsxs(b,{variant:"secondary",onClick:()=>v(!0),className:"flex items-center gap-2","aria-label":"View role permissions",children:[e.jsx("span",{"aria-hidden":"true",children:"ðŸ”"}),"Role Permissions"]})]}),e.jsx(y,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-lg font-medium text-neutral-900",children:"All Users"}),p.length>0&&e.jsx("div",{className:"bg-primary-50 border border-primary-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm font-medium text-primary-900",children:[p.length," user",p.length>1?"s":""," selected"]}),e.jsx(b,{size:"sm",variant:"secondary",onClick:()=>G("enable"),disabled:O,children:"Enable"}),e.jsx(b,{size:"sm",variant:"secondary",onClick:()=>G("disable"),disabled:O,children:"Disable"}),e.jsx(b,{size:"sm",variant:"secondary",onClick:()=>G("reset_password"),disabled:O,children:"Reset Password"})]}),e.jsx(b,{size:"sm",variant:"tertiary",onClick:()=>x([]),children:"Clear Selection"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-success/10 rounded",children:[e.jsx("div",{className:"text-2xl font-semibold text-success",children:a.filter(h=>h.status==="active").length}),e.jsx("div",{className:"text-sm text-neutral-600",children:"Active Users"})]}),e.jsxs("div",{className:"text-center p-3 bg-warning/10 rounded",children:[e.jsx("div",{className:"text-2xl font-semibold text-warning",children:a.filter(h=>I(h)).length}),e.jsx("div",{className:"text-sm text-neutral-600",children:"Inactive (>30 days)"})]}),e.jsxs("div",{className:"text-center p-3 bg-error/10 rounded",children:[e.jsx("div",{className:"text-2xl font-semibold text-error",children:a.filter(h=>h.status==="disabled").length}),e.jsx("div",{className:"text-sm text-neutral-600",children:"Disabled"})]}),e.jsxs("div",{className:"text-center p-3 bg-primary/10 rounded",children:[e.jsx("div",{className:"text-2xl font-semibold text-primary",children:a.length}),e.jsx("div",{className:"text-sm text-neutral-600",children:"Total Users"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx(B,{placeholder:"Search users by name or emailâ€¦",value:n,onChange:h=>t(h.target.value),className:"flex-1 max-w-md","aria-label":"Search users by name or email"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:r,onChange:h=>c(h.target.value),className:"px-3 py-2 border border-neutral-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500","aria-label":"Filter by role",children:[e.jsx("option",{value:"all",children:"All Roles"}),e.jsx("option",{value:"doctor",children:"Doctor"}),e.jsx("option",{value:"nurse",children:"Nurse"}),e.jsx("option",{value:"receptionist",children:"Receptionist"}),e.jsx("option",{value:"pharmacist",children:"Pharmacist"}),e.jsx("option",{value:"admin",children:"Admin"})]}),e.jsxs("select",{value:l,onChange:h=>m(h.target.value),className:"px-3 py-2 border border-neutral-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500","aria-label":"Filter by status",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),L.length===0?e.jsx(ht,{title:n||r!=="all"||l!=="all"?"No users found":"No users yet",description:n||r!=="all"||l!=="all"?"Try adjusting your search or filters":"Get started by adding your first user",action:{label:"Add New User",onClick:()=>d(!0)}}):e.jsx(pt,{columns:Oe,data:L,onRowClick:h=>console.log("Selected user:",ge.forLog(h.id))})]})}),e.jsx(fe,{isOpen:f,onClose:()=>d(!1),title:"Add New User",size:"md",children:e.jsxs("form",{className:"space-y-4",onSubmit:h=>h.preventDefault(),children:[e.jsx(B,{label:"Full Name",placeholder:"Enter full name",required:!0}),e.jsx(B,{label:"Email",type:"email",placeholder:"Enter email address",required:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-body font-medium text-neutral-700 mb-1",children:"Role"}),e.jsxs("select",{className:"block w-full px-3 py-2 border border-neutral-300 rounded-minimal shadow-sm text-body focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"doctor",children:"Doctor"}),e.jsx("option",{value:"nurse",children:"Nurse"}),e.jsx("option",{value:"receptionist",children:"Receptionist"}),e.jsx("option",{value:"pharmacist",children:"Pharmacist"})]})]}),e.jsx(B,{label:"Password",type:"password",placeholder:"Enter password",required:!0}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(b,{variant:"secondary",onClick:()=>d(!1),children:"Cancel"}),e.jsx(b,{type:"submit",children:"Create User"})]})]})}),e.jsx(fe,{isOpen:w,onClose:()=>S(!1),title:`Activity Log - ${P==null?void 0:P.name}`,size:"lg",children:P&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Department:"})," ",P.department]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Role:"})," ",P.role]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Last Password Change:"})," ",P.lastPasswordChange]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Last IP:"})," ",P.lastIPAddress]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Recent Activities"}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:le(P.id).map(h=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-neutral-50 rounded",children:[e.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full mt-2"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium",children:h.action.replace("_"," ").toUpperCase()}),e.jsx("div",{className:"text-xs text-neutral-600",children:h.timestamp}),e.jsxs("div",{className:"text-xs text-neutral-500",children:[h.ipAddress," â€¢ ",h.deviceInfo]}),h.details&&e.jsx("div",{className:"text-xs text-neutral-700 mt-1",children:h.details})]})]},h.id))})]})]})}),e.jsx(fe,{isOpen:u,onClose:()=>g(!1),title:"Confirm Delete",size:"sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-body text-neutral-700",children:["Are you sure you want to delete ",e.jsx("strong",{children:o==null?void 0:o.name}),"? This action cannot be undone."]}),e.jsx("div",{className:"bg-warning-50 border border-warning-200 rounded-md p-3",children:e.jsx("p",{className:"text-sm text-warning-800",children:"âš ï¸ This will permanently remove the user and revoke all access."})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[e.jsx(b,{variant:"secondary",onClick:()=>g(!1),children:"Cancel"}),e.jsx(b,{className:"bg-error hover:bg-error-600",onClick:W,children:"Delete User"})]})]})})]})}const Ps=[{id:"1",number:"A101",ward:"ICU",status:"occupied",patient:"John Doe",assignedTo:"Dr. Smith",admissionDate:"2024-01-10",expectedDischarge:"2024-01-20",bedType:"ICU",equipment:["Ventilator","Monitor","IV Pump"],isolation:!1},{id:"2",number:"A102",ward:"ICU",status:"available",bedType:"ICU",lastCleaned:"2024-01-15 14:30",equipment:["Ventilator","Monitor"]},{id:"3",number:"A103",ward:"ICU",status:"maintenance",bedType:"ICU",nextMaintenance:"2024-01-16 09:00",equipment:["Ventilator","Monitor"]},{id:"4",number:"B201",ward:"General",status:"occupied",patient:"Jane Smith",assignedTo:"Dr. Wilson",admissionDate:"2024-01-12",expectedDischarge:"2024-01-18",bedType:"General",equipment:["Monitor","IV Pump"],isolation:!1},{id:"5",number:"B202",ward:"General",status:"cleaning",bedType:"General",lastCleaned:"2024-01-15 16:00",equipment:["Monitor"]},{id:"6",number:"B203",ward:"General",status:"available",bedType:"General",lastCleaned:"2024-01-15 10:15",equipment:["Monitor","IV Pump"]},{id:"7",number:"C301",ward:"Pediatric",status:"occupied",patient:"Baby Johnson",assignedTo:"Dr. Brown",admissionDate:"2024-01-14",expectedDischarge:"2024-01-17",bedType:"Pediatric",equipment:["Monitor","Oxygen"],isolation:!1},{id:"8",number:"C302",ward:"Pediatric",status:"available",bedType:"Pediatric",lastCleaned:"2024-01-15 12:45",equipment:["Monitor","Oxygen"]},{id:"9",number:"D401",ward:"Emergency",status:"occupied",patient:"Robert Chen",assignedTo:"Dr. Davis",admissionDate:"2024-01-15 08:30",expectedDischarge:"2024-01-16 14:00",bedType:"Emergency",equipment:["Monitor","Defibrillator"],isolation:!0},{id:"10",number:"D402",ward:"Emergency",status:"available",bedType:"Emergency",lastCleaned:"2024-01-15 09:15",equipment:["Monitor","Defibrillator"]}],ks=[{ward:"ICU",totalBeds:3,occupiedBeds:1,availableBeds:1,occupancyRate:33.3,avgLengthOfStay:5.2,expectedDischarges:1},{ward:"General",totalBeds:3,occupiedBeds:1,availableBeds:1,occupancyRate:33.3,avgLengthOfStay:3.8,expectedDischarges:1},{ward:"Pediatric",totalBeds:2,occupiedBeds:1,availableBeds:1,occupancyRate:50,avgLengthOfStay:2.5,expectedDischarges:1},{ward:"Emergency",totalBeds:2,occupiedBeds:1,availableBeds:1,occupancyRate:50,avgLengthOfStay:1.2,expectedDischarges:1}],Os=[{id:"1",type:"immediate_discharge",bedId:"1",patientId:"patient_123",requestedBy:"Dr. Emergency",requestedAt:"2024-01-15 14:20",priority:"critical",status:"in_progress",estimatedCompletion:"2024-01-15 15:30"},{id:"2",type:"expedited_cleaning",bedId:"5",requestedBy:"Nurse Supervisor",requestedAt:"2024-01-15 13:45",priority:"high",status:"pending",estimatedCompletion:"2024-01-15 15:00"}];function Cs(){const[a]=A.useState(Ps),[s]=A.useState(ks),[n]=A.useState(Os),[t,r]=A.useState("all"),[,c]=A.useState(!1),[,l]=A.useState(!1),[,m]=A.useState(null),f=["all","ICU","General","Pediatric","Emergency"],d=t==="all"?a:a.filter(i=>i.ward===t),u=i=>{if(!i)return 0;const p=new Date(i);return Math.floor((new Date().getTime()-p.getTime())/(1e3*60*60*24))},g=i=>{if(i.status==="occupied"&&i.admissionDate){const p=u(i.admissionDate);return p>7?{status:"Long Stay",color:"text-red-600",days:p}:p>3?{status:"Extended",color:"text-yellow-600",days:p}:{status:"Standard",color:"text-green-600",days:p}}return{status:"N/A",color:"text-gray-500",days:0}},w=()=>{const i=a.length,p=a.filter(x=>x.status==="occupied").length;return Math.round(p/i*100)},S=(i,p)=>{m(i),l(!0),console.log(`Emergency action ${p} for bed ${i.number}`)},v=(i,p)=>{console.log(`Quick action ${p} for bed ${i.number}`)},o={total:a.length,occupied:a.filter(i=>i.status==="occupied").length,available:a.filter(i=>i.status==="available").length,maintenance:a.filter(i=>i.status==="maintenance").length,cleaning:a.filter(i=>i.status==="cleaning").length,utilizationRate:w(),expectedDischarges:a.filter(i=>i.expectedDischarge&&new Date(i.expectedDischarge)<=new Date(Date.now()+1440*60*1e3)).length};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Bed Management"}),e.jsx("p",{className:"text-gray-600",children:"Real-time bed occupancy and operational management"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs(y,{className:"text-center",children:[e.jsx("div",{className:"text-h2 text-neutral-900",children:o.total}),e.jsx("div",{className:"text-body text-neutral-600",children:"Total Beds"}),e.jsxs("div",{className:"text-xs text-primary-600 mt-1",children:[o.utilizationRate,"% utilization"]})]}),e.jsxs(y,{className:"text-center",children:[e.jsx("div",{className:"text-h2 text-error",children:o.occupied}),e.jsx("div",{className:"text-body text-neutral-600",children:"Occupied"}),e.jsxs("div",{className:"text-xs text-error-600 mt-1",children:[o.expectedDischarges," discharging soon"]})]}),e.jsxs(y,{className:"text-center",children:[e.jsx("div",{className:"text-h2 text-success",children:o.available}),e.jsx("div",{className:"text-body text-neutral-600",children:"Available"}),e.jsx("div",{className:"text-xs text-success-600 mt-1",children:"Ready for assignment"})]}),e.jsxs(y,{className:"text-center",children:[e.jsx("div",{className:"text-h2 text-warning",children:o.maintenance}),e.jsx("div",{className:"text-body text-neutral-600",children:"Maintenance"}),e.jsx("div",{className:"text-xs text-warning-600 mt-1",children:"Scheduled maintenance"})]}),e.jsxs(y,{className:"text-center",children:[e.jsx("div",{className:"text-h2 text-info",children:o.cleaning}),e.jsx("div",{className:"text-body text-neutral-600",children:"Cleaning"}),e.jsx("div",{className:"text-xs text-info-600 mt-1",children:"Being cleaned"})]})]}),e.jsxs(y,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-h3 text-neutral-900",children:"Bed Status Grid"}),e.jsx("p",{className:"text-body text-neutral-600",children:"Real-time bed occupancy with operational insights"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("select",{value:t,onChange:i=>r(i.target.value),className:"px-3 py-2 border border-neutral-300 rounded-minimal text-body focus:outline-none focus:ring-2 focus:ring-primary-500",children:f.map(i=>e.jsx("option",{value:i,children:i==="all"?"All Wards":i},i))}),e.jsx(b,{variant:"secondary",onClick:()=>c(!0),children:"ðŸ“ˆ Ward Analytics"}),e.jsx(b,{children:"Add New Bed"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:d.map(i=>{const p=g(i);return e.jsxs(y,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-h4 text-neutral-900",children:["Bed ",i.number]}),e.jsxs("p",{className:"text-body-sm text-neutral-600",children:[i.ward," Ward â€¢ ",i.bedType]}),i.isolation&&e.jsx("span",{className:"inline-block px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full mt-1",children:"ðŸ”’ Isolation"})]}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium capitalize ${i.status==="occupied"?"bg-red-100 text-red-800":i.status==="available"?"bg-green-100 text-green-800":i.status==="maintenance"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:i.status})]}),i.patient&&e.jsx("div",{className:"space-y-2 mb-3",children:e.jsxs("div",{className:"p-2 bg-red-50 rounded",children:[e.jsxs("p",{className:"text-sm font-medium text-red-900",children:["Patient: ",i.patient]}),e.jsxs("p",{className:"text-xs text-red-700",children:["Assigned to: ",i.assignedTo]}),i.admissionDate&&e.jsxs("div",{className:"mt-1",children:[e.jsxs("p",{className:"text-xs text-red-600",children:["ðŸ“… Admitted: ",i.admissionDate," (",p.days," days)"]}),i.expectedDischarge&&e.jsxs("p",{className:"text-xs text-red-600",children:["ðŸ  Expected discharge: ",i.expectedDischarge]})]}),e.jsxs("div",{className:`text-xs mt-1 ${p.color}`,children:["Status: ",p.status]})]})}),i.equipment&&i.equipment.length>0&&e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-xs text-neutral-600 mb-1",children:"Equipment:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:i.equipment.map((x,P)=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded",children:x},P))})]}),!i.patient&&e.jsxs("div",{className:"mb-3",children:[i.lastCleaned&&e.jsxs("p",{className:"text-xs text-neutral-500",children:["ðŸ§¹ Last cleaned: ",i.lastCleaned]}),i.nextMaintenance&&e.jsxs("p",{className:"text-xs text-neutral-500",children:["ðŸ”§ Next maintenance: ",i.nextMaintenance]})]}),e.jsxs("div",{className:"space-y-2",children:[i.status==="available"&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(b,{variant:"primary",size:"sm",className:"flex-1",onClick:()=>v(i,"assign"),children:"ðŸ‘¥ Assign Patient"}),e.jsx(b,{variant:"tertiary",size:"sm",onClick:()=>S(i,"immediate_discharge"),title:"Emergency Assignment",children:"ðŸš¨"})]}),i.status==="occupied"&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(b,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>v(i,"discharge"),children:"ðŸ  Schedule Discharge"}),e.jsx(b,{variant:"tertiary",size:"sm",onClick:()=>S(i,"transfer"),title:"Emergency Transfer",children:"ðŸš¨"})]}),i.status==="cleaning"&&e.jsx(b,{variant:"primary",size:"sm",className:"w-full",onClick:()=>v(i,"clean"),children:"âœ… Mark Cleaned"}),i.status==="maintenance"&&e.jsx("div",{className:"text-center",children:e.jsx(b,{variant:"secondary",size:"sm",onClick:()=>S(i,"expedited_cleaning"),children:"ðŸ”§ Complete Maintenance"})})]})]},i.id)})})]}),n.length>0&&e.jsxs(y,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-4",children:"Emergency Workflows"}),e.jsx("div",{className:"space-y-3",children:n.map(i=>{var p;return e.jsx("div",{className:`p-3 rounded-lg border-l-4 ${i.priority==="critical"?"bg-red-50 border-red-500":i.priority==="high"?"bg-yellow-50 border-yellow-500":"bg-blue-50 border-blue-500"}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i.priority==="critical"?"bg-red-200 text-red-800":i.priority==="high"?"bg-yellow-200 text-yellow-800":"bg-blue-200 text-blue-800"}`,children:i.priority.toUpperCase()}),e.jsx("span",{className:"text-sm font-medium",children:i.type.replace("_"," ").toUpperCase()})]}),e.jsxs("p",{className:"text-sm text-neutral-600 mt-1",children:["Bed ",(p=a.find(x=>x.id===i.bedId))==null?void 0:p.number," â€¢ Requested by ",i.requestedBy]}),e.jsx("p",{className:"text-xs text-neutral-500",children:i.requestedAt})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i.status==="completed"?"bg-green-200 text-green-800":i.status==="in_progress"?"bg-blue-200 text-blue-800":"bg-gray-200 text-gray-800"}`,children:i.status.replace("_"," ").toUpperCase()}),i.estimatedCompletion&&e.jsxs("p",{className:"text-xs text-neutral-500 mt-1",children:["ETA: ",i.estimatedCompletion]})]})]})},i.id)})})]})]})}const Ts=({data:a,title:s})=>{const n=Math.max(...a.map(t=>t.value));return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:s}),e.jsx("div",{className:"space-y-2",children:a.map((t,r)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-20 text-sm text-gray-600",children:t.label}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-6 relative",children:e.jsx("div",{className:"bg-blue-500 h-6 rounded-full flex items-center justify-end pr-2",style:{width:`${t.value/n*100}%`},children:e.jsx("span",{className:"text-xs text-white font-medium",children:t.value})})})]},r))})]})},Ds={totalRevenue:285e4,monthlyGrowth:12.5,avgRevenuePerPatient:2850,revenueByDepartment:[{department:"Cardiology",revenue:85e4,percentage:29.8},{department:"Emergency",revenue:62e4,percentage:21.8},{department:"Surgery",revenue:58e4,percentage:20.4},{department:"ICU",revenue:45e4,percentage:15.8},{department:"Pediatrics",revenue:35e4,percentage:12.3}],equipmentRevenue:[{equipment:"MRI Machine",revenue:45e4,downtime:2.5},{equipment:"CT Scanner",revenue:32e4,downtime:1.2},{equipment:"X-Ray Unit",revenue:18e4,downtime:8.7},{equipment:"Ultrasound",revenue:12e4,downtime:.8}]},Es={totalReadmissions:127,readmissionRate:8.3,avgDaysBetweenReadmission:18.5,readmissionsByDepartment:[{department:"Cardiology",rate:12.1,count:45},{department:"Emergency",rate:9.8,count:38},{department:"ICU",rate:7.2,count:23},{department:"Surgery",rate:5.8,count:15},{department:"Pediatrics",rate:4.2,count:6}]},Rs=[{doctor:"Dr. Smith",consultationsPerDay:18,avgConsultationTime:16,patientSatisfaction:4.8,efficiencyScore:94},{doctor:"Dr. Johnson",consultationsPerDay:16,avgConsultationTime:18,patientSatisfaction:4.6,efficiencyScore:89},{doctor:"Dr. Brown",consultationsPerDay:14,avgConsultationTime:22,patientSatisfaction:4.9,efficiencyScore:87},{doctor:"Dr. Wilson",consultationsPerDay:20,avgConsultationTime:15,patientSatisfaction:4.7,efficiencyScore:96}],Is={current:{bedUtilization:75.2,staffEfficiency:91.5,patientSatisfaction:4.7,revenue:285e4},previous:{bedUtilization:72.8,staffEfficiency:89.2,patientSatisfaction:4.5,revenue:253e4}},_s=()=>{const{appointments:a}=_(g=>g.appointments),{patients:s}=_(g=>g.patients),{prescriptions:n}=_(g=>g.prescriptions),{items:t}=_(g=>g.inventory),r=a.filter(g=>g.status==="completed").length,c=n.filter(g=>g.status==="pending").length,l=t.filter(g=>g.currentStock<=g.minStock).length,m=[{label:"Jan",value:245},{label:"Feb",value:289},{label:"Mar",value:312},{label:"Apr",value:278},{label:"May",value:334},{label:"Jun",value:s.length}],f=[{label:"Cardiology",value:89},{label:"Neurology",value:67},{label:"Orthopedics",value:54},{label:"Pediatrics",value:43},{label:"Emergency",value:78}],d=[{label:"Q1",value:125e3},{label:"Q2",value:142e3},{label:"Q3",value:138e3},{label:"Q4",value:156e3}],u=g=>{const w=ge.alphanumeric(g),S={patients:m,departments:f,revenue:d,revenueMetrics:Ds,readmissionData:Es,staffEfficiency:Rs,comparativeMetrics:Is,timestamp:new Date().toISOString()},v=new Blob([JSON.stringify(S,null,2)],{type:"application/json"}),o=URL.createObjectURL(v),i=document.createElement("a");i.href=o,i.download=`hospital-analytics-${w}-${new Date().toISOString().split("T")[0]}.json`,i.click(),URL.revokeObjectURL(o)};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Analytics Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Hospital performance metrics and insights"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(b,{variant:"secondary",onClick:()=>u("pdf"),children:"ðŸ“„ Export PDF"}),e.jsx(b,{variant:"secondary",onClick:()=>u("excel"),children:"ðŸ“Š Export Excel"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(y,{className:"p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:s.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Patients"}),e.jsx("div",{className:"text-xs text-green-600 mt-1",children:"Active in system"})]}),e.jsxs(y,{className:"p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:r}),e.jsx("div",{className:"text-sm text-gray-600",children:"Completed Appointments"}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[a.length," total"]})]}),e.jsxs(y,{className:"p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:n.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Prescriptions"}),e.jsxs("div",{className:"text-xs text-yellow-600 mt-1",children:[c," pending"]})]}),e.jsxs(y,{className:"p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-600",children:l}),e.jsx("div",{className:"text-sm text-gray-600",children:"Low Stock Items"}),e.jsx("div",{className:"text-xs text-red-600 mt-1",children:"Needs attention"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(y,{className:"p-6",children:e.jsx("div",{className:"text-center p-4 text-neutral-600",children:"Chart placeholder"})}),e.jsx(y,{className:"p-6",children:e.jsx(Ts,{data:f,title:"Department Utilization"})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(y,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Staff Performance"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Dr. Smith"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"92%"}})}),e.jsx("span",{className:"text-xs text-gray-600",children:"92%"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Dr. Johnson"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"88%"}})}),e.jsx("span",{className:"text-xs text-gray-600",children:"88%"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Dr. Brown"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:"76%"}})}),e.jsx("span",{className:"text-xs text-gray-600",children:"76%"})]})]})]})]}),e.jsxs(y,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Equipment Status"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"MRI Machine"}),e.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800",children:"Operational"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"CT Scanner"}),e.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800",children:"Operational"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"X-Ray Unit"}),e.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:"Maintenance"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Ultrasound"}),e.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800",children:"Operational"})]})]})]}),e.jsxs(y,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Recent Activities"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-gray-600",children:"New patient registered"}),e.jsx("span",{className:"text-xs text-gray-500 ml-auto",children:"2 min ago"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-gray-600",children:"Bed A-101 available"}),e.jsx("span",{className:"text-xs text-gray-500 ml-auto",children:"5 min ago"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),e.jsx("span",{className:"text-gray-600",children:"Medication request pending"}),e.jsx("span",{className:"text-xs text-gray-500 ml-auto",children:"8 min ago"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsx("span",{className:"text-gray-600",children:"Lab results ready"}),e.jsx("span",{className:"text-xs text-gray-500 ml-auto",children:"12 min ago"})]})]})]})]})]})};function Ms(){const{stats:a,peakHours:s}=_(n=>n.appointmentAnalytics);return e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Appointment Analytics"}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[e.jsxs(y,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:a.total}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Appointments"})]}),e.jsxs(y,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:a.completed}),e.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]}),e.jsxs(y,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:a.noShows}),e.jsxs("div",{className:"text-sm text-gray-600",children:["No-Shows (",a.noShowRate,"%)"]})]}),e.jsxs(y,{className:"p-4",children:[e.jsxs("div",{className:"text-3xl font-bold text-gray-600",children:[a.avgWaitTime," min"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Avg Wait Time"})]})]}),e.jsxs(y,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Peak Hours Analysis"}),e.jsx("div",{className:"flex gap-4 items-end",children:s.map(n=>e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("div",{className:"h-48 bg-gray-200 rounded relative",children:e.jsx("div",{className:"absolute bottom-0 w-full bg-green-500 rounded",style:{height:`${n.count/70*100}%`}})}),e.jsx("div",{className:"mt-2 font-semibold",children:n.hour}),e.jsxs("div",{className:"text-sm text-gray-600",children:[n.count," appts"]})]},n.hour))})]})]})}function Ls(){const{ageDistribution:a,genderDistribution:s,visitFrequency:n}=_(t=>t.demographics);return e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Patient Demographics"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[e.jsxs(y,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Age Distribution"}),e.jsx("div",{className:"space-y-3",children:a.map(t=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsxs("span",{className:"font-medium",children:[t.range," years"]}),e.jsxs("span",{className:"text-gray-600",children:[t.count," (",t.percentage,"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded h-3",children:e.jsx("div",{className:"bg-blue-500 h-3 rounded",style:{width:`${t.percentage}%`}})})]},t.range))})]}),e.jsxs(y,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Gender Distribution"}),e.jsx("div",{className:"flex items-center justify-center h-48",children:s.map(t=>e.jsxs("div",{className:"flex-1 text-center",children:[e.jsxs("div",{className:`text-6xl font-bold ${t.gender==="Male"?"text-blue-600":"text-pink-600"}`,children:[t.percentage,"%"]}),e.jsx("div",{className:"text-lg font-semibold mt-2",children:t.gender}),e.jsxs("div",{className:"text-sm text-gray-600",children:[t.count," patients"]})]},t.gender))})]})]}),e.jsxs(y,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Visit Frequency"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:n.regular}),e.jsx("div",{className:"text-sm text-gray-600",children:"Regular Patients"})]}),e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:n.occasional}),e.jsx("div",{className:"text-sm text-gray-600",children:"Occasional Patients"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:n.firstTime}),e.jsx("div",{className:"text-sm text-gray-600",children:"First-Time Patients"})]})]})]})]})}function $s({patientName:a,doctorName:s,appointmentDate:n,appointmentTime:t,reminderType:r,status:c,scheduledFor:l,sentAt:m}){const f=()=>{switch(c){case"sent":return e.jsx(X,{status:"delivered",children:"Sent"});case"failed":return e.jsx(X,{status:"error",children:"Failed"});default:return e.jsx(X,{status:"pending",children:"Pending"})}},d=()=>{switch(r){case"sms":return"ðŸ’¬";case"email":return"ðŸ“§";case"push":return"ðŸ””"}};return e.jsx("div",{className:"flex items-center justify-between p-4 bg-white border border-neutral-200 rounded-lg hover:shadow-sm transition-shadow",children:e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:"text-2xl",children:d()}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-900",children:a}),f()]}),e.jsxs("p",{className:"text-xs text-neutral-600",children:["Appointment with Dr. ",s," on ",n," at ",t]}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:c==="sent"&&m?e.jsxs(e.Fragment,{children:["Sent ",De(new Date(m),"MMM dd, yyyy HH:mm")]}):e.jsxs(e.Fragment,{children:["Scheduled for ",De(new Date(l),"MMM dd, yyyy HH:mm")]})})]})]})})}function Bs(){const a=Ye(),{settings:s,templates:n,scheduled:t}=_(o=>o.reminders),[r,c]=A.useState(null),[l,m]=A.useState(!1),f=o=>{a(xe({[o]:!s[o]}))},d=(o,i)=>{const p=[...s.reminderTimes];p[o]=parseInt(i)||0,a(xe({reminderTimes:p}))},u=()=>{a(xe({reminderTimes:[...s.reminderTimes,1]}))},g=o=>{const i=s.reminderTimes.filter((p,x)=>x!==o);a(xe({reminderTimes:i}))},w=o=>{c(o),m(!0)},S=()=>{r&&(a(mt(r)),m(!1),c(null))},v=t.slice(0,10);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Appointment Reminder Settings"}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"Configure automated reminders to reduce no-shows"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(y,{className:"lg:col-span-2 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"General Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-neutral-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"Enable Reminders"}),e.jsx("p",{className:"text-xs text-neutral-600",children:"Master switch for all appointment reminders"})]}),e.jsx("button",{onClick:()=>f("enabled"),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${s.enabled?"bg-primary-600":"bg-neutral-300"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${s.enabled?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-neutral-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"SMS Reminders"}),e.jsx("p",{className:"text-xs text-neutral-600",children:"Send text message reminders"})]}),e.jsx("button",{onClick:()=>f("smsEnabled"),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${s.smsEnabled?"bg-primary-600":"bg-neutral-300"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${s.smsEnabled?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-neutral-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"Email Reminders"}),e.jsx("p",{className:"text-xs text-neutral-600",children:"Send email reminders"})]}),e.jsx("button",{onClick:()=>f("emailEnabled"),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${s.emailEnabled?"bg-primary-600":"bg-neutral-300"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${s.emailEnabled?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-neutral-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"Push Notifications"}),e.jsx("p",{className:"text-xs text-neutral-600",children:"Send app push notifications"})]}),e.jsx("button",{onClick:()=>f("pushEnabled"),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${s.pushEnabled?"bg-primary-600":"bg-neutral-300"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${s.pushEnabled?"translate-x-6":"translate-x-1"}`})})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-neutral-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-base font-medium text-neutral-900",children:"Reminder Timing"}),e.jsx(b,{size:"sm",onClick:u,children:"Add Time"})]}),e.jsx("div",{className:"space-y-3",children:s.reminderTimes.map((o,i)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(B,{type:"number",value:o,onChange:p=>d(i,p.target.value),className:"w-24",min:"1"}),e.jsx("span",{className:"text-sm text-neutral-600",children:"hours before appointment"}),s.reminderTimes.length>1&&e.jsx(b,{variant:"tertiary",size:"sm",onClick:()=>g(i),className:"text-error",children:"Remove"})]},i))})]})]}),e.jsxs(y,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Statistics"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center p-4 bg-primary-50 rounded-lg",children:[e.jsx("p",{className:"text-3xl font-semibold text-primary-700",children:t.filter(o=>o.status==="sent").length}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"Reminders Sent"})]}),e.jsxs("div",{className:"text-center p-4 bg-warning-50 rounded-lg",children:[e.jsx("p",{className:"text-3xl font-semibold text-warning-700",children:t.filter(o=>o.status==="pending").length}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"Pending"})]}),e.jsxs("div",{className:"text-center p-4 bg-error-50 rounded-lg",children:[e.jsx("p",{className:"text-3xl font-semibold text-error-700",children:t.filter(o=>o.status==="failed").length}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"Failed"})]})]})]})]}),e.jsxs(y,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Message Templates"}),e.jsx("div",{className:"space-y-3",children:n.map(o=>e.jsxs("div",{className:"flex items-start justify-between p-4 bg-neutral-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-lg",children:o.type==="sms"?"ðŸ’¬":o.type==="email"?"ðŸ“§":"ðŸ””"}),e.jsx("p",{className:"text-sm font-medium text-neutral-900 capitalize",children:o.type})]}),o.subject&&e.jsx("p",{className:"text-sm font-medium text-neutral-700 mb-1",children:o.subject}),e.jsx("p",{className:"text-xs text-neutral-600 line-clamp-2",children:o.message})]}),e.jsx(b,{variant:"tertiary",size:"sm",onClick:()=>w(o),children:"Edit"})]},o.id))})]}),e.jsxs(y,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Recent Reminders"}),v.length===0?e.jsx("p",{className:"text-sm text-neutral-600 text-center py-8",children:"No reminders scheduled yet"}):e.jsx("div",{className:"space-y-2",children:v.map(o=>e.jsx($s,{appointmentId:o.appointmentId,patientName:"Patient Name",doctorName:"Doctor Name",appointmentDate:"2024-01-20",appointmentTime:"10:00 AM",reminderType:o.type,status:o.status,scheduledFor:o.scheduledFor,sentAt:o.sentAt},o.id))})]}),e.jsx(fe,{isOpen:l,onClose:()=>m(!1),title:`Edit ${r==null?void 0:r.type} Template`,size:"lg",children:r&&e.jsxs("div",{className:"space-y-4",children:[r.type==="email"&&e.jsx(B,{label:"Subject",value:r.subject||"",onChange:o=>c({...r,subject:o.target.value})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Message"}),e.jsx("textarea",{value:r.message,onChange:o=>c({...r,message:o.target.value}),rows:6,className:"block w-full px-3 py-2 border border-neutral-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"}),e.jsxs("p",{className:"text-xs text-neutral-500 mt-2",children:["Available variables: ","{patientName}",", ","{doctorName}",", ","{date}",", ","{time}",", ","{location}",", ","{hospitalName}"]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(b,{variant:"secondary",onClick:()=>m(!1),children:"Cancel"}),e.jsx(b,{onClick:S,children:"Save Template"})]})]})})]})}function Fs({promoters:a,passives:s,detractors:n,npsScore:t}){const r=[{name:"Promoters (9-10)",value:a,color:"#10b981"},{name:"Passives (7-8)",value:s,color:"#f59e0b"},{name:"Detractors (0-6)",value:n,color:"#ef4444"}],c=l=>l>=50?"text-success":l>=0?"text-warning":"text-error";return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-neutral-600 mb-2",children:"Net Promoter Score"}),e.jsx("p",{className:`text-5xl font-bold ${c(t)}`,children:t}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:t>=50?"Excellent":t>=0?"Good":"Needs Improvement"})]}),e.jsx(Dt,{width:"100%",height:250,children:e.jsxs(bs,{children:[e.jsx(z,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:({name:l,percent:m})=>`${l==null?void 0:l.split(" ")[0]}: ${((m||0)*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:r.map((l,m)=>e.jsx(nt,{fill:l.color},`cell-${m}`))}),e.jsx(Et,{}),e.jsx(Rt,{})]})})]})}function Us(){const{feedbacks:a,npsScore:s}=_(d=>d.feedback),[n,t]=A.useState(""),[r,c]=A.useState("all"),l=a.filter(d=>{const u=d.patientName.toLowerCase().includes(n.toLowerCase())||d.doctorName.toLowerCase().includes(n.toLowerCase()),g=r==="all"||d.category===r;return u&&g}),m={promoters:a.filter(d=>d.category==="promoter").length,passives:a.filter(d=>d.category==="passive").length,detractors:a.filter(d=>d.category==="detractor").length,avgWaitTime:(a.reduce((d,u)=>d+u.aspects.waitTime,0)/a.length).toFixed(1),avgDoctorCare:(a.reduce((d,u)=>d+u.aspects.doctorCare,0)/a.length).toFixed(1),avgOverall:(a.reduce((d,u)=>d+u.aspects.overall,0)/a.length).toFixed(1)},f=d=>{switch(d){case"promoter":return e.jsx(X,{status:"delivered",children:"Promoter"});case"passive":return e.jsx(X,{status:"pending",children:"Passive"});case"detractor":return e.jsx(X,{status:"error",children:"Detractor"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Patient Feedback"}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"Monitor patient satisfaction and NPS"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(y,{className:"p-6",children:e.jsx(Fs,{promoters:m.promoters,passives:m.passives,detractors:m.detractors,npsScore:s})}),e.jsxs(y,{className:"lg:col-span-2 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Average Ratings"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-primary-50 rounded-lg",children:[e.jsx("p",{className:"text-3xl font-semibold text-primary-700",children:m.avgWaitTime}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"Wait Time"})]}),e.jsxs("div",{className:"text-center p-4 bg-success-50 rounded-lg",children:[e.jsx("p",{className:"text-3xl font-semibold text-success-700",children:m.avgDoctorCare}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"Doctor Care"})]}),e.jsxs("div",{className:"text-center p-4 bg-warning-50 rounded-lg",children:[e.jsx("p",{className:"text-3xl font-semibold text-warning-700",children:m.avgOverall}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"Overall"})]})]})]})]}),e.jsxs(y,{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsx(B,{placeholder:"Search by patient or doctor...",value:n,onChange:d=>t(d.target.value),className:"flex-1"}),e.jsxs("select",{value:r,onChange:d=>c(d.target.value),className:"px-3 py-2 border border-neutral-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"promoter",children:"Promoters"}),e.jsx("option",{value:"passive",children:"Passives"}),e.jsx("option",{value:"detractor",children:"Detractors"})]})]}),e.jsx("div",{className:"space-y-3",children:l.map(d=>e.jsxs("div",{className:"p-4 border border-neutral-200 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-neutral-900",children:d.patientName}),e.jsxs("p",{className:"text-xs text-neutral-600",children:["Dr. ",d.doctorName," â€¢ ",De(new Date(d.submittedAt),"MMM dd, yyyy")]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[f(d.category),e.jsxs("span",{className:"text-lg font-bold text-primary-600",children:[d.rating,"/10"]})]})]}),e.jsx("div",{className:"grid grid-cols-5 gap-2 mb-3",children:Object.entries(d.aspects).map(([u,g])=>e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-neutral-600 capitalize",children:u.replace(/([A-Z])/g," $1")}),e.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"â˜…".repeat(g)})]},u))}),d.comments&&e.jsxs("p",{className:"text-sm text-neutral-700 italic bg-neutral-50 p-3 rounded",children:['"',d.comments,'"']})]},d.id))})]})]})}function qs(){const a=[{method:"POST",path:"/api/auth/login",desc:"User authentication",auth:!1},{method:"GET",path:"/api/appointments",desc:"Get user appointments",auth:!0},{method:"POST",path:"/api/appointments",desc:"Book appointment",auth:!0},{method:"GET",path:"/api/prescriptions",desc:"Get prescriptions",auth:!0},{method:"GET",path:"/api/lab-results",desc:"Get lab results",auth:!0},{method:"POST",path:"/api/messages",desc:"Send secure message",auth:!0},{method:"GET",path:"/api/health-summary",desc:"Get health metrics",auth:!0}];return e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Mobile App API Documentation"}),e.jsxs(y,{className:"p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Authentication"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded font-mono text-sm",children:[e.jsx("div",{className:"mb-2",children:"POST /api/auth/login"}),e.jsxs("div",{className:"text-gray-600",children:["Body: ",'{ "email": "user@example.com", "password": "***" }']}),e.jsxs("div",{className:"text-gray-600 mt-2",children:["Response: ",'{ "token": "jwt_token", "user": {...} }']})]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-3",children:["Include token in Authorization header: Bearer ","<token>"]})]}),e.jsxs(y,{className:"p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"API Endpoints"}),e.jsx("div",{className:"space-y-3",children:a.map((s,n)=>e.jsxs("div",{className:"flex items-center gap-4 p-3 bg-gray-50 rounded",children:[e.jsx("span",{className:`px-3 py-1 rounded text-xs font-bold ${s.method==="GET"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:s.method}),e.jsx("code",{className:"flex-1 font-mono text-sm",children:s.path}),e.jsx("span",{className:"text-sm text-gray-600",children:s.desc}),s.auth&&e.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-xs",children:"ðŸ”’ Auth"})]},n))})]}),e.jsxs(y,{className:"p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Push Notifications"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("p",{children:"â€¢ Appointment reminders (24h, 1h before)"}),e.jsx("p",{children:"â€¢ Lab results available"}),e.jsx("p",{children:"â€¢ Prescription ready for pickup"}),e.jsx("p",{children:"â€¢ New secure messages"}),e.jsx("p",{children:"â€¢ Medication adherence reminders"})]})]}),e.jsxs(y,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Rate Limiting"}),e.jsx("p",{className:"text-sm text-gray-600",children:"100 requests per minute per user"}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Response headers include: X-RateLimit-Remaining"})]})]})}function zs(){const a=Ye(),[s,n]=A.useState("AroCord General Hospital"),[t,r]=A.useState("123 Medical Center Drive"),[c,l]=A.useState("+1 (555) 123-4567"),[m,f]=A.useState("admin@arocord.com"),d=()=>{a(ut({type:"success",title:"Settings Saved",message:"Hospital configuration has been updated successfully",priority:"medium",category:"system"}))};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Settings"})}),e.jsxs("div",{className:"max-w-4xl space-y-6",children:[e.jsxs(y,{children:[e.jsx("h2",{className:"text-h3 text-neutral-900 mb-6",children:"Hospital Configuration"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(B,{label:"Hospital Name",value:s,onChange:u=>n(u.target.value)}),e.jsx(B,{label:"Phone Number",value:c,onChange:u=>l(u.target.value)}),e.jsx(B,{label:"Email Address",type:"email",value:m,onChange:u=>f(u.target.value)}),e.jsx(B,{label:"Address",value:t,onChange:u=>r(u.target.value)})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx(b,{onClick:d,children:"Save Changes"})})]}),e.jsxs(y,{children:[e.jsx("h2",{className:"text-h3 text-neutral-900 mb-6",children:"System Preferences"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-body font-medium text-neutral-900",children:"Email Notifications"}),e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Receive email alerts for critical events"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-body font-medium text-neutral-900",children:"Auto Backup"}),e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Automatically backup data daily"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-body font-medium text-neutral-900",children:"Maintenance Mode"}),e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Enable maintenance mode for system updates"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})]})]}),e.jsxs(y,{children:[e.jsx("h2",{className:"text-h3 text-neutral-900 mb-6",children:"Security & Backup"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(b,{variant:"secondary",className:"justify-start",children:"ðŸ” Change Admin Password"}),e.jsx(b,{variant:"secondary",className:"justify-start",children:"ðŸ’¾ Create Backup"}),e.jsx(b,{variant:"secondary",className:"justify-start",children:"ðŸ“Š View Audit Logs"}),e.jsx(b,{variant:"secondary",className:"justify-start",children:"ðŸ”„ System Update"})]})]})]})]})}function Xs(){return e.jsxs(xt,{children:[e.jsx(U,{index:!0,element:e.jsx(Ns,{})}),e.jsx(U,{path:"users",element:e.jsx(Ss,{})}),e.jsx(U,{path:"beds",element:e.jsx(Cs,{})}),e.jsx(U,{path:"analytics",element:e.jsx(_s,{})}),e.jsx(U,{path:"appointment-analytics",element:e.jsx(Ms,{})}),e.jsx(U,{path:"demographics",element:e.jsx(Ls,{})}),e.jsx(U,{path:"reminders",element:e.jsx(Bs,{})}),e.jsx(U,{path:"feedback",element:e.jsx(Us,{})}),e.jsx(U,{path:"api-docs",element:e.jsx(qs,{})}),e.jsx(U,{path:"settings",element:e.jsx(zs,{})})]})}export{Xs as default};
