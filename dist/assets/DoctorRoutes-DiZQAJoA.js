import{j as e,C as m,a as y,B as h,d as $,e as B,m as S,c as L,I as k,f as U,M as O,s as W,g as J}from"./index-Br-Gz1Ol.js";import{a as g,u as E,f as Q,h as R}from"./vendor-Co8sLtJy.js";import{u as T,d as M}from"./redux-29f41A6q.js";import{N as V,E as Y}from"./EmptyState-DyZZWIsp.js";import{U as K}from"./UnifiedPatientStatusDashboard-BfMQaS6k.js";import{S as G}from"./SmartNotificationSystem-BQ4FqXTp.js";import{f as H}from"./format-DxorSBJt.js";import"./ui-Bub52LCX.js";function F({patientName:c,age:a,gender:l,allergies:s,currentMedications:n,vitalSigns:i,lastVisit:r}){return e.jsxs(m,{className:"mb-4 bg-primary-50 border-primary-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-h4 text-neutral-900",children:c}),e.jsxs("p",{className:"text-body-sm text-neutral-600",children:[a,"Y â€¢ ",l," â€¢ Last visit: ",r||"First visit"]})]}),i&&e.jsxs("div",{className:"flex gap-2 text-body-sm",children:[e.jsxs("span",{children:["BP: ",i.bp]}),e.jsxs("span",{children:["HR: ",i.hr]}),e.jsxs("span",{children:["Temp: ",i.temp,"Â°F"]}),e.jsxs("span",{children:["O2: ",i.o2,"%"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm font-medium text-neutral-700 mb-1",children:"Allergies"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.length>0?s.map((u,j)=>e.jsx(y,{status:"error",children:u},j)):e.jsx("span",{className:"text-body-sm text-neutral-500",children:"None"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm font-medium text-neutral-700 mb-1",children:"Current Medications"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.length>0?n.slice(0,3).map((u,j)=>e.jsx(y,{status:"pending",children:u},j)):e.jsx("span",{className:"text-body-sm text-neutral-500",children:"None"}),n.length>3&&e.jsxs(y,{status:"sent",children:["+",n.length-3," more"]})]})]})]})]})}function X({onTranscript:c,placeholder:a="Click to speak...",className:l=""}){const[s,n]=g.useState(!1),[i,r]=g.useState(""),u=()=>{n(!0),setTimeout(()=>{const o=["Patient reports persistent headache for 3 days, mild fever, and fatigue","Experiencing chest pain radiating to left arm, shortness of breath","Complains of abdominal pain in lower right quadrant, nausea and vomiting","Presents with cough, sore throat, and body aches for 2 days","Reports dizziness, blurred vision, and elevated blood pressure readings"],t=o[Math.floor(Math.random()*o.length)];r(t),c(t),n(!1)},2e3)},j=()=>{n(!1)};return e.jsxs("div",{className:`flex items-center gap-2 ${l}`,children:[e.jsx(h,{variant:s?"primary":"secondary",size:"sm",onClick:s?j:u,className:s?"animate-pulse":"",children:s?"ðŸ”´ Listening...":"ðŸŽ¤ Voice Input"}),i&&e.jsx("span",{className:"text-body-sm text-success",children:"âœ“ Transcribed"})]})}function _({symptoms:c,onSelect:a}){const l=[{diagnosis:"Type 2 Diabetes - Uncontrolled",icd10:"E11.65",confidence:92,treatments:["Metformin 500mg","Lifestyle modification","HbA1c monitoring"],reasoning:"Based on elevated blood sugar, patient history, and symptoms"},{diagnosis:"Hypertension",icd10:"I10",confidence:85,treatments:["Lisinopril 10mg","Low sodium diet","Regular BP monitoring"],reasoning:"Consistent elevated BP readings, family history"},{diagnosis:"Upper Respiratory Infection",icd10:"J06.9",confidence:78,treatments:["Amoxicillin 500mg","Rest","Fluids"],reasoning:"Symptoms align with viral/bacterial URI"}];return e.jsxs(m,{className:"bg-primary-50 border-primary-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ¤–"}),e.jsx("h3",{className:"text-h4 text-neutral-900",children:"AI-Powered Suggestions"})]}),e.jsx("div",{className:"space-y-2",children:l.map((s,n)=>e.jsxs("div",{className:"p-3 bg-white rounded-small cursor-pointer hover:bg-primary-100 border border-primary-200",onClick:()=>a(s),children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-body font-medium",children:s.diagnosis}),e.jsx("p",{className:"text-body-sm text-neutral-600",children:s.icd10})]}),e.jsxs(y,{status:s.confidence>85?"delivered":"pending",children:[s.confidence,"% confidence"]})]}),e.jsx("p",{className:"text-body-sm text-neutral-600 mb-2",children:s.reasoning}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.treatments.map((i,r)=>e.jsx("span",{className:"text-xs px-2 py-1 bg-primary-100 rounded-small",children:i},r))})]},n))})]})}function Z({consultationData:c}){const a=[{id:"1",category:"Documentation",check:"Chief Complaint Documented",status:"pass"},{id:"2",category:"Documentation",check:"Diagnosis with ICD-10 Code",status:"pass"},{id:"3",category:"Safety",check:"Allergy Verification",status:"pass",message:"Checked against 2 known allergies"},{id:"4",category:"Safety",check:"Drug Interaction Check",status:"pass",message:"No interactions found"},{id:"5",category:"Clinical",check:"Vital Signs Reviewed",status:"pass"},{id:"6",category:"Clinical",check:"Treatment Plan Documented",status:"pass"},{id:"7",category:"Compliance",check:"Follow-up Scheduled",status:"warning",message:"Recommended for chronic condition"},{id:"8",category:"Compliance",check:"Patient Education Provided",status:"pass"}],l=a.filter(i=>i.status==="pass").length,s=a.filter(i=>i.status==="warning").length,n=a.filter(i=>i.status==="fail").length;return e.jsxs(m,{className:n>0?"bg-error/10":s>0?"bg-warning/10":"bg-success/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-h4 text-neutral-900",children:"Automated Quality Checks"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(y,{status:"delivered",children:[l," Pass"]}),s>0&&e.jsxs(y,{status:"pending",children:[s," Warning"]}),n>0&&e.jsxs(y,{status:"error",children:[n," Fail"]})]})]}),e.jsx("div",{className:"space-y-3",children:["Documentation","Safety","Clinical","Compliance"].map(i=>e.jsxs("div",{children:[e.jsx("h4",{className:"text-body-sm font-medium text-neutral-700 mb-2",children:i}),e.jsx("div",{className:"space-y-1",children:a.filter(r=>r.category===i).map(r=>e.jsx("div",{className:"flex items-start justify-between p-2 bg-white rounded-small",children:e.jsxs("div",{className:"flex items-start gap-2 flex-1",children:[e.jsx("span",{className:"text-lg",children:r.status==="pass"?"âœ…":r.status==="warning"?"âš ï¸":"âŒ"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm font-medium",children:r.check}),r.message&&e.jsx("p",{className:"text-body-sm text-neutral-600",children:r.message})]})]})},r.id))})]},i))}),n===0&&s===0&&e.jsx("div",{className:"mt-4 p-3 bg-success/20 rounded-small text-center",children:e.jsx("p",{className:"text-body font-medium text-success",children:"âœ… All quality checks passed - Ready for completion"})})]})}function ee(){const c={currentLoad:75,predictedWaitTime:18,bottlenecks:["Doctor consultation","Lab processing"],recommendations:["Activate additional consultation room","Pre-order common lab tests","Notify backup doctor for peak hours"]},a=[{id:"P005",name:"Alice Brown",eta:"5 min",complexity:"low",predictedTime:"8 min"},{id:"P006",name:"Bob Wilson",eta:"12 min",complexity:"high",predictedTime:"15 min"},{id:"P007",name:"Carol Davis",eta:"20 min",complexity:"medium",predictedTime:"10 min"}];return e.jsxs(m,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-h4 text-neutral-900",children:"ðŸ”® Predictive Patient Flow"}),e.jsxs(y,{status:"pending",children:[c.currentLoad,"% Load"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"p-3 bg-info/10 rounded-small",children:[e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Predicted Wait Time"}),e.jsxs("p",{className:"text-h3 text-info",children:[c.predictedWaitTime," min"]})]}),e.jsxs("div",{className:"p-3 bg-warning/10 rounded-small",children:[e.jsx("p",{className:"text-body-sm text-neutral-600",children:"System Load"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 bg-neutral-200 rounded-full h-2",children:e.jsx("div",{className:"bg-warning h-2 rounded-full",style:{width:`${c.currentLoad}%`}})}),e.jsxs("span",{className:"text-body-sm font-medium",children:[c.currentLoad,"%"]})]})]})]}),c.bottlenecks.length>0&&e.jsxs("div",{className:"mb-4 p-3 bg-error/10 rounded-small",children:[e.jsx("p",{className:"text-body-sm font-medium text-error mb-2",children:"âš ï¸ Detected Bottlenecks:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:c.bottlenecks.map((l,s)=>e.jsx(y,{status:"error",children:l},s))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-body-sm font-medium mb-2",children:"AI Recommendations:"}),e.jsx("ul",{className:"space-y-1",children:c.recommendations.map((l,s)=>e.jsxs("li",{className:"text-body-sm flex items-start gap-2 p-2 bg-success/10 rounded-small",children:[e.jsx("span",{className:"text-success",children:"âœ“"}),e.jsx("span",{children:l})]},s))})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm font-medium mb-2",children:"Upcoming Patients (Predicted):"}),e.jsx("div",{className:"space-y-2",children:a.map(l=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-neutral-50 rounded-small",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm font-medium",children:l.name}),e.jsxs("p",{className:"text-body-sm text-neutral-600",children:["ETA: ",l.eta]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(y,{status:l.complexity==="high"?"error":l.complexity==="medium"?"pending":"delivered",children:l.complexity}),e.jsxs("p",{className:"text-body-sm text-neutral-600 mt-1",children:["~",l.predictedTime]})]})]},l.id))})]})]})}function se(){const c=E(),{user:a}=T(t=>t.auth),[l,s]=g.useState({todayCompleted:0,todayPending:0}),[n,i]=g.useState(!0),[r,u]=g.useState(!0),{updateCount:j}=$();g.useEffect(()=>{(async()=>{i(!0),await new Promise(x=>setTimeout(x,1e3));const d=S.getPatients(),p=d.filter(x=>x.status==="waiting"&&x.currentStage==="Pharmacy").length,v=d.filter(x=>x.status==="ready"||x.status==="in-progress").length;s({todayCompleted:p,todayPending:v}),u(d.length>0),i(!1)})()},[j]);const o={avgConsultationTime:10,improvement:44,satisfaction:4.8};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Enhanced Doctor Dashboard"}),e.jsxs("p",{className:"text-sm text-neutral-600 mt-1",children:["Welcome back, ",(a==null?void 0:a.name)||"Dr. Wilson"]})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:n?Array.from({length:4}).map((t,d)=>e.jsx(m,{className:"p-4",children:e.jsx(B,{lines:2})},d)):r?e.jsxs(e.Fragment,{children:[e.jsx(m,{className:"p-4 bg-success/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-neutral-600 mb-1",children:"Avg Consultation"}),e.jsxs("p",{className:"text-3xl font-semibold text-success",children:[o.avgConsultationTime,"m"]}),e.jsxs("p",{className:"text-xs text-success",children:["â†“ ",o.improvement,"% faster"]})]}),e.jsx("div",{className:"w-12 h-12 bg-success/20 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"âš¡"})})]})}),e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-neutral-600 mb-1",children:"Completed Today"}),e.jsx("p",{className:"text-3xl font-semibold text-doctor",children:l.todayCompleted})]}),e.jsx("div",{className:"w-12 h-12 bg-doctor/10 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"âœ“"})})]})}),e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-neutral-600 mb-1",children:"Pending"}),e.jsx("p",{className:"text-3xl font-semibold text-warning",children:l.todayPending})]}),e.jsx("div",{className:"w-12 h-12 bg-warning/10 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"â±"})})]})}),e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-neutral-600 mb-1",children:"Satisfaction"}),e.jsx("p",{className:"text-3xl font-semibold text-neutral-900",children:o.satisfaction})]}),e.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"â­"})})]})})]}):e.jsx("div",{className:"col-span-full",children:e.jsx(V,{onRefresh:()=>window.location.reload()})})}),!r&&!n&&e.jsx(m,{className:"p-6",children:e.jsx(V,{onRefresh:()=>window.location.reload()})}),e.jsxs(m,{className:"p-6",children:[e.jsx("h2",{className:"text-h3 text-neutral-900 mb-4",children:"Quick Access - Consultation Flows"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[e.jsx(h,{variant:"primary",className:"justify-start h-auto py-4",onClick:()=>c("/doctor/consultation"),children:e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold",children:"Complete System"}),e.jsx("div",{className:"text-xs opacity-90",children:"All features enabled"})]})}),e.jsx(h,{variant:"secondary",className:"justify-start h-auto py-4",onClick:()=>c("/doctor/consultation-phase3"),children:e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold",children:"Phase 3"}),e.jsx("div",{className:"text-xs opacity-90",children:"Workflow automation"})]})}),e.jsx(h,{variant:"secondary",className:"justify-start h-auto py-4",onClick:()=>c("/doctor/consultation-phase2"),children:e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold",children:"Phase 2"}),e.jsx("div",{className:"text-xs opacity-90",children:"AI & collaboration"})]})}),e.jsx(h,{variant:"secondary",className:"justify-start h-auto py-4",onClick:()=>c("/doctor/consultation-phase1"),children:e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold",children:"Phase 1"}),e.jsx("div",{className:"text-xs opacity-90",children:"5 unified dashboards"})]})})]}),e.jsx("div",{className:"mt-3",children:e.jsx(h,{variant:"tertiary",size:"sm",onClick:()=>c("/doctor/consultation-legacy"),children:"View Legacy Flow (14 steps)"})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(K,{})}),e.jsx("div",{children:e.jsx(G,{})})]}),e.jsx(m,{className:"p-6 bg-gradient-to-r from-primary-50 to-success-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-2",children:"System Improvements"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Time Saved"}),e.jsx("p",{className:"text-h3 text-success",children:"8 min"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Steps Reduced"}),e.jsx("p",{className:"text-h3 text-primary",children:"14 â†’ 5"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Efficiency"}),e.jsx("p",{className:"text-h3 text-success",children:"+44%"})]})]})]}),e.jsx(h,{onClick:()=>c("/admin/system-comparison"),children:"View Comparison"})]})})]})}function te(){const c=E(),{appointments:a}=T(i=>i.appointments),{patients:l}=T(i=>i.patients),s=a.filter(i=>i.status==="confirmed"||i.status==="scheduled").map(i=>{const r=l.find(u=>u.id===i.patientId);return{id:i.patientId,name:i.patientName,age:(r==null?void 0:r.age)||0,appointment:i.time,vitalsBy:"Nurse Sarah",vitalsTime:i.time,chiefComplaint:i.type,priority:i.status==="confirmed"?"urgent":"normal",waitTime:"5 min"}}),n=i=>{c(`/doctor/consultation/${i}`)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Patient Queue"}),e.jsx("p",{className:"text-gray-600",children:"Patients with completed pre-consultation preparation"})]}),e.jsxs(m,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-h3 text-neutral-900",children:"Ready for Consultation"}),e.jsx("p",{className:"text-body text-neutral-600",children:"Patients with completed pre-consultation preparation"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-h4 text-doctor",children:s.length}),e.jsx("div",{className:"text-body-sm text-neutral-600",children:"Patients Ready"})]})]}),e.jsx("div",{className:"space-y-4",children:s.map(i=>e.jsx(m,{className:"hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center space-y-4 lg:space-y-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h3",{className:"text-h4 text-neutral-900",children:i.name}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${i.priority==="urgent"?"bg-red-100 text-red-800":i.priority==="normal"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:i.priority}),e.jsxs("span",{className:"text-body-sm text-neutral-500",children:["Age: ",i.age]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 text-body-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-600",children:"Appointment:"}),e.jsx("div",{className:"font-medium",children:i.appointment})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-600",children:"Chief Complaint:"}),e.jsx("div",{className:"font-medium",children:i.chiefComplaint})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-600",children:"Vitals by:"}),e.jsx("div",{className:"font-medium",children:i.vitalsBy}),e.jsx("div",{className:"text-neutral-500",children:i.vitalsTime})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-600",children:"Waiting:"}),e.jsx("div",{className:"font-medium text-warning",children:i.waitTime})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:[e.jsx(h,{variant:"secondary",size:"sm",onClick:()=>c(`/doctor/patients/${i.id}`),children:"View History"}),e.jsx(h,{variant:"primary",onClick:()=>n(i.id),children:"Start Consultation"})]})]})},i.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(m,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-4",children:"Workflow Status"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-body",children:"Registered by Reception"}),e.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800",children:"8 patients"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-body",children:"Vitals by Nursing"}),e.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800",children:"5 complete"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-body",children:"Ready for Doctor"}),e.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:"3 waiting"})]})]})]}),e.jsxs(m,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-4",children:"Today's Progress"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-body",children:"Consultations Complete"}),e.jsx("span",{className:"text-h4 text-success",children:"6"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-body",children:"Average Consultation"}),e.jsx("span",{className:"text-body font-medium",children:"18 min"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-body",children:"Patient Satisfaction"}),e.jsx("span",{className:"text-body font-medium",children:"4.8/5"})]})]})]}),e.jsxs(m,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{variant:"secondary",className:"w-full justify-start",children:"ðŸ“‹ View All Patients"}),e.jsx(h,{variant:"secondary",className:"w-full justify-start",children:"ðŸ“Š Today's Schedule"}),e.jsx(h,{variant:"secondary",className:"w-full justify-start",children:"ðŸ’Š Pending Prescriptions"})]})]})]})]})}const z=({className:c})=>e.jsx("span",{className:c,children:"ðŸ“…"}),ie=({className:c})=>e.jsx("span",{className:c,children:"ðŸ•"}),ae=({className:c})=>e.jsx("span",{className:c,children:"ðŸ‘¤"}),ne=()=>{const c=M(),[a,l]=g.useState(new Date().toISOString().split("T")[0]),[s,n]=g.useState("day"),i=[{id:"A001",patient:"John Smith",patientId:"P001",time:"10:00 AM",date:"2024-01-15",type:"Consultation",status:"confirmed",notes:"Follow-up for chest pain"},{id:"A002",patient:"Sarah Johnson",patientId:"P002",time:"11:30 AM",date:"2024-01-15",type:"Follow-up",status:"pending"},{id:"A003",patient:"Mike Wilson",patientId:"P003",time:"02:00 PM",date:"2024-01-15",type:"Check-up",status:"confirmed"},{id:"A004",patient:"Emma Davis",patientId:"P004",time:"03:30 PM",date:"2024-01-15",type:"Consultation",status:"completed"}],r=i.filter(t=>t.date===a),u=t=>{c(L({type:"info",title:"Starting Consultation",message:`Starting consultation with ${t.patient}`,priority:"medium",category:"appointment"}))},j=t=>{c(L({type:"info",title:"Reschedule Request",message:`Reschedule request sent for ${t.patient}`,priority:"medium",category:"appointment"}))},o=t=>{switch(t){case"confirmed":return"delivered";case"pending":return"pending";case"completed":return"delivered";case"cancelled":return"error";default:return"pending"}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"My Appointments"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(h,{variant:s==="day"?"primary":"secondary",onClick:()=>n("day"),children:"Day View"}),e.jsx(h,{variant:s==="week"?"primary":"secondary",onClick:()=>n("week"),children:"Week View"})]})]}),e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(z,{className:"w-5 h-5 text-gray-500"}),e.jsx("input",{type:"date",value:a,onChange:t=>l(t.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-doctor-500 focus:border-transparent"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[r.length," appointments scheduled"]})]})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:r.length>0?r.map(t=>e.jsxs(m,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ae,{className:"w-8 h-8 text-gray-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t.patient}),e.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",t.patientId]})]})]}),e.jsx(y,{status:o(t.status),children:t.status})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(ie,{className:"w-4 h-4"}),e.jsx("span",{children:t.time})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(z,{className:"w-4 h-4"}),e.jsx("span",{children:t.type})]}),t.notes&&e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Notes:"})," ",t.notes]})]}),e.jsxs("div",{className:"flex gap-2",children:[t.status==="confirmed"&&e.jsx(h,{variant:"primary",size:"sm",onClick:()=>u(t),children:"Start Consultation"}),t.status!=="completed"&&t.status!=="cancelled"&&e.jsx(h,{variant:"secondary",size:"sm",onClick:()=>j(t),children:"Reschedule"}),e.jsx(h,{variant:"secondary",size:"sm",children:"View Details"})]})]},t.id)):e.jsxs("div",{className:"lg:col-span-2 text-center py-12",children:[e.jsx(z,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No appointments scheduled"}),e.jsx("p",{className:"text-gray-500",children:"No appointments found for the selected date."})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(m,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:i.filter(t=>t.status==="confirmed").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Confirmed"})]}),e.jsxs(m,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:i.filter(t=>t.status==="pending").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Pending"})]}),e.jsxs(m,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:i.filter(t=>t.status==="completed").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]}),e.jsxs(m,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:i.filter(t=>t.status==="cancelled").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Cancelled"})]})]})]})};function le(){const c=M(),{prescriptions:a}=T(x=>x.prescriptions),{user:l}=T(x=>x.auth),[s,n]=g.useState(""),[i,r]=g.useState("all"),[u,j]=g.useState(!1),o=a.filter(x=>x.doctorName===(l==null?void 0:l.name)||!0),t=o.filter(x=>{const w=x.patientName.toLowerCase().includes(s.toLowerCase())||x.medications.some(N=>N.name.toLowerCase().includes(s.toLowerCase())),P=i==="all"||x.status===i,D=!u||x.refillRequested;return w&&P&&D}),d=o.filter(x=>x.refillRequested).length,p=x=>{c(U(x))},v=x=>{switch(x){case"dispensed":return e.jsx(y,{status:"delivered",children:"Dispensed"});case"ready":return e.jsx(y,{status:"sent",children:"Ready"});case"processing":return e.jsx(y,{status:"pending",children:"Processing"});default:return e.jsx(y,{status:"request",children:"Pending"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Prescription History"}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"View and manage patient prescriptions"})]}),d>0&&e.jsxs(h,{onClick:()=>j(!u),className:"flex items-center gap-2",children:[e.jsx("span",{className:"bg-error text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",children:d}),u?"Show All":"Refill Requests"]})]}),e.jsxs(m,{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsx(k,{placeholder:"Search by patient or medication...",value:s,onChange:x=>n(x.target.value),className:"flex-1"}),e.jsxs("select",{value:i,onChange:x=>r(x.target.value),className:"px-3 py-2 border border-neutral-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"processing",children:"Processing"}),e.jsx("option",{value:"ready",children:"Ready"}),e.jsx("option",{value:"dispensed",children:"Dispensed"})]})]}),t.length===0?e.jsx(Y,{icon:"ðŸ“‹",title:"No prescriptions found",description:s||i!=="all"||u?"Try adjusting your filters":"Prescriptions you write will appear here"}):e.jsx("div",{className:"space-y-4",children:t.map(x=>e.jsxs("div",{className:`p-4 border-2 rounded-lg transition-all ${x.refillRequested?"border-warning-300 bg-warning-50":"border-neutral-200"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("p",{className:"text-base font-semibold text-neutral-900",children:x.patientName}),x.refillRequested&&e.jsx(y,{status:"pending",children:"Refill Requested"})]}),e.jsxs("p",{className:"text-sm text-neutral-600",children:["Prescription #",x.id," â€¢ ",H(new Date(x.prescriptionDate),"MMM dd, yyyy HH:mm")]})]}),v(x.status)]}),e.jsx("div",{className:"space-y-2 mb-3",children:x.medications.map((w,P)=>e.jsxs("div",{className:"flex justify-between items-start p-3 bg-white rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-900",children:w.name}),e.jsxs("p",{className:"text-xs text-neutral-600",children:[w.dosage," â€¢ ",w.frequency," â€¢ ",w.duration]}),w.instructions&&e.jsx("p",{className:"text-xs text-neutral-500 mt-1 italic",children:w.instructions})]}),e.jsxs("p",{className:"text-sm text-neutral-600",children:["Qty: ",w.quantity]})]},P))}),x.notes&&e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg mb-3",children:[e.jsx("p",{className:"text-xs text-neutral-600 mb-1",children:"Clinical Notes"}),e.jsx("p",{className:"text-sm text-neutral-900",children:x.notes})]}),e.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-neutral-200",children:[e.jsxs("div",{className:"text-xs text-neutral-600",children:[x.refillsRemaining!==void 0&&e.jsxs("span",{children:["Refills remaining: ",x.refillsRemaining]}),x.refillRequestDate&&e.jsxs("span",{className:"ml-4",children:["Requested: ",H(new Date(x.refillRequestDate),"MMM dd, yyyy")]})]}),e.jsxs("div",{className:"flex gap-2",children:[x.refillRequested&&e.jsx(h,{size:"sm",onClick:()=>p(x.id),children:"Approve Refill"}),e.jsx(h,{variant:"secondary",size:"sm",children:"View Full Details"})]})]})]},x.id))})]}),e.jsxs(m,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Statistics"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-primary-50 rounded-lg",children:[e.jsx("p",{className:"text-3xl font-semibold text-primary-700",children:o.length}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"Total Prescriptions"})]}),e.jsxs("div",{className:"text-center p-4 bg-warning-50 rounded-lg",children:[e.jsx("p",{className:"text-3xl font-semibold text-warning-700",children:d}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"Refill Requests"})]}),e.jsxs("div",{className:"text-center p-4 bg-success-50 rounded-lg",children:[e.jsx("p",{className:"text-3xl font-semibold text-success-700",children:o.filter(x=>x.status==="dispensed").length}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"Dispensed"})]}),e.jsxs("div",{className:"text-center p-4 bg-neutral-100 rounded-lg",children:[e.jsx("p",{className:"text-3xl font-semibold text-neutral-700",children:o.filter(x=>x.status==="pending").length}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"Pending"})]})]})]})]})}function ce({onSave:c,onCancel:a}){const l=g.useRef(null),[s,n]=g.useState(!1),i=t=>{const d=l.current;if(!d)return;const p=d.getContext("2d");if(!p)return;n(!0);const v=d.getBoundingClientRect();p.beginPath(),p.moveTo(t.clientX-v.left,t.clientY-v.top)},r=t=>{if(!s)return;const d=l.current;if(!d)return;const p=d.getContext("2d");if(!p)return;const v=d.getBoundingClientRect();p.lineTo(t.clientX-v.left,t.clientY-v.top),p.stroke()},u=()=>n(!1),j=()=>{const t=l.current;if(!t)return;const d=t.getContext("2d");d&&d.clearRect(0,0,t.width,t.height)},o=()=>{const t=l.current;t&&c(t.toDataURL())};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"border-2 border-gray-300 rounded",children:e.jsx("canvas",{ref:l,width:500,height:200,onMouseDown:i,onMouseMove:r,onMouseUp:u,onMouseLeave:u,className:"cursor-crosshair"})}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(h,{variant:"outline",onClick:j,children:"Clear"}),e.jsx(h,{variant:"outline",onClick:a,children:"Cancel"}),e.jsx(h,{onClick:o,children:"Save Signature"})]})]})}function re(){const{signatures:c,signedPrescriptions:a}=T(t=>t.signature),{prescriptions:l}=T(t=>t.prescriptions),s=M(),[n,i]=g.useState(!1),[r,u]=g.useState(null),j=l.filter(t=>!a.find(d=>d.prescriptionId===t.id)),o=t=>{const d={id:Date.now().toString(),doctorId:"D001",doctorName:"Dr. Smith",signatureData:t,createdAt:new Date().toISOString()};s(W(d)),r&&s(J({id:Date.now().toString(),prescriptionId:r,signatureId:d.id})),i(!1),u(null)};return e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Electronic Prescription Signature"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["Unsigned Prescriptions (",j.length,")"]}),e.jsxs("div",{className:"space-y-3",children:[j.map(t=>e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:t.medication}),e.jsx("p",{className:"text-sm text-gray-600",children:t.patientName}),e.jsx("p",{className:"text-sm text-gray-500",children:t.date})]}),e.jsx(h,{size:"sm",onClick:()=>{u(t.id),i(!0)},children:"Sign"})]})},t.id)),j.length===0&&e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No unsigned prescriptions"})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Signature Audit Trail"}),e.jsx("div",{className:"space-y-3",children:a.slice(0,10).map(t=>{var p,v;const d=l.find(x=>x.id===t.prescriptionId);return d?e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-sm",children:((v=(p=d==null?void 0:d.medications)==null?void 0:p[0])==null?void 0:v.name)||"Medication"}),e.jsx("p",{className:"text-xs text-gray-600",children:new Date(t.signedAt).toLocaleString()}),e.jsxs("p",{className:"text-xs text-gray-500",children:["IP: ",t.ipAddress]})]})]})},t.id):null})})]})]}),e.jsx(O,{isOpen:n,onClose:()=>i(!1),title:"Sign Prescription",children:e.jsx(ce,{onSave:o,onCancel:()=>i(!1)})})]})}function de(){const{performance:c,monthlyData:a}=T(l=>l.doctorAnalytics);return e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Doctor Performance Dashboard"}),e.jsxs("div",{className:"grid grid-cols-5 gap-4 mb-6",children:[e.jsxs(m,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:c.consultations}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Consultations"})]}),e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"text-3xl font-bold text-yellow-600",children:[c.avgRating,"â­"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Avg Rating"})]}),e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[c.patientSatisfaction,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Satisfaction"})]}),e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:["$",(c.revenue/1e3).toFixed(0),"K"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Revenue"})]}),e.jsxs(m,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-indigo-600",children:c.prescriptions}),e.jsx("div",{className:"text-sm text-gray-600",children:"Prescriptions"})]})]}),e.jsxs(m,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Monthly Performance"}),e.jsx("div",{className:"flex gap-4",children:a.map(l=>e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("div",{className:"h-40 bg-gray-200 rounded relative",children:e.jsx("div",{className:"absolute bottom-0 w-full bg-blue-500 rounded",style:{height:`${l.consultations/60*100}%`}})}),e.jsx("div",{className:"mt-2 font-semibold",children:l.month}),e.jsxs("div",{className:"text-sm text-gray-600",children:[l.consultations," visits"]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["$",(l.revenue/1e3).toFixed(0),"K"]})]},l.month))})]})]})}const oe=({className:c})=>e.jsx("span",{className:c,children:"ðŸ‘¤"}),me=({className:c})=>e.jsx("span",{className:c,children:"âœï¸"}),xe=({className:c})=>e.jsx("span",{className:c,children:"ðŸ’¾"}),he=({className:c})=>e.jsx("span",{className:c,children:"ðŸ†"}),ue=({className:c})=>e.jsx("span",{className:c,children:"ðŸ“…"}),pe=()=>{const c=M(),[a,l]=g.useState(!1),[s,n]=g.useState({name:"Dr. Sarah Wilson",specialization:"Cardiologist",email:"sarah.wilson@hospital.com",phone:"+1 (555) 123-4567",qualifications:"MBBS, MD (Cardiology)",registration:"TNMC1234",experience:"8 Years",department:"Cardiology",bio:"Experienced cardiologist specializing in interventional cardiology and heart disease prevention.",languages:"English, Spanish",consultationFee:"$150"}),i=()=>{c(L({type:"success",title:"Profile Updated",message:"Your profile has been updated successfully",priority:"medium",category:"system"})),l(!1)},r=()=>{l(!1)},u=[{title:"Best Doctor Award 2023",organization:"Medical Association"},{title:"Excellence in Patient Care",organization:"Hospital Board"},{title:"Research Publication",organization:"Cardiology Journal"}],j=[{day:"Monday",time:"9:00 AM - 5:00 PM"},{day:"Tuesday",time:"9:00 AM - 5:00 PM"},{day:"Wednesday",time:"9:00 AM - 1:00 PM"},{day:"Thursday",time:"9:00 AM - 5:00 PM"},{day:"Friday",time:"9:00 AM - 5:00 PM"},{day:"Saturday",time:"9:00 AM - 1:00 PM"},{day:"Sunday",time:"Off"}];return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"My Profile"}),e.jsx("div",{className:"flex gap-3",children:a?e.jsxs(e.Fragment,{children:[e.jsx(h,{variant:"secondary",onClick:r,children:"Cancel"}),e.jsxs(h,{variant:"primary",onClick:i,children:[e.jsx(xe,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]}):e.jsxs(h,{variant:"primary",onClick:()=>l(!0),children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(m,{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-24 h-24 bg-doctor-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(oe,{className:"w-12 h-12 text-doctor-600"})}),a?e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{value:s.name,onChange:o=>n({...s,name:o.target.value}),className:"text-center font-semibold"}),e.jsx(k,{value:s.specialization,onChange:o=>n({...s,specialization:o.target.value}),className:"text-center"})]}):e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s.name}),e.jsx("p",{className:"text-gray-600",children:s.specialization})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Department:"}),e.jsx("span",{className:"text-gray-900",children:s.department})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Experience:"}),e.jsx("span",{className:"text-gray-900",children:s.experience})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Registration:"}),e.jsx("span",{className:"text-gray-900",children:s.registration})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Consultation Fee:"}),e.jsx("span",{className:"text-gray-900",children:s.consultationFee})]})]})]}),e.jsxs(m,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a?e.jsx(k,{type:"email",value:s.email,onChange:o=>n({...s,email:o.target.value})}):e.jsx("p",{className:"text-gray-900",children:s.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),a?e.jsx(k,{value:s.phone,onChange:o=>n({...s,phone:o.target.value})}):e.jsx("p",{className:"text-gray-900",children:s.phone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Languages"}),a?e.jsx(k,{value:s.languages,onChange:o=>n({...s,languages:o.target.value})}):e.jsx("p",{className:"text-gray-900",children:s.languages})]})]})]}),e.jsxs(m,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Professional Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Qualifications"}),a?e.jsx(k,{value:s.qualifications,onChange:o=>n({...s,qualifications:o.target.value})}):e.jsx("p",{className:"text-gray-900",children:s.qualifications})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio"}),a?e.jsx("textarea",{value:s.bio,onChange:o=>n({...s,bio:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-doctor-500 focus:border-transparent",rows:4}):e.jsx("p",{className:"text-gray-900",children:s.bio})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(m,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(he,{className:"w-5 h-5 mr-2"}),"Achievements & Awards"]}),e.jsx("div",{className:"space-y-3",children:u.map((o,t)=>e.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:o.title}),e.jsx("p",{className:"text-sm text-gray-600",children:o.organization})]},t))})]}),e.jsxs(m,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(ue,{className:"w-5 h-5 mr-2"}),"Weekly Schedule"]}),e.jsx("div",{className:"space-y-2",children:j.map((o,t)=>e.jsxs("div",{className:"flex justify-between items-center p-2 border border-gray-200 rounded",children:[e.jsx("span",{className:"font-medium text-gray-900",children:o.day}),e.jsx("span",{className:`text-sm ${o.time==="Off"?"text-red-500":"text-gray-600"}`,children:o.time})]},t))})]})]}),e.jsxs(m,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Statistics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"1,247"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Patients"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"4.9"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Average Rating"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"98%"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Success Rate"})]}),e.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:"156"}),e.jsx("div",{className:"text-sm text-gray-600",children:"This Month"})]})]})]})]})};function je({onNext:c,onSave:a,data:l,setData:s}){const[n,i]=g.useState({history:!0,vitals:!0}),[r,u]=g.useState(null);g.useEffect(()=>{const d=S.getPatient((l==null?void 0:l.patientId)||"P001"),p=S.getVitals((l==null?void 0:l.patientId)||"P001")[0];d&&u({patientId:d.id,patientName:d.name,age:d.age,gender:d.gender,allergies:d.allergies,currentMedications:d.medications,vitalSigns:p||{bp:"120/80",hr:72,temp:98.6,o2:98},lastVisit:"2024-01-15"})},[l==null?void 0:l.patientId]);const j=()=>{s&&r&&s({...l,patientOverview:r}),c()},o=()=>{s&&r&&s({...l,patientOverview:r}),a()};if(!r)return e.jsx("div",{children:"Loading..."});const t=[{date:"2024-01-15",condition:"Type 2 Diabetes",status:"Ongoing"},{date:"2023-11-20",condition:"Hypertension",status:"Controlled"},{date:"2023-06-10",condition:"Annual Checkup",status:"Completed"}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-h3 text-neutral-900",children:"Patient Overview Hub"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(h,{variant:"secondary",size:"sm",onClick:o,children:"Save Draft"}),e.jsx(h,{onClick:j,children:"Continue to Assessment â†’"})]})]}),e.jsx(F,{...r}),e.jsxs(m,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-3 cursor-pointer",onClick:()=>i(d=>({...d,history:!d.history})),children:[e.jsx("h3",{className:"text-h4 text-neutral-900",children:"Medical History"}),e.jsx("span",{className:"text-body",children:n.history?"â–¼":"â–¶"})]}),n.history&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{placeholder:"Search medical history...",className:"mb-3"}),t.map((d,p)=>e.jsxs("div",{className:"p-3 bg-neutral-50 rounded-small flex justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-body font-medium",children:d.condition}),e.jsx("p",{className:"text-body-sm text-neutral-600",children:d.date})]}),e.jsx("span",{className:`text-body-sm ${d.status==="Ongoing"?"text-warning":"text-success"}`,children:d.status})]},p))]})]}),e.jsxs(m,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-3 cursor-pointer",onClick:()=>i(d=>({...d,vitals:!d.vitals})),children:[e.jsx("h3",{className:"text-h4 text-neutral-900",children:"Vital Signs (Recorded by Nurse)"}),e.jsx("span",{className:"text-body",children:n.vitals?"â–¼":"â–¶"})]}),n.vitals&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-3 bg-success/10 rounded-small mb-3",children:e.jsx("p",{className:"text-body text-success",children:"âœ… Vitals completed by Nurse Sarah at 9:45 AM"})}),e.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[e.jsxs("div",{className:"text-center p-3 bg-white rounded-small border",children:[e.jsx("div",{className:"text-body-sm font-medium",children:"Blood Pressure"}),e.jsx("div",{className:"text-h4 text-neutral-900",children:r.vitalSigns.bp}),e.jsx("div",{className:"text-body-sm text-neutral-600",children:"mmHg"})]}),e.jsxs("div",{className:"text-center p-3 bg-white rounded-small border",children:[e.jsx("div",{className:"text-body-sm font-medium",children:"Heart Rate"}),e.jsx("div",{className:"text-h4 text-neutral-900",children:r.vitalSigns.hr}),e.jsx("div",{className:"text-body-sm text-neutral-600",children:"bpm"})]}),e.jsxs("div",{className:"text-center p-3 bg-white rounded-small border",children:[e.jsx("div",{className:"text-body-sm font-medium",children:"Temperature"}),e.jsx("div",{className:"text-h4 text-neutral-900",children:r.vitalSigns.temp}),e.jsx("div",{className:"text-body-sm text-neutral-600",children:"Â°F"})]}),e.jsxs("div",{className:"text-center p-3 bg-white rounded-small border",children:[e.jsx("div",{className:"text-body-sm font-medium",children:"O2 Saturation"}),e.jsx("div",{className:"text-h4 text-neutral-900",children:r.vitalSigns.o2}),e.jsx("div",{className:"text-body-sm text-neutral-600",children:"%"})]})]})]})]}),e.jsxs(m,{className:"bg-neutral-50",children:[e.jsx("h4",{className:"text-body font-medium mb-2",children:"Quick Actions"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(h,{variant:"secondary",size:"sm",children:"View Full History"}),e.jsx(h,{variant:"secondary",size:"sm",children:"View Lab Results"}),e.jsx(h,{variant:"secondary",size:"sm",children:"View Prescriptions"})]})]})]})}function ge({onNext:c,onPrevious:a,onSave:l,data:s,setData:n}){var D,N,C;const[i,r]=g.useState(((D=s==null?void 0:s.clinicalAssessment)==null?void 0:D.chiefComplaint)||""),[u,j]=g.useState(((N=s==null?void 0:s.clinicalAssessment)==null?void 0:N.symptoms)||[]),[o,t]=g.useState(((C=s==null?void 0:s.clinicalAssessment)==null?void 0:C.diagnosis)||""),[d,p]=g.useState(null);g.useEffect(()=>{const f=S.getPatient((s==null?void 0:s.patientId)||"P001"),A=S.getVitals((s==null?void 0:s.patientId)||"P001")[0];f&&p({patientId:f.id,patientName:f.name,age:f.age,gender:f.gender,allergies:f.allergies,currentMedications:f.medications,vitalSigns:A||{bp:"120/80",hr:72,temp:98.6,o2:98}})},[s==null?void 0:s.patientId]);const v=()=>{n&&n({...s,clinicalAssessment:{chiefComplaint:i,symptoms:u,diagnosis:o}}),c()},x=()=>{n&&n({...s,clinicalAssessment:{chiefComplaint:i,symptoms:u,diagnosis:o}}),l()};if(!d)return e.jsx("div",{children:"Loading..."});const w=["Fever","Cough","Headache","Chest Pain","Abdominal Pain"],P=["Fatigue","Nausea","Dizziness","Shortness of breath","Loss of appetite"];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-h3 text-neutral-900",children:"Clinical Assessment Center"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(h,{variant:"tertiary",size:"sm",onClick:a,children:"â† Back"}),e.jsx(h,{variant:"secondary",size:"sm",onClick:x,children:"Save Draft"}),e.jsx(h,{onClick:v,children:"Continue to Treatment â†’"})]})]}),e.jsx(F,{...d}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(m,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-3",children:"Chief Complaint"}),e.jsx(k,{placeholder:"Describe main complaint...",value:i,onChange:f=>r(f.target.value),className:"mb-2"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:w.map(f=>e.jsx(h,{variant:"secondary",size:"sm",onClick:()=>r(f),children:f},f))})]}),e.jsxs(m,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-3",children:"Symptoms"}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx(k,{placeholder:"Add symptom...",className:"flex-1"}),e.jsx(X,{onTranscript:f=>j(A=>[...A,f])})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:P.map(f=>e.jsxs(h,{variant:"secondary",size:"sm",onClick:()=>j(A=>[...A,f]),children:["+ ",f]},f))}),u.length>0&&e.jsx("div",{className:"mt-2 p-2 bg-neutral-50 rounded-small",children:e.jsxs("p",{className:"text-body-sm",children:["Selected: ",u.join(", ")]})})]})]}),e.jsxs(m,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-3",children:"Physical Examination"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:["General","Cardiovascular","Respiratory","Abdominal","Neurological","Musculoskeletal"].map(f=>e.jsxs("label",{className:"flex items-center gap-2 p-2 border rounded-small cursor-pointer hover:bg-neutral-50",children:[e.jsx("input",{type:"checkbox"}),e.jsx("span",{className:"text-body",children:f})]},f))}),e.jsx(k,{placeholder:"Additional examination notes...",className:"mt-3"})]}),e.jsx(_,{symptoms:u,onSelect:f=>t(`${f.diagnosis} (${f.icd10})`)})]})}function Ne({onNext:c,onPrevious:a,onSave:l,data:s,setData:n}){var P,D;const[i,r]=g.useState(((P=s==null?void 0:s.treatmentPlan)==null?void 0:P.template)||""),[u,j]=g.useState(((D=s==null?void 0:s.treatmentPlan)==null?void 0:D.medications)||[]),[o,t]=g.useState(null);g.useEffect(()=>{const N=S.getPatient((s==null?void 0:s.patientId)||"P001"),C=S.getVitals((s==null?void 0:s.patientId)||"P001")[0];N&&t({patientId:N.id,patientName:N.name,age:N.age,gender:N.gender,allergies:N.allergies,currentMedications:N.medications,vitalSigns:C||{bp:"120/80",hr:72,temp:98.6,o2:98}})},[s==null?void 0:s.patientId]);const d=()=>{n&&n({...s,treatmentPlan:{template:i,medications:u}}),c()},p=()=>{n&&n({...s,treatmentPlan:{template:i,medications:u}}),l()};if(!o)return e.jsx("div",{children:"Loading..."});const v=[{id:1,name:"Diabetes Management",meds:["Metformin 500mg","Glipizide 5mg"]},{id:2,name:"Hypertension Control",meds:["Lisinopril 10mg","Amlodipine 5mg"]},{id:3,name:"Upper Respiratory Infection",meds:["Amoxicillin 500mg","Ibuprofen 400mg"]}],x=[{name:"Complete Blood Count (CBC)",priority:"Routine"},{name:"Lipid Panel",priority:"Routine"},{name:"HbA1c",priority:"Urgent"}],w=N=>{r(N.name),j(N.meds.map(C=>({name:C,dosage:"1 tablet",frequency:"Daily"})))};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-h3 text-neutral-900",children:"Treatment Plan Hub"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(h,{variant:"tertiary",size:"sm",onClick:a,children:"â† Back"}),e.jsx(h,{variant:"secondary",size:"sm",onClick:p,children:"Save Draft"}),e.jsx(h,{onClick:d,children:"Continue to Review â†’"})]})]}),e.jsx(F,{...o}),e.jsx(m,{className:"bg-info/10 border-info",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"âš¡"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-body font-medium",children:"Parallel Processing Active"}),e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Pharmacy and Lab will be notified simultaneously when you complete this section"})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(m,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-3",children:"Smart Prescription Templates"}),e.jsx("div",{className:"space-y-2 mb-3",children:v.map(N=>e.jsxs("div",{className:"p-3 border rounded-small cursor-pointer hover:bg-primary-50 hover:border-primary-300",onClick:()=>w(N),children:[e.jsx("p",{className:"text-body font-medium",children:N.name}),e.jsxs("p",{className:"text-body-sm text-neutral-600",children:[N.meds.length," medications"]})]},N.id))}),i&&e.jsx("div",{className:"p-3 bg-success/10 rounded-small",children:e.jsxs("p",{className:"text-body-sm text-success",children:['âœ… Template "',i,'" applied']})})]}),e.jsxs(m,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-3",children:"Medications"}),u.length===0?e.jsx("div",{className:"text-center py-4 text-neutral-500",children:e.jsx("p",{className:"text-body-sm",children:"Select a template or add medications manually"})}):e.jsx("div",{className:"space-y-2",children:u.map((N,C)=>e.jsxs("div",{className:"p-2 bg-neutral-50 rounded-small",children:[e.jsx("p",{className:"text-body font-medium",children:N.name}),e.jsxs("p",{className:"text-body-sm text-neutral-600",children:[N.dosage," â€¢ ",N.frequency]})]},C))}),e.jsx(h,{variant:"secondary",size:"sm",className:"w-full mt-3",children:"+ Add Medication"})]})]}),e.jsxs(m,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-3",children:"Lab Test Orders"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:x.map((N,C)=>e.jsxs("label",{className:"flex items-start gap-2 p-2 border rounded-small cursor-pointer hover:bg-neutral-50",children:[e.jsx("input",{type:"checkbox",className:"mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm font-medium",children:N.name}),e.jsx(y,{status:N.priority==="Urgent"?"error":"sent",className:"text-xs",children:N.priority})]})]},C))})]}),e.jsxs(m,{className:"bg-neutral-50",children:[e.jsx("h4",{className:"text-body font-medium mb-2",children:"Auto-Notifications Ready"}),e.jsxs("div",{className:"space-y-2 text-body-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ’Š"}),e.jsx("span",{children:"Pharmacy will receive prescription immediately"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ”¬"}),e.jsx("span",{children:"Lab will receive test orders with priority indicators"})]})]})]})]})}function fe({onNext:c,onPrevious:a,onSave:l,data:s,setData:n}){var w,P,D,N,C,f,A,q;const[i,r]=g.useState(null),[u,j]=g.useState(!1);g.useEffect(()=>{const b=S.getPatient((s==null?void 0:s.patientId)||"P001"),I=S.getVitals((s==null?void 0:s.patientId)||"P001")[0];b&&r({patientId:b.id,patientName:b.name,age:b.age,gender:b.gender,allergies:b.allergies,currentMedications:b.medications,vitalSigns:I||{bp:"120/80",hr:72,temp:98.6,o2:98}})},[s==null?void 0:s.patientId]);const o=()=>{n&&n({...s,finalReview:{signed:u,timestamp:Date.now()}}),c()},t=()=>{n&&n({...s,finalReview:{signed:u,timestamp:Date.now()}}),l()},d=()=>{j(!0),alert("Consultation signed successfully!")};if(!i)return e.jsx("div",{children:"Loading..."});const p={chiefComplaint:((w=s==null?void 0:s.clinicalAssessment)==null?void 0:w.chiefComplaint)||"Not recorded",diagnosis:((P=s==null?void 0:s.clinicalAssessment)==null?void 0:P.diagnosis)||"Not recorded",medications:((N=(D=s==null?void 0:s.treatmentPlan)==null?void 0:D.medications)==null?void 0:N.map(b=>`${b.name} - ${b.dosage} ${b.frequency}`))||[],labTests:["HbA1c","Lipid Panel"],followUp:"2 weeks"},v=[{item:"Chief Complaint",status:(C=s==null?void 0:s.clinicalAssessment)!=null&&C.chiefComplaint?"complete":"incomplete"},{item:"Diagnosis with ICD-10",status:(f=s==null?void 0:s.clinicalAssessment)!=null&&f.diagnosis?"complete":"incomplete"},{item:"Prescription",status:((q=(A=s==null?void 0:s.treatmentPlan)==null?void 0:A.medications)==null?void 0:q.length)>0?"complete":"incomplete"},{item:"Drug Interaction Check",status:"complete"},{item:"Allergy Verification",status:"complete"}],x=v.every(b=>b.status==="complete");return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-h3 text-neutral-900",children:"Final Review Station"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(h,{variant:"tertiary",size:"sm",onClick:a,children:"â† Back"}),e.jsx(h,{variant:"secondary",size:"sm",onClick:t,children:"Save Draft"}),e.jsx(h,{onClick:o,disabled:!u,children:"Complete & Send â†’"})]})]}),e.jsx(F,{...i}),e.jsx(Z,{consultationData:p}),e.jsxs(m,{className:x?"bg-success/10 border-success":"bg-warning/10 border-warning",children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-3",children:x?"âœ… Automated Validation Complete":"âš ï¸ Validation Incomplete"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:v.map((b,I)=>e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white rounded-small",children:[e.jsx("span",{className:b.status==="complete"?"text-success":"text-warning",children:b.status==="complete"?"âœ“":"âš "}),e.jsx("span",{className:"text-body-sm",children:b.item})]},I))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(m,{children:[e.jsx("div",{className:"flex justify-between items-center mb-3",children:e.jsx("h3",{className:"text-h4 text-neutral-900",children:"Clinical Assessment"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm font-medium text-neutral-700",children:"Chief Complaint"}),e.jsx("p",{className:"text-body",children:p.chiefComplaint})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm font-medium text-neutral-700",children:"Diagnosis"}),e.jsx("p",{className:"text-body",children:p.diagnosis})]})]})]}),e.jsxs(m,{children:[e.jsx("div",{className:"flex justify-between items-center mb-3",children:e.jsx("h3",{className:"text-h4 text-neutral-900",children:"Treatment Plan"})}),e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm font-medium text-neutral-700",children:"Medications"}),p.medications.length>0?p.medications.map((b,I)=>e.jsx("p",{className:"text-body-sm",children:b},I)):e.jsx("p",{className:"text-body-sm text-neutral-500",children:"No medications prescribed"})]})})]})]}),e.jsxs(m,{className:"bg-info/10",children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-3",children:"Multi-Role Safety Checks"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded-small",children:[e.jsx("span",{className:"text-body-sm",children:"Nurse vitals verification"}),e.jsx(y,{status:"delivered",children:"Verified"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded-small",children:[e.jsx("span",{className:"text-body-sm",children:"Pharmacy drug interaction check"}),e.jsx(y,{status:"delivered",children:"Clear"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded-small",children:[e.jsx("span",{className:"text-body-sm",children:"Lab test availability"}),e.jsx(y,{status:"delivered",children:"Available"})]})]})]}),e.jsxs(m,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-3",children:"Digital Signature"}),e.jsx("div",{className:"border-2 border-dashed border-neutral-300 rounded-small p-4 text-center",children:u?e.jsxs("div",{className:"text-success",children:[e.jsx("p",{className:"text-h4 mb-2",children:"âœ“ Signed"}),e.jsxs("p",{className:"text-body-sm",children:["Consultation signed at ",new Date().toLocaleTimeString()]})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-body-sm text-neutral-600 mb-2",children:"Sign to complete consultation"}),e.jsx(h,{variant:"primary",onClick:d,children:"Sign Consultation"})]})})]})]})}function ye({onPrevious:c,data:a}){const l=E(),[s,n]=g.useState({pharmacy:"pending",lab:"pending",billing:"pending",followUp:"pending"});g.useEffect(()=>{const j=setTimeout(()=>{var o,t,d,p;n({pharmacy:"sent",lab:"sent",billing:"sent",followUp:"sent"}),((t=(o=a==null?void 0:a.treatmentPlan)==null?void 0:o.medications)==null?void 0:t.length)>0&&S.addNotification({type:"info",fromRole:"Doctor",toRole:"Pharmacy",title:"New Prescription",message:`Prescription ready for ${((d=a==null?void 0:a.patientOverview)==null?void 0:d.patientName)||"Patient"}`,patientId:(a==null?void 0:a.patientId)||"P001",patientName:((p=a==null?void 0:a.patientOverview)==null?void 0:p.patientName)||"Patient",priority:"medium"})},2e3);return()=>clearTimeout(j)},[a]);const r=(()=>{const j=(a==null?void 0:a.patientOverview)||{},o=(a==null?void 0:a.clinicalAssessment)||{},t=(a==null?void 0:a.treatmentPlan)||{};return{patient:j.patientName||"Unknown",age:j.age||"N/A",complaint:o.chiefComplaint||"Not recorded",diagnosis:o.diagnosis||"Not recorded",medications:t.medications||[],duration:Math.floor((Date.now()-((a==null?void 0:a.startTime)||Date.now()))/6e4)||10}})(),u=()=>{S.saveConsultation((a==null?void 0:a.patientId)||"P001",{...a,completedAt:Date.now(),duration:r.duration}),S.updatePatientStatus((a==null?void 0:a.patientId)||"P001","waiting","Pharmacy"),alert("Consultation completed successfully!"),l("/doctor")};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-h3 text-neutral-900",children:"Summary & Multi-Role Handoff"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(h,{variant:"tertiary",size:"sm",onClick:c,children:"â† Back"}),e.jsx(h,{variant:"primary",onClick:u,children:"Complete Consultation"})]})]}),e.jsxs(m,{className:"bg-gradient-to-r from-primary-50 to-success-50",children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-3",children:"ðŸ“‹ AI-Generated Consultation Summary"}),e.jsxs("div",{className:"space-y-3 bg-white p-4 rounded-small",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm font-medium text-neutral-700",children:"Patient"}),e.jsxs("p",{className:"text-body",children:[r.patient,", ",r.age," years"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm font-medium text-neutral-700",children:"Consultation Duration"}),e.jsxs("p",{className:"text-body text-success",children:[r.duration," minutes"]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm font-medium text-neutral-700",children:"Chief Complaint"}),e.jsx("p",{className:"text-body",children:r.complaint})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm font-medium text-neutral-700",children:"Diagnosis"}),e.jsx("p",{className:"text-body",children:r.diagnosis})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm font-medium text-neutral-700",children:"Treatment Plan"}),r.medications.length>0?e.jsx("ul",{className:"list-disc list-inside",children:r.medications.map((j,o)=>e.jsxs("li",{className:"text-body-sm",children:[j.name," - ",j.dosage," ",j.frequency]},o))}):e.jsx("p",{className:"text-body-sm text-neutral-500",children:"No medications prescribed"})]})]})]}),e.jsxs(m,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-3",children:"Multi-Channel Handoff Status"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-neutral-50 rounded-small",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ’Š"}),e.jsx("span",{className:"text-body",children:"Pharmacy"})]}),e.jsx(y,{status:s.pharmacy==="sent"?"delivered":"pending",children:s.pharmacy==="sent"?"Notified":"Pending"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-neutral-50 rounded-small",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ”¬"}),e.jsx("span",{className:"text-body",children:"Laboratory"})]}),e.jsx(y,{status:s.lab==="sent"?"delivered":"pending",children:s.lab==="sent"?"Notified":"Pending"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-neutral-50 rounded-small",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ’°"}),e.jsx("span",{className:"text-body",children:"Billing"})]}),e.jsx(y,{status:s.billing==="sent"?"delivered":"pending",children:s.billing==="sent"?"Notified":"Pending"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-neutral-50 rounded-small",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ“…"}),e.jsx("span",{className:"text-body",children:"Follow-up"})]}),e.jsx(y,{status:s.followUp==="sent"?"delivered":"pending",children:s.followUp==="sent"?"Scheduled":"Pending"})]})]})]}),e.jsxs(m,{className:"bg-info/10",children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-3",children:"Live Patient Journey Tracking"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white rounded-small",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-success animate-pulse"}),e.jsx("span",{className:"text-body-sm",children:"Consultation completed"}),e.jsx("span",{className:"text-body-sm text-neutral-600 ml-auto",children:"Just now"})]}),e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white rounded-small",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-warning animate-pulse"}),e.jsx("span",{className:"text-body-sm",children:"Patient moved to pharmacy queue"}),e.jsx("span",{className:"text-body-sm text-neutral-600 ml-auto",children:"Just now"})]}),e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white rounded-small",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-info animate-pulse"}),e.jsx("span",{className:"text-body-sm",children:"Notifications sent to all departments"}),e.jsx("span",{className:"text-body-sm text-neutral-600 ml-auto",children:"Just now"})]})]})]}),e.jsxs(m,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-3",children:"Automated Patient Instructions"}),e.jsxs("div",{className:"p-3 bg-neutral-50 rounded-small",children:[e.jsx("p",{className:"text-body-sm mb-2",children:"âœ… Discharge instructions generated"}),e.jsx("p",{className:"text-body-sm mb-2",children:"âœ… Medication guide prepared"}),e.jsx("p",{className:"text-body-sm",children:"âœ… Follow-up reminder scheduled"})]})]}),e.jsx(m,{className:"bg-success/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-1",children:"Consultation Performance"}),e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Time saved vs traditional flow"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-h2 text-success",children:[r.duration," min"]}),e.jsx("p",{className:"text-body-sm text-success",children:"â†“ 44% faster"})]})]})})]})}const ve=(c="P001",a="final")=>{const l=`consultation-${a}-${c}`,[s,n]=g.useState(()=>{const t=localStorage.getItem(l);return t?JSON.parse(t):{patientId:c,currentStep:1,startTime:Date.now()}});g.useEffect(()=>{localStorage.setItem(l,JSON.stringify(s))},[s,l]);const i=t=>{n(d=>({...d,currentStep:t}))},r=(t,d)=>{n(p=>({...p,[t]:d}))},u=(t,d)=>{n(p=>({...p,[t]:{...p[t],...d}}))},j=()=>{n({patientId:c,currentStep:1,startTime:Date.now()}),localStorage.removeItem(l)},o=()=>{const t=`consultation-completed-${c}-${Date.now()}`;localStorage.setItem(t,JSON.stringify({...s,completedAt:Date.now(),duration:Date.now()-(s.startTime||Date.now())})),j()};return{state:s,currentStep:s.currentStep,updateStep:i,updateSection:r,saveData:u,resetConsultation:j,completeConsultation:o}};function be(){const{state:c,currentStep:a,updateStep:l,saveData:s}=ve("P001","final"),[n,i]=g.useState({collaboration:!1,workflow:!0,aiDiagnosis:!1,predictiveFlow:!1,performance:!0}),r=[{id:1,name:"Patient Overview",component:je},{id:2,name:"Clinical Assessment",component:ge},{id:3,name:"Treatment Plan",component:Ne},{id:4,name:"Final Review",component:fe},{id:5,name:"Summary & Handoff",component:ye}],u=()=>{a<5&&l(a+1)},j=()=>{a>1&&l(a-1)},o=()=>{alert("Draft saved successfully!")},t=p=>{i(v=>({...v,[p]:!v[p]}))},d=r[a-1].component;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-h3 text-neutral-900",children:"Complete Integrated System (Phase 4)"}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(y,{status:"pending",children:["Step ",a," of 5"]})})]}),e.jsx("div",{className:"flex gap-2 mb-3",children:r.map(p=>e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`h-2 rounded-full ${p.id<a?"bg-success":p.id===a?"bg-primary":"bg-neutral-200"}`}),e.jsx("p",{className:`text-xs mt-1 ${p.id===a?"text-primary font-medium":"text-neutral-600"}`,children:p.name})]},p.id))}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(h,{size:"sm",variant:n.workflow?"primary":"secondary",onClick:()=>t("workflow"),children:["Workflow ",n.workflow?"âœ“":""]}),e.jsxs(h,{size:"sm",variant:n.collaboration?"primary":"secondary",onClick:()=>t("collaboration"),children:["Collaboration ",n.collaboration?"âœ“":""]}),e.jsxs(h,{size:"sm",variant:n.aiDiagnosis?"primary":"secondary",onClick:()=>t("aiDiagnosis"),children:["AI Diagnosis ",n.aiDiagnosis?"âœ“":""]}),e.jsxs(h,{size:"sm",variant:n.predictiveFlow?"primary":"secondary",onClick:()=>t("predictiveFlow"),children:["Predictive Flow ",n.predictiveFlow?"âœ“":""]}),e.jsxs(h,{size:"sm",variant:n.performance?"primary":"secondary",onClick:()=>t("performance"),children:["Performance ",n.performance?"âœ“":""]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[n.predictiveFlow&&e.jsx("div",{children:e.jsx(ee,{})}),e.jsx("div",{className:`${n.predictiveFlow&&n.collaboration?"lg:col-span-2":n.predictiveFlow||n.collaboration?"lg:col-span-3":"lg:col-span-4"}`,children:e.jsx(d,{onNext:u,onPrevious:j,onSave:o,data:c,setData:p=>s("",p)})})]})]})}function Te(){return e.jsxs(Q,{children:[e.jsx(R,{index:!0,element:e.jsx(se,{})}),e.jsx(R,{path:"queue",element:e.jsx(te,{})}),e.jsx(R,{path:"consultation/:patientId",element:e.jsx(be,{})}),e.jsx(R,{path:"appointments",element:e.jsx(ne,{})}),e.jsx(R,{path:"prescriptions",element:e.jsx(le,{})}),e.jsx(R,{path:"prescription-signature",element:e.jsx(re,{})}),e.jsx(R,{path:"performance",element:e.jsx(de,{})}),e.jsx(R,{path:"profile",element:e.jsx(pe,{})})]})}export{Te as default};
