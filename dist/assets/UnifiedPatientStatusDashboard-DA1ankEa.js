import{c as d,m as x,j as e,C as m,a as o}from"./index-BoG5v4Dy.js";import{a as r}from"./vendor-pjqRyqzN.js";function g(){const[t,a]=r.useState([]),{updateCount:n}=d();r.useEffect(()=>{a(x.getPatients())},[n]);const i=s=>{switch(s){case"ready":return"bg-success";case"in-progress":return"bg-warning";case"waiting":return"bg-info";case"delayed":return"bg-error";default:return"bg-neutral-400"}},l=s=>{switch(s){case"ready":return"ðŸŸ¢";case"in-progress":return"ðŸŸ¡";case"waiting":return"ðŸ”´";case"delayed":return"âš«";default:return"âšª"}};return e.jsxs(m,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-h3 text-neutral-900",children:"Live Patient Journey Map"}),e.jsxs("div",{className:"flex gap-2 text-body-sm",children:[e.jsx("span",{children:"ðŸŸ¢ Ready"}),e.jsx("span",{children:"ðŸŸ¡ In Progress"}),e.jsx("span",{children:"ðŸ”´ Waiting"}),e.jsx("span",{children:"âš« Delayed"})]})]}),e.jsx("div",{className:"space-y-3",children:t.map(s=>e.jsxs("div",{className:`p-4 rounded-small border-l-4 ${s.priority==="critical"?"border-error bg-error/5":s.priority==="urgent"?"border-warning bg-warning/5":"border-neutral-300 bg-white"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:l(s.status)}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"text-body font-medium",children:s.name}),e.jsxs("span",{className:"text-body-sm text-neutral-600",children:["(",s.id,")"]}),s.priority!=="normal"&&e.jsx(o,{status:s.priority==="critical"?"error":"pending",children:s.priority.toUpperCase()})]}),e.jsx("p",{className:"text-body-sm text-neutral-600",children:s.assignedDoctor})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-body-sm font-medium",children:s.currentStage}),e.jsxs("p",{className:"text-body-sm text-neutral-600",children:["Wait: ",s.waitTime," min"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-neutral-200",children:[e.jsxs("p",{className:"text-body-sm text-neutral-700",children:["Next: ",s.currentStage]}),e.jsx("div",{className:`w-2 h-2 rounded-full ${i(s.status)} animate-pulse`})]})]},s.id))}),e.jsxs("div",{className:"grid grid-cols-4 gap-3 mt-4 pt-4 border-t border-neutral-200",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-h4 text-success",children:t.filter(s=>s.status==="ready").length}),e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Ready"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-h4 text-warning",children:t.filter(s=>s.status==="in-progress").length}),e.jsx("p",{className:"text-body-sm text-neutral-600",children:"In Progress"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-h4 text-info",children:t.filter(s=>s.status==="waiting").length}),e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Waiting"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-h4 text-neutral-700",children:[Math.round(t.reduce((s,c)=>s+c.waitTime,0)/t.length)," min"]}),e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Avg Wait"})]})]})]})}export{g as U};
