import{j as e,i as P,c as $,b as oe,r as p,L as Q,u as C,aa as me,ac as xe,an as he,ao as ue,ak as pe,ap as je,aq as ge,ar as ye,as as Ne,d as ve,a as Z,X as be,at as fe,S as we,q as _,au as Ce,D as J,F as Se,av as De,Q as ke,t as E,V as B,n as q,e as U,C as Ae,aw as W,M as Pe,ax as K,U as Re,p as Me,ay as Te,az as Ie}from"./vendor-react-DtsOz5pv.js";import{c as k,b as D,a as m,C as h,I as y,l as Le,d as H,E as X,e as Oe,F as ze}from"./components-shared-yLUaqag5.js";import{t as O}from"./vendor-other-DG8If0Tp.js";import{a as ee,c as R}from"./vendor-redux-CxpqfPS-.js";import{L as Fe,a as Be}from"./feature-laboratory-DhpxEggP.js";import{f as z}from"./vendor-utils-DvtxXjqu.js";const qe="http://localhost:3001/api";class $e{async request(s,a={}){const d=localStorage.getItem("token"),r={headers:{"Content-Type":"application/json",...d&&{Authorization:`Bearer ${d}`},...a.headers},...a};try{const n=await fetch(`${qe}${s}`,r),i=await n.json();if(!n.ok)throw new Error(i.message||"API request failed");return i}catch(n){throw n instanceof Error?n:new Error("Unknown error occurred")}}async login(s){return this.request("/auth/login",{method:"POST",body:JSON.stringify(s)})}async logout(){return this.request("/auth/logout",{method:"POST"})}async getUsers(){return this.request("/users")}async createUser(s){return this.request("/users",{method:"POST",body:JSON.stringify(s)})}async updateUser(s,a){return this.request(`/users/${s}`,{method:"PUT",body:JSON.stringify(a)})}async getPatients(){return this.request("/patients")}async getPatient(s){return this.request(`/patients/${s}`)}async createPatient(s){return this.request("/patients",{method:"POST",body:JSON.stringify(s)})}async getAppointments(){return this.request("/appointments")}async createAppointment(s){return this.request("/appointments",{method:"POST",body:JSON.stringify(s)})}async getPrescriptions(){return this.request("/prescriptions")}async updatePrescriptionStatus(s,a){return this.request(`/prescriptions/${s}/status`,{method:"PATCH",body:JSON.stringify({status:a})})}async saveVitals(s){return this.request("/vitals",{method:"POST",body:JSON.stringify(s)})}async getMedicationRequests(){return this.request("/medication-requests")}async createMedicationRequest(s){return this.request("/medication-requests",{method:"POST",body:JSON.stringify(s)})}}const se=new $e,Ee={appointments:[{id:"APT001",patientId:"P001",patientName:"John Smith",doctorId:"D001",doctorName:"Dr. Wilson",date:"2024-01-15",time:"10:00",type:"Follow-up",status:"in-progress",notes:"Diabetes management review"},{id:"APT002",patientId:"P002",patientName:"Sarah Johnson",doctorId:"D002",doctorName:"Dr. Brown",date:"2024-01-15",time:"11:00",type:"Consultation",status:"scheduled",notes:"Asthma symptoms worsening"},{id:"APT003",patientId:"P003",patientName:"Michael Chen",doctorId:"D001",doctorName:"Dr. Wilson",date:"2024-01-15",time:"14:00",type:"Routine Checkup",status:"confirmed"},{id:"APT004",patientId:"P004",patientName:"Emily Rodriguez",doctorId:"D003",doctorName:"Dr. Martinez",date:"2024-01-15",time:"15:30",type:"New Patient",status:"scheduled"},{id:"APT005",patientId:"P005",patientName:"David Williams",doctorId:"D001",doctorName:"Dr. Wilson",date:"2024-01-16",time:"09:00",type:"Follow-up",status:"scheduled",notes:"COPD management"},{id:"APT006",patientId:"P001",patientName:"John Smith",doctorId:"D001",doctorName:"Dr. Wilson",date:"2024-01-16",time:"10:30",type:"Lab Results Review",status:"scheduled"},{id:"APT007",patientId:"P002",patientName:"Sarah Johnson",doctorId:"D002",doctorName:"Dr. Brown",date:"2024-01-16",time:"14:00",type:"Follow-up",status:"scheduled"}],loading:!1,error:null},V=ee("appointments/fetchAppointments",async(l,{rejectWithValue:s})=>{try{return(await se.getAppointments()).data}catch(a){return s(a instanceof Error?a.message:"Failed to fetch appointments")}}),He=ee("appointments/createAppointment",async(l,{rejectWithValue:s})=>{try{return(await se.createAppointment(l)).data}catch(a){return s(a instanceof Error?a.message:"Failed to create appointment")}}),te=R({name:"appointments",initialState:Ee,reducers:{addAppointment:(l,s)=>{const a={...s.payload,id:`APT${String(l.appointments.length+1).padStart(3,"0")}`};l.appointments.push(a)},updateAppointmentStatus:(l,s)=>{const{id:a,status:d}=s.payload,r=l.appointments.find(n=>n.id===a);r&&(r.status=d)},updateAppointment:(l,s)=>{const a=l.appointments.findIndex(d=>d.id===s.payload.id);a!==-1&&(l.appointments[a]=s.payload)},clearError:l=>{l.error=null}},extraReducers:l=>{l.addCase(V.pending,s=>{s.loading=!0,s.error=null}).addCase(V.fulfilled,(s,a)=>{s.loading=!1,s.appointments=a.payload}).addCase(V.rejected,(s,a)=>{s.loading=!1,s.error=a.payload}).addCase(He.fulfilled,(s,a)=>{s.appointments.push(a.payload)})}}),us=te.reducer,{addAppointment:Ve,updateAppointmentStatus:Je,updateAppointment:Ue,clearError:ps}=te.actions,We=[{id:"1",patientId:"P001",testName:"Hemoglobin",testCode:"HGB",value:14.5,unit:"g/dL",normalMin:13.5,normalMax:17.5,status:"normal",orderedBy:"Dr. Wilson",performedAt:"2024-01-15T10:00:00",resultDate:"2024-01-15T14:00:00",category:"hematology"},{id:"2",patientId:"P001",testName:"Blood Glucose",testCode:"GLU",value:145,unit:"mg/dL",normalMin:70,normalMax:100,status:"abnormal",orderedBy:"Dr. Wilson",performedAt:"2024-01-15T10:00:00",resultDate:"2024-01-15T14:00:00",notes:"Fasting glucose elevated",category:"biochemistry"}],Ye={results:We,groups:[],selectedResult:null},ae=R({name:"labResults",initialState:Ye,reducers:{addLabResult:(l,s)=>{l.results.push(s.payload)},updateLabResult:(l,s)=>{const a=l.results.findIndex(d=>d.id===s.payload.id);a!==-1&&(l.results[a]=s.payload)},selectResult:(l,s)=>{l.selectedResult=s.payload},addResultGroup:(l,s)=>{l.groups.push(s.payload)},verifyLabResult:(l,s)=>{const a=l.results.find(d=>d.id===s.payload);a&&(a.status=a.critical?"critical":a.status)},rejectLabResult:(l,s)=>{const a=l.results.find(d=>d.id===s.payload.id);a&&(a.notes=s.payload.reason,a.status="pending")}}}),js=ae.reducer,{addLabResult:gs,updateLabResult:ys,selectResult:Ge,addResultGroup:Ns,verifyLabResult:vs,rejectLabResult:bs}=ae.actions,Qe=[{id:"ALG001",patientId:"P001",allergen:"Penicillin",type:"drug",severity:"severe",reaction:"Anaphylaxis, difficulty breathing",onsetDate:"2020-05-15",notes:"Avoid all penicillin-based antibiotics",addedBy:"Dr. Wilson",addedAt:"2024-01-10T10:00:00Z"},{id:"ALG002",patientId:"P001",allergen:"Aspirin",type:"drug",severity:"moderate",reaction:"Skin rash, itching",addedBy:"Dr. Brown",addedAt:"2024-01-12T14:30:00Z"}],Ze={allergies:Qe},le=R({name:"allergies",initialState:Ze,reducers:{addAllergy:(l,s)=>{const a={...s.payload,id:`ALG${String(l.allergies.length+1).padStart(3,"0")}`,addedAt:new Date().toISOString()};l.allergies.unshift(a)},removeAllergy:(l,s)=>{l.allergies=l.allergies.filter(a=>a.id!==s.payload)},updateAllergy:(l,s)=>{const a=l.allergies.findIndex(d=>d.id===s.payload.id);a!==-1&&(l.allergies[a]=s.payload)}}}),{addAllergy:_e,removeAllergy:Ke,updateAllergy:fs}=le.actions,ws=le.reducer,ie=R({name:"problemList",initialState:{problems:[{id:"1",name:"Hypertension",icd10:"I10",status:"active",onset:"2023-05-10",notes:"Stage 1, controlled with medication"},{id:"2",name:"Type 2 Diabetes",icd10:"E11.9",status:"active",onset:"2022-11-20",notes:"HbA1c 6.8%, diet controlled"},{id:"3",name:"Seasonal Allergies",icd10:"J30.1",status:"active",onset:"2020-03-15",notes:"Spring pollen allergy"},{id:"4",name:"Acute Bronchitis",icd10:"J20.9",status:"resolved",onset:"2023-12-01",resolved:"2023-12-15",notes:"Treated with antibiotics"}]},reducers:{addProblem:(l,s)=>{l.problems.unshift(s.payload)},updateStatus:(l,s)=>{const a=l.problems.find(d=>d.id===s.payload.id);a&&(a.status=s.payload.status,s.payload.status==="resolved"&&(a.resolved=new Date().toISOString().split("T")[0]))}}}),{addProblem:Xe,updateStatus:es}=ie.actions,Cs=ie.reducer,ne=R({name:"immunization",initialState:{records:[{id:"1",vaccine:"COVID-19 Booster",date:"2024-01-10",nextDue:"2024-07-10",status:"completed",lot:"CV2024A"},{id:"2",vaccine:"Influenza",date:"2023-10-15",nextDue:"2024-10-15",status:"completed",lot:"FLU2023B"},{id:"3",vaccine:"Tetanus",date:"2020-05-20",nextDue:"2030-05-20",status:"completed",lot:"TET2020C"},{id:"4",vaccine:"Hepatitis B",date:null,nextDue:"2024-03-01",status:"overdue",lot:null}],inventory:[{vaccine:"COVID-19",stock:45,minStock:20},{vaccine:"Influenza",stock:120,minStock:50},{vaccine:"Tetanus",stock:30,minStock:15}]},reducers:{addRecord:(l,s)=>{l.records.unshift(s.payload)},updateStock:(l,s)=>{const a=l.inventory.find(d=>d.vaccine===s.payload.vaccine);a&&(a.stock=s.payload.stock)}}}),{addRecord:ss,updateStock:Ss}=ne.actions,Ds=ne.reducer,re=R({name:"adherence",initialState:{schedule:[{id:"1",medication:"Metformin 850mg",time:"08:00",frequency:"daily",taken:!0,date:"2024-02-15"},{id:"2",medication:"Lisinopril 10mg",time:"08:00",frequency:"daily",taken:!0,date:"2024-02-15"},{id:"3",medication:"Metformin 850mg",time:"20:00",frequency:"daily",taken:!1,date:"2024-02-15"}],adherenceRate:87,streak:12,missedDoses:3},reducers:{markTaken:(l,s)=>{const a=l.schedule.find(d=>d.id===s.payload);a&&(a.taken=!0)},addDose:(l,s)=>{l.schedule.push(s.payload)}}}),{markTaken:ts,addDose:ks}=re.actions,As=re.reducer,de=R({name:"symptom",initialState:{history:[{id:"1",date:"2024-02-10",symptoms:["Headache","Fever"],urgency:"medium",recommendation:"Monitor symptoms, rest and hydrate"},{id:"2",date:"2024-01-25",symptoms:["Cough","Sore Throat"],urgency:"low",recommendation:"Over-the-counter remedies recommended"}],symptomDatabase:{"Chest Pain":{urgency:"high",category:"cardiac"},"Severe Headache":{urgency:"high",category:"neurological"},Fever:{urgency:"medium",category:"general"},Headache:{urgency:"low",category:"general"},Cough:{urgency:"low",category:"respiratory"},"Sore Throat":{urgency:"low",category:"respiratory"}}},reducers:{addSymptomCheck:(l,s)=>{l.history.unshift(s.payload)}}}),{addSymptomCheck:as}=de.actions,Ps=de.reducer,ce=R({name:"recordDownload",initialState:{availableRecords:[{id:"1",type:"Lab Results",date:"2024-02-10",category:"labs"},{id:"2",type:"Prescription History",date:"2024-02-08",category:"prescriptions"},{id:"3",type:"Immunization Records",date:"2024-01-15",category:"immunizations"},{id:"4",type:"Visit Summary",date:"2024-02-05",category:"visits"},{id:"5",type:"Imaging Reports",date:"2024-01-20",category:"imaging"}],downloadHistory:[{id:"D1",recordIds:["1","2"],format:"PDF",date:"2024-02-12T10:30:00Z",size:"2.4 MB"}]},reducers:{addDownload:(l,s)=>{l.downloadHistory.unshift(s.payload)}}}),{addDownload:ls}=ce.actions,Rs=ce.reducer;function Ms({patient:l,isOpen:s,onClose:a,onEdit:d}){return l?e.jsx(k,{isOpen:s,onClose:a,title:"Patient Details",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-h3 text-neutral-900",children:l.name}),e.jsxs("p",{className:"text-body text-neutral-600",children:["ID: ",l.id]})]}),e.jsx(D,{status:"delivered",children:"Active"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-body font-medium text-neutral-900 mb-3",children:"Personal Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Age"}),e.jsxs("p",{className:"text-body",children:[l.age," years"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Gender"}),e.jsx("p",{className:"text-body",children:l.gender||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Phone"}),e.jsx("p",{className:"text-body",children:l.phone})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Email"}),e.jsx("p",{className:"text-body",children:l.email||"Not provided"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-body font-medium text-neutral-900 mb-3",children:"Medical Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Allergies"}),l.allergies&&l.allergies.length>0?e.jsx("div",{className:"flex flex-wrap gap-1",children:l.allergies.map((r,n)=>e.jsx("span",{className:"px-2 py-1 bg-red-50 text-red-700 text-xs rounded",children:r},n))}):e.jsx("p",{className:"text-body",children:"None reported"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Current Medications"}),l.currentMedications&&l.currentMedications.length>0?e.jsx("ul",{className:"list-disc list-inside text-body",children:l.currentMedications.map((r,n)=>e.jsx("li",{children:r},n))}):e.jsx("p",{className:"text-body",children:"None"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Medical History"}),l.medicalHistory&&l.medicalHistory.length>0?e.jsx("ul",{className:"list-disc list-inside text-body",children:l.medicalHistory.map((r,n)=>e.jsx("li",{children:r},n))}):e.jsx("p",{className:"text-body",children:"None reported"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-body font-medium text-neutral-900 mb-3",children:"Emergency Contact"}),e.jsx("p",{className:"text-body",children:l.emergencyContact||"Not provided"})]}),l.address&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-body font-medium text-neutral-900 mb-3",children:"Address"}),e.jsx("p",{className:"text-body",children:l.address})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx(m,{variant:"secondary",onClick:a,children:"Close"}),d&&e.jsx(m,{onClick:d,children:"Edit Patient"})]})]})}):null}const Ts=()=>{var x;const l=P(),s=$(),a=oe(),[d,r]=p.useState(""),[n,i]=p.useState(""),[j,c]=p.useState(!1),o=(x=a.state)==null?void 0:x.registered,t=async b=>{b.preventDefault(),c(!0),setTimeout(()=>{l(Le({id:d,name:"John Patient",email:"patient@example.com",role:"patient"})),s("/patient-portal"),c(!1)},1e3)};return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs(h,{className:"w-full max-w-md p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Patient Portal"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Access your medical records"})]}),o&&e.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-green-800",children:"âœ“ Registration successful! Please sign in."})}),e.jsxs("form",{onSubmit:t,className:"space-y-6",children:[e.jsx(y,{label:"Patient ID",type:"text",value:d,onChange:b=>r(b.target.value),placeholder:"Enter your patient ID",required:!0}),e.jsx(y,{label:"Date of Birth",type:"date",value:n,onChange:b=>i(b.target.value),required:!0}),e.jsx(m,{type:"submit",variant:"primary",className:"w-full",disabled:j,children:j?"Signing In...":"Sign In"})]}),e.jsxs("div",{className:"mt-6 text-center space-y-3",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",e.jsx(Q,{to:"/patient-portal/register",className:"text-blue-600 hover:underline font-medium",children:"Register here"})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Need help? Contact"," ",e.jsx("a",{href:"tel:+1234567890",className:"text-blue-600 hover:underline",children:"(123) 456-7890"})]})]})]})})},Is=()=>{const l=$(),[s,a]=p.useState({patientId:"",name:"",dateOfBirth:"",phone:"",email:"",address:"",emergencyContact:""}),[d,r]=p.useState(!1),[n,i]=p.useState({}),j=()=>{const t={};return s.patientId||(t.patientId="Patient ID is required"),s.name||(t.name="Name is required"),s.dateOfBirth||(t.dateOfBirth="Date of birth is required"),s.phone||(t.phone="Phone number is required"),s.email||(t.email="Email is required"),s.address||(t.address="Address is required"),s.emergencyContact||(t.emergencyContact="Emergency contact is required"),s.email&&!/\S+@\S+\.\S+/.test(s.email)&&(t.email="Please enter a valid email address"),i(t),Object.keys(t).length===0},c=async t=>{t.preventDefault(),j()&&(r(!0),setTimeout(()=>{r(!1),l("/patient-login",{state:{registered:!0}})},1500))},o=(t,x)=>{a(b=>({...b,[t]:x})),n[t]&&i(b=>({...b,[t]:""}))};return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs(h,{className:"w-full max-w-2xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Patient Registration"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Create your patient portal account"})]}),e.jsxs("form",{onSubmit:c,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(y,{label:"Patient ID",type:"text",value:s.patientId,onChange:t=>o("patientId",t.target.value),placeholder:"Enter patient ID",error:n.patientId,required:!0}),e.jsx(y,{label:"Full Name",type:"text",value:s.name,onChange:t=>o("name",t.target.value),placeholder:"Enter your full name",error:n.name,required:!0}),e.jsx(y,{label:"Date of Birth",type:"date",value:s.dateOfBirth,onChange:t=>o("dateOfBirth",t.target.value),error:n.dateOfBirth,required:!0}),e.jsx(y,{label:"Phone Number",type:"tel",value:s.phone,onChange:t=>o("phone",t.target.value),placeholder:"(123) 456-7890",error:n.phone,required:!0})]}),e.jsx(y,{label:"Email Address",type:"email",value:s.email,onChange:t=>o("email",t.target.value),placeholder:"Enter your email address",error:n.email,required:!0}),e.jsx(y,{label:"Address",type:"text",value:s.address,onChange:t=>o("address",t.target.value),placeholder:"Enter your full address",error:n.address,required:!0}),e.jsx(y,{label:"Emergency Contact",type:"text",value:s.emergencyContact,onChange:t=>o("emergencyContact",t.target.value),placeholder:"Emergency contact name and phone",error:n.emergencyContact,required:!0}),e.jsx(m,{type:"submit",variant:"primary",className:"w-full",loading:d,disabled:d,children:d?"Creating Account...":"Create Account"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",e.jsx(Q,{to:"/patient-login",className:"text-blue-600 hover:underline font-medium",children:"Sign in here"})]})})]})})},Ls=({patientId:l})=>{var i,j,c,o;const[s,a]=p.useState("overview"),d=$(),r=C(t=>t.patients.patients.find(x=>x.id===l));if(!r)return e.jsx("div",{children:"Patient not found"});const n=[{id:"overview",label:"Overview"},{id:"vitals",label:"Vitals"},{id:"timeline",label:"Timeline"},{id:"medications",label:"Medications"},{id:"allergies",label:"Allergies"},{id:"immunization",label:"Immunization"},{id:"problems",label:"Problem List"},{id:"history",label:"Medical History"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:r.name}),e.jsxs("p",{className:"text-gray-600",children:["ID: ",r.id," â€¢ ",r.age,"y ",r.gender]})]}),e.jsx(m,{onClick:()=>d(`/nurse/vitals/${r.id}`),children:"ðŸ“Š Record Vitals"})]}),e.jsx("div",{className:"border-b",children:e.jsx("div",{className:"flex gap-4",children:n.map(t=>e.jsx("button",{onClick:()=>a(t.id),className:`px-4 py-2 border-b-2 transition-colors ${s===t.id?"border-nurse text-nurse font-medium":"border-transparent text-gray-600 hover:text-gray-900"}`,children:t.label},t.id))})}),e.jsxs("div",{children:[s==="overview"&&e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs(h,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Patient Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Phone:"})," ",r.phone]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Email:"})," ",r.email]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Address:"})," ",r.address]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Emergency Contact:"})," ",r.emergencyContact]})]})]}),e.jsxs(h,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Current Status"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Blood Type:"})," ",r.bloodType||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Active Medications:"})," ",((i=r.currentMedications)==null?void 0:i.length)||0]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Known Allergies:"})," ",((j=r.allergies)==null?void 0:j.length)||0]})]})]})]}),s==="vitals"&&e.jsxs(h,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Latest Vitals"}),r.vitals?e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Blood Pressure"}),e.jsx("div",{className:"text-2xl font-bold",children:r.vitals.bloodPressure})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Heart Rate"}),e.jsxs("div",{className:"text-2xl font-bold",children:[r.vitals.heartRate," bpm"]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Temperature"}),e.jsxs("div",{className:"text-2xl font-bold",children:[r.vitals.temperature,"Â°F"]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Respiratory Rate"}),e.jsxs("div",{className:"text-2xl font-bold",children:[r.vitals.respiratoryRate,"/min"]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"O2 Saturation"}),e.jsxs("div",{className:"text-2xl font-bold",children:[r.vitals.oxygenSaturation,"%"]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Pain Level"}),e.jsxs("div",{className:"text-2xl font-bold",children:[r.vitals.painLevel,"/10"]})]})]}):e.jsx("p",{className:"text-gray-500",children:"No vitals recorded yet"})]}),s==="medications"&&e.jsxs(h,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Current Medications"}),r.currentMedications.length>0?e.jsx("div",{className:"space-y-3",children:r.currentMedications.map((t,x)=>e.jsx("div",{className:"p-4 border rounded-lg",children:e.jsx("div",{className:"font-medium",children:t})},x))}):e.jsx("p",{className:"text-gray-500",children:"No active medications"})]}),s==="allergies"&&e.jsxs(h,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Known Allergies"}),r.allergies.length>0?e.jsx("div",{className:"space-y-3",children:r.allergies.map((t,x)=>e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"font-medium text-red-800",children:["âš ï¸ ",t]})},x))}):e.jsx("p",{className:"text-gray-500",children:"No known allergies"})]}),s==="history"&&e.jsxs(h,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Medical History"}),r.medicalHistory.length>0?e.jsx("div",{className:"space-y-3",children:r.medicalHistory.map((t,x)=>e.jsx("div",{className:"p-4 border rounded-lg",children:e.jsx("div",{children:t})},x))}):e.jsx("p",{className:"text-gray-500",children:"No medical history recorded"})]}),s==="timeline"&&e.jsxs(h,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Patient Timeline"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-24 text-sm text-gray-600",children:"Today"}),e.jsxs("div",{className:"flex-1 border-l-2 border-nurse pl-4 pb-4",children:[e.jsx("div",{className:"font-medium",children:"Vitals Recorded"}),e.jsxs("div",{className:"text-sm text-gray-600",children:["BP: ",((c=r.vitals)==null?void 0:c.bloodPressure)||"N/A"]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-24 text-sm text-gray-600",children:"Yesterday"}),e.jsxs("div",{className:"flex-1 border-l-2 border-gray-300 pl-4 pb-4",children:[e.jsx("div",{className:"font-medium",children:"Medication Administered"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Regular schedule"})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-24 text-sm text-gray-600",children:"2 days ago"}),e.jsxs("div",{className:"flex-1 border-l-2 border-gray-300 pl-4 pb-4",children:[e.jsx("div",{className:"font-medium",children:"Lab Results Reviewed"}),e.jsx("div",{className:"text-sm text-gray-600",children:"All values within normal range"})]})]})]})]}),s==="immunization"&&e.jsxs(h,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-semibold",children:"Immunization Records"}),e.jsx(m,{size:"sm",children:"Add Immunization"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"p-4 border rounded-lg",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"ðŸ’‰ COVID-19 Vaccine (Pfizer)"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Administered: March 15, 2024"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Next due: September 15, 2024"})]}),e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded",children:"Up to date"})]})}),e.jsx("div",{className:"p-4 border rounded-lg",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"ðŸ’‰ Influenza Vaccine"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Administered: October 10, 2023"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Next due: October 2024"})]}),e.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded",children:"Due soon"})]})}),e.jsx("div",{className:"p-4 border rounded-lg",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"ðŸ’‰ Tetanus/Diphtheria"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Administered: January 20, 2020"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Next due: January 2030"})]}),e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded",children:"Up to date"})]})})]})]}),s==="problems"&&e.jsxs(h,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-semibold",children:"Active Problem List"}),e.jsx(m,{size:"sm",children:"Add Problem"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"p-4 border-l-4 border-red-500 bg-red-50 rounded",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-red-800",children:"ðŸ”´ Hypertension"}),e.jsx("div",{className:"text-sm text-red-600",children:"Onset: January 2023 â€¢ Status: Active"}),e.jsxs("div",{className:"text-sm text-red-600",children:["Last BP: ",((o=r.vitals)==null?void 0:o.bloodPressure)||"N/A"]})]}),e.jsx("span",{className:"px-2 py-1 bg-red-200 text-red-800 text-xs rounded",children:"High Priority"})]})}),e.jsx("div",{className:"p-4 border-l-4 border-yellow-500 bg-yellow-50 rounded",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-yellow-800",children:"ðŸŸ¡ Type 2 Diabetes"}),e.jsx("div",{className:"text-sm text-yellow-600",children:"Onset: March 2022 â€¢ Status: Controlled"}),e.jsx("div",{className:"text-sm text-yellow-600",children:"Last HbA1c: 6.8% (Target: <7%)"})]}),e.jsx("span",{className:"px-2 py-1 bg-yellow-200 text-yellow-800 text-xs rounded",children:"Monitoring"})]})}),e.jsx("div",{className:"p-4 border-l-4 border-blue-500 bg-blue-50 rounded",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-blue-800",children:"ðŸ”µ Seasonal Allergies"}),e.jsx("div",{className:"text-sm text-blue-600",children:"Onset: Childhood â€¢ Status: Seasonal"}),e.jsx("div",{className:"text-sm text-blue-600",children:"Triggers: Pollen, dust mites"})]}),e.jsx("span",{className:"px-2 py-1 bg-blue-200 text-blue-800 text-xs rounded",children:"Stable"})]})})]})]})]})]})},Os=()=>{const l=$(),{user:s}=C(c=>c.auth),{appointments:a}=C(c=>c.appointments),{prescriptions:d}=C(c=>c.prescriptions),r=p.useMemo(()=>a.filter(c=>c.patientId===(s==null?void 0:s.id)&&c.status!=="cancelled"),[a,s==null?void 0:s.id]),n=p.useMemo(()=>r.filter(c=>new Date(c.date)>=new Date).sort((c,o)=>new Date(c.date).getTime()-new Date(o.date).getTime()).slice(0,2),[r]),i=p.useMemo(()=>d.filter(c=>c.patientId===(s==null?void 0:s.id)).slice(0,2),[d,s==null?void 0:s.id]),j=[{icon:me,label:"Book Appointment",path:"/patient-portal/appointments",color:"text-blue-600"},{icon:xe,label:"My Prescriptions",path:"/patient-portal/prescriptions",color:"text-orange-600"},{icon:he,label:"Medical Records",path:"/patient-portal/records",color:"text-green-600"},{icon:ue,label:"Bills & Payments",path:"/patient-portal/bills",color:"text-purple-600"},{icon:pe,label:"Messages",path:"/patient-portal/messages",color:"text-pink-600"}];return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Welcome back, ",s==null?void 0:s.name]}),e.jsx("p",{className:"text-gray-600",children:"Here's your health overview"})]})}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:j.map(c=>e.jsxs(h,{className:"p-4 text-center hover:shadow-md transition-shadow cursor-pointer",onClick:()=>l(c.path),children:[e.jsx(c.icon,{className:`w-8 h-8 mx-auto mb-2 ${c.color}`}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:c.label})]},c.label))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(h,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Upcoming Appointments"}),e.jsx("div",{className:"space-y-3",children:n.length===0?e.jsx("p",{className:"text-center text-gray-500 py-4",children:"No upcoming appointments"}):n.map(c=>e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:c.doctorName}),e.jsx("p",{className:"text-sm text-gray-600",children:c.type})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:c.date}),e.jsx("p",{className:"text-sm text-gray-600",children:c.time})]})]},c.id))}),e.jsx(m,{variant:"secondary",className:"w-full mt-4",onClick:()=>l("/patient-portal/appointments"),children:"View All Appointments"})]}),e.jsxs(h,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Prescriptions"}),e.jsx("div",{className:"space-y-3",children:i.length===0?e.jsx("p",{className:"text-center text-gray-500 py-4",children:"No prescriptions"}):i.map(c=>{var o,t;return e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:((t=(o=c.medications)==null?void 0:o[0])==null?void 0:t.name)||"Prescription"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Prescribed: ",c.prescriptionDate||c.date]})]}),e.jsx("div",{className:"text-right",children:e.jsx(m,{variant:"primary",size:"sm",children:"View"})})]},c.id)})}),e.jsx(m,{variant:"secondary",className:"w-full mt-4",onClick:()=>l("/patient-portal/prescriptions"),children:"View All Prescriptions"})]})]}),e.jsxs(h,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Links"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(m,{variant:"secondary",onClick:()=>l("/patient-portal/lab-results"),children:[e.jsx(je,{className:"mr-2",size:16,"aria-hidden":"true"}),"Lab Results"]}),e.jsxs(m,{variant:"secondary",onClick:()=>l("/patient-portal/health-summary"),children:[e.jsx(ge,{className:"mr-2",size:16,"aria-hidden":"true"}),"Health Summary"]}),e.jsxs(m,{variant:"secondary",onClick:()=>l("/patient-portal/symptom-checker"),children:[e.jsx(ye,{className:"mr-2",size:16,"aria-hidden":"true"}),"Symptom Checker"]}),e.jsxs(m,{variant:"secondary",onClick:()=>l("/patient-portal/feedback"),children:[e.jsx(Ne,{className:"mr-2",size:16,"aria-hidden":"true"}),"Feedback"]})]})]})]})};function zs(){const{metrics:l,healthScore:s,recentActivity:a,recommendations:d}=C(r=>r.healthSummary);return e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Health Summary"}),e.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-6",children:[e.jsx(h,{className:"p-6 col-span-1",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl font-bold text-green-600 mb-2",children:s}),e.jsx("div",{className:"text-sm text-gray-600",children:"Health Score"}),e.jsx("div",{className:"mt-4 w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-green-500 h-3 rounded-full",style:{width:`${s}%`}})})]})}),e.jsx("div",{className:"col-span-2 grid grid-cols-2 gap-4",children:Object.entries(l).map(([r,n])=>e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 capitalize",children:r.replace(/([A-Z])/g," $1")}),e.jsx("div",{className:"text-2xl font-bold",children:n.value})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs ${n.status==="normal"?"bg-green-100 text-green-800":n.status==="warning"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:n.status}),e.jsx("div",{className:"text-2xl mt-1",children:n.trend==="up"?"â†‘":n.trend==="down"?"â†“":"â†’"})]})]})},r))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs(h,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),e.jsx("div",{className:"space-y-3",children:a.map((r,n)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:r.description}),e.jsx("div",{className:"text-sm text-gray-500",children:r.date})]})]},n))})]}),e.jsxs(h,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Health Recommendations"}),e.jsx("div",{className:"space-y-3",children:d.map((r,n)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-50 rounded",children:[e.jsx("div",{className:"text-blue-600 text-xl",children:"ðŸ’¡"}),e.jsx("div",{className:"text-sm",children:r})]},n))})]})]})]})}const Y=[{id:"DR001",name:"Dr. Sarah Wilson",specialization:"Cardiologist"},{id:"DR002",name:"Dr. John Brown",specialization:"General Medicine"},{id:"DR003",name:"Dr. Emily Davis",specialization:"Pediatrics"}],G=["08:00","09:00","10:00","11:00","14:00","15:00","16:00"],Fs=()=>{const l=P(),{user:s}=C(u=>u.auth),{appointments:a}=C(u=>u.appointments),[d,r]=p.useState("upcoming"),[n,i]=p.useState(!1),[j,c]=p.useState(!1),[o,t]=p.useState(null),[x,b]=p.useState(!1),[v,f]=p.useState({doctorId:"",date:"",time:"",type:"Consultation"}),[w,g]=p.useState({date:"",time:""}),S=p.useMemo(()=>a.filter(u=>u.patientId===(s==null?void 0:s.id)),[a,s==null?void 0:s.id]),A=p.useMemo(()=>{const u=new Date;return S.filter(I=>{const F=new Date(I.date);return d==="upcoming"?F>=u&&I.status!=="cancelled":F<u||I.status==="cancelled"})},[S,d]),L=async()=>{if(!v.doctorId||!v.date||!v.time){O.error("Please fill all fields");return}b(!0);try{const u=Y.find(I=>I.id===v.doctorId);l(Ve({patientId:(s==null?void 0:s.id)||"",patientName:(s==null?void 0:s.name)||"",doctorId:v.doctorId,doctorName:(u==null?void 0:u.name)||"",date:v.date,time:v.time,type:v.type,status:"scheduled"})),l(H({type:"success",title:"Appointment Booked",message:`Your appointment with ${u==null?void 0:u.name} is confirmed`,priority:"medium",category:"appointment"})),O.success("Appointment booked successfully"),i(!1),f({doctorId:"",date:"",time:"",type:"Consultation"})}finally{b(!1)}},M=async()=>{if(!w.date||!w.time){O.error("Please select date and time");return}b(!0);try{l(Ue({...o,date:w.date,time:w.time})),l(H({type:"info",title:"Appointment Rescheduled",message:`Appointment rescheduled to ${w.date} at ${w.time}`,priority:"medium",category:"appointment"})),O.success("Appointment rescheduled"),c(!1),g({date:"",time:""})}finally{b(!1)}},T=async u=>{if(confirm("Cancel this appointment?")){b(!0);try{l(Je({id:u,status:"cancelled"})),l(H({type:"warning",title:"Appointment Cancelled",message:"Your appointment has been cancelled",priority:"medium",category:"appointment"})),O.success("Appointment cancelled")}finally{b(!1)}}},N=u=>{t(u),g({date:u.date,time:u.time}),c(!0)};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Appointments"}),e.jsx(m,{variant:"primary",onClick:()=>i(!0),children:"Book New Appointment"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(m,{variant:d==="upcoming"?"primary":"secondary",onClick:()=>r("upcoming"),children:"Upcoming"}),e.jsx(m,{variant:d==="past"?"primary":"secondary",onClick:()=>r("past"),children:"Past"})]}),e.jsx("div",{className:"grid gap-4",children:A.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsxs("p",{className:"text-gray-500",children:["No ",d," appointments"]})}):A.map(u=>e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:u.doctorName}),e.jsxs("span",{className:"text-sm text-gray-600",children:["â€¢ ",u.type]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{children:u.date})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{children:u.time})]})]})]}),u.status==="scheduled"&&d==="upcoming"&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(m,{variant:"secondary",size:"sm",onClick:()=>N(u),children:"Reschedule"}),e.jsx(m,{variant:"secondary",size:"sm",onClick:()=>T(u.id),loading:x,children:e.jsx(be,{className:"w-4 h-4"})})]})]})},u.id))}),e.jsx(k,{isOpen:n,onClose:()=>i(!1),title:"Book New Appointment",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-body font-medium text-neutral-700 mb-1",children:"Doctor *"}),e.jsxs("select",{value:v.doctorId,onChange:u=>f({...v,doctorId:u.target.value}),className:"block w-full px-3 py-2 border border-neutral-300 rounded-minimal text-body focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"Select a doctor"}),Y.map(u=>e.jsxs("option",{value:u.id,children:[u.name," - ",u.specialization]},u.id))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(y,{label:"Date *",type:"date",value:v.date,onChange:u=>f({...v,date:u.target.value}),min:new Date().toISOString().split("T")[0]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-body font-medium text-neutral-700 mb-1",children:"Time *"}),e.jsxs("select",{value:v.time,onChange:u=>f({...v,time:u.target.value}),className:"block w-full px-3 py-2 border border-neutral-300 rounded-minimal text-body focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"Select time"}),G.map(u=>e.jsx("option",{value:u,children:u},u))]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(m,{variant:"secondary",onClick:()=>i(!1),children:"Cancel"}),e.jsx(m,{onClick:L,loading:x,children:"Book Appointment"})]})]})}),o&&e.jsx(k,{isOpen:j,onClose:()=>c(!1),title:"Reschedule Appointment",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-3 bg-neutral-50 rounded-small",children:e.jsxs("p",{className:"text-body-sm text-neutral-600",children:["Doctor: ",e.jsx("span",{className:"font-medium",children:o.doctorName})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(y,{label:"New Date *",type:"date",value:w.date,onChange:u=>g({...w,date:u.target.value}),min:new Date().toISOString().split("T")[0]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-body font-medium text-neutral-700 mb-1",children:"New Time *"}),e.jsxs("select",{value:w.time,onChange:u=>g({...w,time:u.target.value}),className:"block w-full px-3 py-2 border border-neutral-300 rounded-minimal text-body focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"Select time"}),G.map(u=>e.jsx("option",{value:u,children:u},u))]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(m,{variant:"secondary",onClick:()=>c(!1),children:"Cancel"}),e.jsx(m,{onClick:M,loading:x,children:"Confirm Reschedule"})]})]})})]})};function Bs(){const l=P(),{results:s,selectedResult:a}=C(N=>N.labResults),{user:d}=C(N=>N.auth),[r,n]=p.useState(""),[i,j]=p.useState("all"),[c,o]=p.useState("all"),[t,x]=p.useState(!1),[b,v]=p.useState(!1),f=s.filter(N=>N.patientId===(d==null?void 0:d.id)||!0),w=f.filter(N=>{const u=N.testName.toLowerCase().includes(r.toLowerCase())||N.testCode.toLowerCase().includes(r.toLowerCase()),I=i==="all"||N.category===i,F=c==="all"||N.status===c;return u&&I&&F}),g=N=>{l(Ge(N)),x(!0)},S=N=>{v(!0)},A=()=>{alert("PDF download functionality - integrate with backend")},L=N=>f.filter(u=>u.testName===N),M=w.filter(N=>N.status==="critical").length,T=w.filter(N=>N.status==="abnormal").length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Lab Results"}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"View your test results and trends"})]}),e.jsxs(m,{onClick:A,className:"flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ“„"}),"Download All"]})]}),(M>0||T>0)&&e.jsx("div",{className:"bg-warning-50 border border-warning-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"âš ï¸"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-warning-900",children:"Attention Required"}),e.jsxs("p",{className:"text-sm text-warning-700 mt-1",children:[M>0&&`${M} critical result${M>1?"s":""}`,M>0&&T>0&&" and ",T>0&&`${T} abnormal result${T>1?"s":""}`," ","found. Please consult your doctor."]})]})]})}),e.jsxs(h,{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsx(y,{placeholder:"Search by test name or code...",value:r,onChange:N=>n(N.target.value),className:"flex-1"}),e.jsxs("select",{value:i,onChange:N=>j(N.target.value),className:"px-3 py-2 border border-neutral-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"hematology",children:"Hematology"}),e.jsx("option",{value:"biochemistry",children:"Biochemistry"}),e.jsx("option",{value:"microbiology",children:"Microbiology"}),e.jsx("option",{value:"pathology",children:"Pathology"}),e.jsx("option",{value:"radiology",children:"Radiology"})]}),e.jsxs("select",{value:c,onChange:N=>o(N.target.value),className:"px-3 py-2 border border-neutral-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"abnormal",children:"Abnormal"}),e.jsx("option",{value:"critical",children:"Critical"})]})]}),w.length===0?e.jsx(X,{icon:"ðŸ”¬",title:"No lab results found",description:r||i!=="all"||c!=="all"?"Try adjusting your filters":"Your lab results will appear here once available"}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map(N=>e.jsx(Fe,{result:N,onClick:()=>g(N)},N.id))})]}),e.jsx(k,{isOpen:t,onClose:()=>x(!1),title:"Lab Result Details",size:"lg",children:a&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-neutral-600",children:"Test Name"}),e.jsx("p",{className:"text-sm font-medium text-neutral-900",children:a.testName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-neutral-600",children:"Test Code"}),e.jsx("p",{className:"text-sm font-medium text-neutral-900",children:a.testCode})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-neutral-600",children:"Result"}),e.jsxs("p",{className:"text-lg font-bold text-neutral-900",children:[a.value," ",a.unit]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-neutral-600",children:"Status"}),e.jsx("p",{className:`text-sm font-medium capitalize ${a.status==="normal"?"text-success":a.status==="abnormal"?"text-warning":"text-error"}`,children:a.status})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-neutral-600",children:"Normal Range"}),e.jsxs("p",{className:"text-sm font-medium text-neutral-900",children:[a.normalMin," - ",a.normalMax," ",a.unit]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-neutral-600",children:"Category"}),e.jsx("p",{className:"text-sm font-medium text-neutral-900 capitalize",children:a.category})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-neutral-600",children:"Ordered By"}),e.jsxs("p",{className:"text-sm font-medium text-neutral-900",children:["Dr. ",a.orderedBy]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-neutral-600",children:"Result Date"}),e.jsx("p",{className:"text-sm font-medium text-neutral-900",children:new Date(a.resultDate).toLocaleDateString()})]})]}),a.notes&&e.jsxs("div",{className:"p-3 bg-neutral-50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-neutral-600 mb-1",children:"Notes"}),e.jsx("p",{className:"text-sm text-neutral-900",children:a.notes})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(m,{variant:"secondary",onClick:()=>S(a.testName),className:"flex-1",children:"View Trend"}),e.jsx(m,{onClick:A,className:"flex-1",children:"Download PDF"})]})]})}),e.jsx(k,{isOpen:b,onClose:()=>v(!1),title:"Result Trend",size:"xl",children:a&&e.jsx(Be,{results:L(a.testName),testName:a.testName})})]})}const qs=()=>{const{prescriptions:l}=C(g=>g.prescriptions),{user:s}=C(g=>g.auth),[a,d]=p.useState(""),[r,n]=p.useState("all"),[i,j]=p.useState(!1),[c,o]=p.useState(!1),[t,x]=p.useState(null),v=l.filter(g=>g.patientId===(s==null?void 0:s.id)||!0).filter(g=>{const S=g.medications.some(L=>L.name.toLowerCase().includes(a.toLowerCase())),A=r==="all"||g.status===r;return S&&A}),f=g=>{switch(g){case"dispensed":return e.jsx(D,{status:"delivered",children:"Dispensed"});case"ready":return e.jsx(D,{status:"sent",children:"Ready"});case"processing":return e.jsx(D,{status:"pending",children:"Processing"});default:return e.jsx(D,{status:"request",children:"Pending"})}},w=g=>{x(g),o(!0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"My Prescriptions"}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"View and manage your prescriptions"})]})}),e.jsxs(h,{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsx(y,{placeholder:"Search medications...",value:a,onChange:g=>d(g.target.value),className:"flex-1"}),e.jsxs("select",{value:r,onChange:g=>n(g.target.value),className:"px-3 py-2 border border-neutral-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"processing",children:"Processing"}),e.jsx("option",{value:"ready",children:"Ready"}),e.jsx("option",{value:"dispensed",children:"Dispensed"})]})]}),v.length===0?e.jsx(X,{icon:"ðŸ’Š",title:"No prescriptions found",description:a||r!=="all"?"Try adjusting your filters":"Your prescriptions will appear here"}):e.jsx("div",{className:"space-y-4",children:v.map(g=>e.jsxs("div",{className:"p-4 border border-neutral-200 rounded-lg hover:shadow-sm transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"ðŸ’Š"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-neutral-600",children:["Prescription #",g.id]}),e.jsxs("p",{className:"text-xs text-neutral-500",children:["Dr. ",g.doctorName]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[f(g.status),g.refillRequested&&e.jsx(D,{status:"pending",children:"Refill Requested"})]})]}),e.jsx("div",{className:"space-y-2 mb-3",children:g.medications.map((S,A)=>e.jsxs("div",{className:"flex justify-between items-start p-3 bg-neutral-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-900",children:S.name}),e.jsxs("p",{className:"text-xs text-neutral-600",children:[S.dosage," â€¢ ",S.frequency," â€¢ ",S.duration]}),S.instructions&&e.jsx("p",{className:"text-xs text-neutral-500 mt-1 italic",children:S.instructions})]}),e.jsxs("p",{className:"text-sm text-neutral-600",children:["Qty: ",S.quantity]})]},A))}),e.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-neutral-200",children:[e.jsxs("div",{className:"text-xs text-neutral-600",children:[e.jsxs("span",{children:["Prescribed: ",z(new Date(g.prescriptionDate),"MMM dd, yyyy")]}),g.refillsRemaining!==void 0&&e.jsxs("span",{className:"ml-4",children:["Refills: ",g.refillsRemaining]})]}),e.jsxs("div",{className:"flex gap-2",children:[g.status==="dispensed"&&!g.refillRequested&&e.jsx(m,{size:"sm",onClick:()=>{x(g),j(!0)},children:"Request Refill"}),e.jsx(m,{variant:"secondary",size:"sm",onClick:()=>w(g),children:"View Details"})]})]})]},g.id))})]}),i&&t&&e.jsx(Oe,{isOpen:i,onClose:()=>j(!1),prescription:t}),c&&t&&e.jsx(k,{isOpen:c,onClose:()=>o(!1),title:"Prescription Details",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-b border-neutral-200 pb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-neutral-900",children:["Prescription #",t.id]}),e.jsxs("p",{className:"text-sm text-neutral-600 mt-1",children:["Prescribed by Dr. ",t.doctorName," on ",z(new Date(t.prescriptionDate),"MMMM dd, yyyy")]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-neutral-900 mb-3",children:"Medications"}),e.jsx("div",{className:"space-y-3",children:t.medications.map((g,S)=>e.jsxs("div",{className:"p-4 bg-neutral-50 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h5",{className:"font-medium text-neutral-900",children:g.name}),e.jsx(D,{status:t.status==="dispensed"?"delivered":"pending",children:t.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-600",children:"Dosage:"})," ",g.dosage]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-600",children:"Frequency:"})," ",g.frequency]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-600",children:"Duration:"})," ",g.duration]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-neutral-600",children:"Quantity:"})," ",g.quantity]})]}),g.instructions&&e.jsx("div",{className:"mt-3 p-3 bg-white rounded border-l-4 border-primary-500",children:e.jsxs("p",{className:"text-sm text-neutral-700",children:[e.jsx("span",{className:"font-medium",children:"Instructions:"})," ",g.instructions]})})]},S))})]}),e.jsx("div",{className:"border-t border-neutral-200 pt-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-neutral-600",children:[e.jsxs("div",{children:["Refills Remaining: ",t.refillsRemaining||0]}),e.jsxs("div",{children:["Last Dispensed: ",t.lastDispensed?z(new Date(t.lastDispensed),"MMM dd, yyyy"):"Not dispensed"]})]}),e.jsxs("div",{className:"flex gap-2",children:[t.status==="dispensed"&&!t.refillRequested&&e.jsx(m,{size:"sm",onClick:()=>{o(!1),x(t),j(!0)},children:"Request Refill"}),e.jsx(m,{variant:"secondary",size:"sm",onClick:()=>o(!1),children:"Close"})]})]})})]})})]})};function $s(){const{schedule:l,adherenceRate:s,streak:a,missedDoses:d}=C(i=>i.adherence),r=P(),n=l.filter(i=>i.date===new Date().toISOString().split("T")[0]);return e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Medication Adherence"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs(h,{className:"p-4",children:[e.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[s,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Adherence Rate"}),e.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded",style:{width:`${s}%`}})})]}),e.jsxs(h,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:a}),e.jsx("div",{className:"text-sm text-gray-600",children:"Day Streak ðŸ”¥"})]}),e.jsxs(h,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:d}),e.jsx("div",{className:"text-sm text-gray-600",children:"Missed This Month"})]})]}),e.jsxs(h,{className:"p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Today's Schedule"}),e.jsx("div",{className:"space-y-3",children:n.map(i=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${i.taken?"bg-green-100":"bg-gray-200"}`,children:i.taken?"âœ“":"ðŸ’Š"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:i.medication}),e.jsxs("div",{className:"text-sm text-gray-600",children:[i.time," â€¢ ",i.frequency]})]})]}),!i.taken&&e.jsx(m,{size:"sm",onClick:()=>r(ts(i.id)),children:"Mark Taken"})]},i.id))})]}),e.jsxs(h,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"7-Day Adherence"}),e.jsx("div",{className:"flex gap-2",children:[100,100,85,100,100,70,100].map((i,j)=>e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("div",{className:"h-32 bg-gray-200 rounded relative",children:e.jsx("div",{className:`absolute bottom-0 w-full rounded ${i===100?"bg-green-500":i>=80?"bg-yellow-500":"bg-red-500"}`,style:{height:`${i}%`}})}),e.jsxs("div",{className:"text-xs text-gray-600 mt-2",children:["Day ",j+1]})]},j))})]})]})}const is={high:"Seek immediate medical attention",medium:"Schedule an appointment soon",low:"Monitor symptoms, self-care recommended"};function Es(){const{history:l,symptomDatabase:s}=C(o=>o.symptom),a=P(),[d,r]=p.useState([]),[n,i]=p.useState(null),j=Object.keys(s),c=()=>{const o=d.map(b=>{var v;return((v=s[b])==null?void 0:v.urgency)||"low"}),t=o.includes("high")?"high":o.includes("medium")?"medium":"low",x={id:Date.now().toString(),date:new Date().toISOString().split("T")[0],symptoms:d,urgency:t,recommendation:is[t]};a(as(x)),i(x)};return e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Symptom Checker"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs(h,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Select Your Symptoms"}),e.jsx("div",{className:"space-y-2 mb-6",children:j.map(o=>e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded cursor-pointer hover:bg-gray-100",children:[e.jsx("input",{type:"checkbox",checked:d.includes(o),onChange:t=>r(t.target.checked?[...d,o]:d.filter(x=>x!==o)),className:"w-4 h-4"}),e.jsx("span",{children:o})]},o))}),e.jsx(m,{onClick:c,disabled:d.length===0,className:"w-full",children:"Analyze Symptoms"})]}),e.jsxs("div",{children:[n&&e.jsxs(h,{className:`p-6 mb-6 border-2 ${n.urgency==="high"?"border-red-500":n.urgency==="medium"?"border-orange-500":"border-blue-500"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-2xl ${n.urgency==="high"?"bg-red-100":n.urgency==="medium"?"bg-orange-100":"bg-blue-100"}`,children:n.urgency==="high"?"ðŸš¨":n.urgency==="medium"?"âš ï¸":"â„¹ï¸"}),e.jsxs("div",{children:[e.jsxs("div",{className:`font-semibold capitalize ${n.urgency==="high"?"text-red-800":n.urgency==="medium"?"text-orange-800":"text-blue-800"}`,children:[n.urgency," Urgency"]}),e.jsx("div",{className:"text-sm text-gray-600",children:n.date})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Symptoms:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.symptoms.map(o=>e.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded text-sm",children:o},o))})]}),e.jsxs("div",{className:`p-4 rounded ${n.urgency==="high"?"bg-red-50":n.urgency==="medium"?"bg-orange-50":"bg-blue-50"}`,children:[e.jsx("div",{className:"font-semibold mb-1",children:"Recommendation:"}),e.jsx("div",{className:"text-sm",children:n.recommendation})]})]}),e.jsxs(h,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Recent Checks"}),e.jsx("div",{className:"space-y-3",children:l.slice(0,5).map(o=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs ${o.urgency==="high"?"bg-red-100 text-red-800":o.urgency==="medium"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"}`,children:o.urgency}),e.jsx("span",{className:"text-sm text-gray-600",children:o.date})]}),e.jsx("div",{className:"text-sm",children:o.symptoms.join(", ")})]},o.id))})]})]})]})]})}const Hs=()=>{const[l]=p.useState([{id:"1",from:"Dr. Smith",subject:"Lab Results Available",preview:"Your recent lab results are now available...",date:"2024-01-15",read:!1,type:"received"},{id:"2",from:"Billing Department",subject:"Payment Confirmation",preview:"Thank you for your payment...",date:"2024-01-14",read:!0,type:"received"},{id:"3",from:"You",subject:"Appointment Question",preview:"I have a question about my upcoming...",date:"2024-01-13",read:!0,type:"sent"}]),[s,a]=p.useState(null),[d,r]=p.useState(""),[n,i]=p.useState(!1),j=l.filter(c=>c.subject.toLowerCase().includes(d.toLowerCase())||c.from.toLowerCase().includes(d.toLowerCase()));return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Messages"}),e.jsxs(m,{variant:"primary",onClick:()=>i(!0),children:[e.jsx(fe,{className:"w-4 h-4 mr-2"}),"New Message"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(we,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(y,{placeholder:"Search messages...",value:d,onChange:c=>r(c.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1 space-y-2",children:j.map(c=>e.jsxs(h,{className:`p-4 cursor-pointer hover:shadow-md transition-shadow ${c.read?"":"bg-blue-50 border-blue-200"} ${(s==null?void 0:s.id)===c.id?"border-blue-500":""}`,onClick:()=>a(c),children:[e.jsxs("div",{className:"flex items-start justify-between mb-1",children:[e.jsx("span",{className:`font-medium ${c.read?"text-gray-900":"text-blue-900"}`,children:c.from}),e.jsx("span",{className:"text-xs text-gray-500",children:c.date})]}),e.jsx("p",{className:`text-sm ${c.read?"text-gray-700":"font-medium text-blue-800"}`,children:c.subject}),e.jsx("p",{className:"text-sm text-gray-600 truncate mt-1",children:c.preview})]},c.id))}),e.jsx("div",{className:"lg:col-span-2",children:s?e.jsxs(h,{className:"p-6",children:[e.jsxs("div",{className:"border-b pb-4 mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s.subject}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["From: ",s.from]}),e.jsx("span",{className:"text-sm text-gray-500",children:s.date})]})]}),e.jsx("div",{className:"prose max-w-none",children:e.jsx("p",{children:s.preview})}),e.jsx("div",{className:"mt-6 pt-4 border-t",children:e.jsx(m,{variant:"primary",children:"Reply"})})]}):e.jsxs(h,{className:"p-12 text-center",children:[e.jsx(_,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Select a message to view"})]})})]}),n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(h,{className:"w-full max-w-2xl p-6 m-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"New Message"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To"}),e.jsxs("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2",children:[e.jsx("option",{children:"Select recipient"}),e.jsx("option",{children:"Dr. Smith"}),e.jsx("option",{children:"Billing Department"}),e.jsx("option",{children:"Pharmacy"})]})]}),e.jsx(y,{label:"Subject",placeholder:"Enter subject"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),e.jsx("textarea",{rows:6,className:"w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"Type your message..."})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(m,{variant:"secondary",children:[e.jsx(Ce,{className:"w-4 h-4 mr-2"}),"Attach File"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(m,{variant:"secondary",onClick:()=>i(!1),children:"Cancel"}),e.jsx(m,{variant:"primary",children:"Send"})]})]})]})]})})]})};function Vs(){const{availableRecords:l,downloadHistory:s}=C(o=>o.recordDownload),a=P(),[d,r]=p.useState([]),[n,i]=p.useState("PDF"),j=()=>{a(ls({id:`D${Date.now()}`,recordIds:d,format:n,date:new Date().toISOString(),size:`${(d.length*1.2).toFixed(1)} MB`})),alert(`Downloading ${d.length} records as ${n}`),r([])},c=[...new Set(l.map(o=>o.category))];return e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Download Medical Records"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs(h,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Select Records"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Filter by Category"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(o=>e.jsx("button",{className:"px-3 py-1 bg-gray-100 rounded text-sm hover:bg-gray-200 capitalize",children:o},o))})]}),e.jsx("div",{className:"space-y-2 mb-6",children:l.map(o=>e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded cursor-pointer hover:bg-gray-100",children:[e.jsx("input",{type:"checkbox",checked:d.includes(o.id),onChange:t=>r(t.target.checked?[...d,o.id]:d.filter(x=>x!==o.id)),className:"w-4 h-4"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:o.type}),e.jsx("div",{className:"text-sm text-gray-600",children:o.date})]}),e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs capitalize",children:o.category})]},o.id))}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Export Format"}),e.jsx("div",{className:"flex gap-2",children:["PDF","CCD","CDA"].map(o=>e.jsx("button",{onClick:()=>i(o),className:`px-4 py-2 rounded ${n===o?"bg-blue-500 text-white":"bg-gray-200"}`,children:o},o))})]}),e.jsxs(m,{onClick:j,disabled:d.length===0,className:"w-full",children:["Download ",d.length," Record",d.length!==1?"s":""]})]}),e.jsxs(h,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Download History"}),e.jsx("div",{className:"space-y-3",children:s.map(o=>e.jsxs("div",{className:"p-4 bg-gray-50 rounded",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold",children:[o.recordIds.length," Records"]}),e.jsx("div",{className:"text-sm text-gray-600",children:new Date(o.date).toLocaleString()})]}),e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs",children:o.format})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"text-sm text-gray-500",children:o.size}),e.jsx(m,{variant:"outline",size:"sm",children:"Re-download"})]})]},o.id))}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded",children:e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("div",{className:"font-semibold mb-1",children:"ðŸ“‹ About Export Formats"}),e.jsxs("div",{className:"text-xs space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"PDF:"})," Human-readable document"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"CCD:"})," Continuity of Care Document (XML)"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"CDA:"})," Clinical Document Architecture"]})]})]})})]})]})]})}function Js(){const[l,s]=p.useState(!1),a=()=>{s(!0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Share Your Feedback"}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"Help us improve our services"})]}),e.jsxs(h,{className:"p-6 max-w-2xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-neutral-900 mb-2",children:"Recent Appointment"}),e.jsxs("div",{className:"p-4 bg-neutral-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-neutral-900 font-medium",children:"Dr. Wilson"}),e.jsx("p",{className:"text-xs text-neutral-600",children:"January 15, 2024 â€¢ General Consultation"})]})]}),e.jsx(ze,{appointmentId:"APT001",doctorName:"Dr. Wilson",onSubmit:a})]}),e.jsx(k,{isOpen:l,onClose:()=>s(!1),title:"Thank You!",size:"sm",children:e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸŽ‰"}),e.jsx("p",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Feedback Submitted"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"Thank you for taking the time to share your experience with us."})]})})]})}const Us=()=>{const l=[{id:"1",date:"2024-01-15",type:"Consultation",doctor:"Dr. Smith",diagnosis:"Annual Checkup",status:"Complete"},{id:"2",date:"2024-01-10",type:"Lab Results",doctor:"Dr. Johnson",diagnosis:"Blood Work",status:"Complete"},{id:"3",date:"2024-01-05",type:"Prescription",doctor:"Dr. Smith",diagnosis:"Medication Refill",status:"Active"}];return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Medical Records"}),e.jsx("p",{className:"text-gray-600",children:"View and download your medical history"})]}),e.jsxs(m,{variant:"primary",children:[e.jsx(J,{className:"w-4 h-4 mr-2"}),"Download All"]})]}),e.jsx("div",{className:"grid gap-4",children:l.map(s=>e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Se,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.type}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.doctor," â€¢ ",s.date]}),e.jsx("p",{className:"text-sm text-gray-800 mt-1",children:s.diagnosis})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${s.status==="Complete"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:s.status}),e.jsxs(m,{variant:"secondary",size:"sm",children:[e.jsx(De,{className:"w-4 h-4 mr-1"}),"View"]}),e.jsxs(m,{variant:"secondary",size:"sm",children:[e.jsx(J,{className:"w-4 h-4 mr-1"}),"Download"]})]})]})},s.id))})]})},Ws=()=>{const l=[{id:"1",date:"2024-01-15",description:"Annual Physical Exam",amount:250,status:"Paid",dueDate:"2024-01-30"},{id:"2",date:"2024-01-10",description:"Lab Work - Blood Panel",amount:125,status:"Pending",dueDate:"2024-01-25"},{id:"3",date:"2024-01-05",description:"Prescription Medications",amount:45,status:"Overdue",dueDate:"2024-01-20"}],s=a=>{switch(a){case"Paid":return"bg-green-100 text-green-800";case"Pending":return"bg-yellow-100 text-yellow-800";case"Overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Bills & Payments"}),e.jsx("p",{className:"text-gray-600",children:"Manage your medical bills and payment history"})]}),e.jsxs(m,{variant:"primary",children:[e.jsx(ke,{className:"w-4 h-4 mr-2"}),"Make Payment"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx(E,{className:"w-4 h-4 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Paid"}),e.jsx("p",{className:"text-xl font-semibold text-gray-900",children:"$250.00"})]})]})}),e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx(E,{className:"w-4 h-4 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),e.jsx("p",{className:"text-xl font-semibold text-gray-900",children:"$125.00"})]})]})}),e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx(E,{className:"w-4 h-4 text-red-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Overdue"}),e.jsx("p",{className:"text-xl font-semibold text-gray-900",children:"$45.00"})]})]})})]}),e.jsxs(h,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Bills"}),e.jsx("div",{className:"space-y-4",children:l.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:a.description}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",a.date," â€¢ Due: ",a.dueDate]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-gray-900",children:["$",a.amount.toFixed(2)]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${s(a.status)}`,children:a.status})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(m,{variant:"secondary",size:"sm",children:[e.jsx(J,{className:"w-4 h-4 mr-1"}),"Download"]}),a.status!=="Paid"&&e.jsx(m,{variant:"primary",size:"sm",children:"Pay Now"})]})]})]},a.id))})]})]})},Ys=()=>{const[l,s]=p.useState("waiting"),[a,d]=p.useState(!1),[r,n]=p.useState(!1),[i,j]=p.useState(5),[c,o]=p.useState({camera:!1,microphone:!1,connection:!1}),t={doctor:"Dr. Smith",specialty:"Cardiology",time:"10:00 AM"};p.useEffect(()=>{if(l==="waiting"){const f=setInterval(()=>{j(w=>Math.max(0,w-1))},6e4);return()=>clearInterval(f)}},[l]);const x=()=>{s("tech-check"),setTimeout(()=>o(f=>({...f,camera:!0})),500),setTimeout(()=>o(f=>({...f,microphone:!0})),1e3),setTimeout(()=>o(f=>({...f,connection:!0})),1500)},b=()=>{s("in-call")},v=()=>{s("ended")};return l==="waiting"?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsx(h,{className:"w-full max-w-2xl p-8",children:e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto",children:e.jsx(B,{className:"w-10 h-10 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Video Consultation"}),e.jsxs("p",{className:"text-gray-600",children:["Your appointment with ",t.doctor]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[e.jsx(Z,{className:"w-5 h-5 text-blue-600"}),e.jsxs("span",{className:"text-lg font-semibold text-blue-900",children:["Estimated wait time: ",i," minutes"]})]}),e.jsx("p",{className:"text-sm text-blue-700",children:"The doctor will join shortly. Please stay on this page."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[e.jsx("span",{className:"text-gray-700",children:"Doctor"}),e.jsx("span",{className:"font-medium",children:t.doctor})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[e.jsx("span",{className:"text-gray-700",children:"Specialty"}),e.jsx("span",{className:"font-medium",children:t.specialty})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[e.jsx("span",{className:"text-gray-700",children:"Scheduled Time"}),e.jsx("span",{className:"font-medium",children:t.time})]})]}),e.jsx(m,{variant:"primary",onClick:x,className:"w-full",children:"Run Tech Check"})]})})}):l==="tech-check"?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsx(h,{className:"w-full max-w-2xl p-8",children:e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Check"}),e.jsx("p",{className:"text-gray-600",children:"Testing your camera, microphone, and connection"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(B,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{children:"Camera"})]}),c.camera?e.jsx(q,{className:"w-5 h-5 text-green-600"}):e.jsx("div",{className:"w-5 h-5 border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(U,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{children:"Microphone"})]}),c.microphone?e.jsx(q,{className:"w-5 h-5 text-green-600"}):e.jsx("div",{className:"w-5 h-5 border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ae,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{children:"Connection"})]}),c.connection?e.jsx(q,{className:"w-5 h-5 text-green-600"}):e.jsx("div",{className:"w-5 h-5 border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin"})]})]}),Object.values(c).every(f=>f)&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsx("p",{className:"text-green-800 font-medium",children:"All systems ready!"})}),e.jsx(m,{variant:"primary",onClick:b,className:"w-full",children:"Join Consultation"})]})]})})}):l==="in-call"?e.jsxs("div",{className:"min-h-screen bg-gray-900 flex flex-col",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gray-800 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx(B,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg",children:"Dr. Smith's Video"})]})}),e.jsx("div",{className:"absolute bottom-4 right-4 w-48 h-36 bg-gray-700 rounded-lg border-2 border-white shadow-lg",children:e.jsx("div",{className:"w-full h-full flex items-center justify-center text-white",children:r?e.jsx(W,{className:"w-8 h-8 opacity-50"}):e.jsx("p",{className:"text-sm",children:"Your Video"})})}),e.jsx("div",{className:"absolute top-4 left-4 bg-black bg-opacity-50 text-white px-4 py-2 rounded-lg",children:e.jsxs("p",{className:"text-sm",children:["Consultation with ",t.doctor]})})]}),e.jsx("div",{className:"bg-gray-800 p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-center space-x-4",children:[e.jsx(m,{variant:a?"primary":"secondary",onClick:()=>d(!a),className:"rounded-full w-14 h-14",children:a?e.jsx(Pe,{className:"w-6 h-6"}):e.jsx(U,{className:"w-6 h-6"})}),e.jsx(m,{variant:r?"primary":"secondary",onClick:()=>n(!r),className:"rounded-full w-14 h-14",children:r?e.jsx(W,{className:"w-6 h-6"}):e.jsx(B,{className:"w-6 h-6"})}),e.jsx(m,{variant:"secondary",className:"rounded-full w-14 h-14",children:e.jsx(_,{className:"w-6 h-6"})}),e.jsx(m,{variant:"primary",onClick:v,className:"rounded-full w-14 h-14 bg-red-600 hover:bg-red-700",children:e.jsx(K,{className:"w-6 h-6"})})]})})]}):l==="ended"?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsx(h,{className:"w-full max-w-2xl p-8",children:e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx(q,{className:"w-20 h-20 text-green-600 mx-auto"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Consultation Ended"}),e.jsx("p",{className:"text-gray-600",children:"Thank you for using our telemedicine service"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:"Your consultation notes and any prescriptions will be available in your patient portal shortly."})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(m,{variant:"secondary",className:"flex-1",children:"View Summary"}),e.jsx(m,{variant:"primary",className:"flex-1",children:"Back to Dashboard"})]})]})})}):null},Gs=()=>{const[l,s]=p.useState(!1),[a,d]=p.useState({name:"John Patient",email:"john.patient@example.com",phone:"(555) 123-4567",address:"123 Main St, City, State 12345",emergencyContact:"Jane Patient - (555) 987-6543",dateOfBirth:"1990-01-15",patientId:"P001"}),r=()=>{s(!1)},n=(i,j)=>{d(c=>({...c,[i]:j}))};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Profile"}),e.jsx("p",{className:"text-gray-600",children:"Manage your personal information and preferences"})]}),e.jsx("div",{className:"flex space-x-2",children:l?e.jsxs(e.Fragment,{children:[e.jsx(m,{variant:"secondary",onClick:()=>s(!1),children:"Cancel"}),e.jsx(m,{variant:"primary",onClick:r,children:"Save Changes"})]}):e.jsx(m,{variant:"primary",onClick:()=>s(!0),children:"Edit Profile"})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(h,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full mx-auto mb-4 flex items-center justify-center",children:e.jsx(Re,{className:"w-12 h-12 text-gray-500"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Patient ID: ",a.patientId]}),e.jsx(m,{variant:"secondary",size:"sm",className:"mt-4",children:"Change Photo"})]}),e.jsxs(h,{className:"lg:col-span-2 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Personal Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(y,{label:"Full Name",value:a.name,onChange:i=>n("name",i.target.value),disabled:!l}),e.jsx(y,{label:"Date of Birth",type:"date",value:a.dateOfBirth,onChange:i=>n("dateOfBirth",i.target.value),disabled:!l}),e.jsx(y,{label:"Email Address",type:"email",value:a.email,onChange:i=>n("email",i.target.value),disabled:!l}),e.jsx(y,{label:"Phone Number",type:"tel",value:a.phone,onChange:i=>n("phone",i.target.value),disabled:!l})]}),e.jsx("div",{className:"mt-4",children:e.jsx(y,{label:"Address",value:a.address,onChange:i=>n("address",i.target.value),disabled:!l})}),e.jsx("div",{className:"mt-4",children:e.jsx(y,{label:"Emergency Contact",value:a.emergencyContact,onChange:i=>n("emergencyContact",i.target.value),disabled:!l})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Me,{className:"w-5 h-5 text-blue-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),e.jsx("p",{className:"font-medium text-gray-900 truncate",children:a.email})]})]})}),e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(K,{className:"w-5 h-5 text-green-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),e.jsx("p",{className:"font-medium text-gray-900",children:a.phone})]})]})}),e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Te,{className:"w-5 h-5 text-red-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Address"}),e.jsx("p",{className:"font-medium text-gray-900 truncate",children:a.address})]})]})}),e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ie,{className:"w-5 h-5 text-purple-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Patient ID"}),e.jsx("p",{className:"font-medium text-gray-900",children:a.patientId})]})]})})]}),e.jsxs(h,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Security Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Password"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Last changed 30 days ago"})]}),e.jsx(m,{variant:"secondary",size:"sm",children:"Change Password"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Add an extra layer of security"})]}),e.jsx(m,{variant:"secondary",size:"sm",children:"Enable 2FA"})]})]})]})]})};function Qs(){const l=P(),{allergies:s}=C(x=>x.allergies),[a,d]=p.useState(""),[r,n]=p.useState(!1),[i,j]=p.useState({patientId:"P001",allergen:"",type:"drug",severity:"moderate",reaction:"",onsetDate:"",notes:"",addedBy:"Dr. Current"}),c=s.filter(x=>x.allergen.toLowerCase().includes(a.toLowerCase())||x.reaction.toLowerCase().includes(a.toLowerCase())),o=()=>{i.allergen&&i.reaction&&(l(_e(i)),n(!1),j({patientId:"P001",allergen:"",type:"drug",severity:"moderate",reaction:"",onsetDate:"",notes:"",addedBy:"Dr. Current"}))},t=x=>{switch(x){case"severe":return e.jsx(D,{status:"error",children:"Severe"});case"moderate":return e.jsx(D,{status:"pending",children:"Moderate"});default:return e.jsx(D,{status:"sent",children:"Mild"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Allergy Management"}),e.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"Manage patient allergies and sensitivities"})]}),e.jsxs(m,{onClick:()=>n(!0),className:"flex items-center gap-2",children:[e.jsx("span",{children:"+"}),"Add Allergy"]})]}),e.jsxs(h,{className:"p-6",children:[e.jsx(y,{placeholder:"Search allergies...",value:a,onChange:x=>d(x.target.value),className:"mb-6"}),e.jsx("div",{className:"space-y-3",children:c.map(x=>e.jsxs("div",{className:"p-4 border-2 border-neutral-200 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-error-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"âš ï¸"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold text-neutral-900",children:x.allergen}),e.jsxs("p",{className:"text-sm text-neutral-600 capitalize",children:[x.type," allergy"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[t(x.severity),e.jsx(m,{variant:"tertiary",size:"sm",className:"text-error",onClick:()=>l(Ke(x.id)),children:"Remove"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-neutral-600",children:"Reaction"}),e.jsx("p",{className:"text-sm text-neutral-900",children:x.reaction})]}),x.onsetDate&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-neutral-600",children:"Onset Date"}),e.jsx("p",{className:"text-sm text-neutral-900",children:z(new Date(x.onsetDate),"MMM dd, yyyy")})]})]}),x.notes&&e.jsxs("div",{className:"p-3 bg-neutral-50 rounded-lg mb-3",children:[e.jsx("p",{className:"text-xs text-neutral-600 mb-1",children:"Notes"}),e.jsx("p",{className:"text-sm text-neutral-900",children:x.notes})]}),e.jsxs("div",{className:"text-xs text-neutral-500",children:["Added by ",x.addedBy," on ",z(new Date(x.addedAt),"MMM dd, yyyy")]})]},x.id))})]}),e.jsx(k,{isOpen:r,onClose:()=>n(!1),title:"Add New Allergy",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(y,{label:"Allergen",value:i.allergen,onChange:x=>j({...i,allergen:x.target.value}),placeholder:"e.g., Penicillin",required:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Type"}),e.jsxs("select",{value:i.type,onChange:x=>j({...i,type:x.target.value}),className:"block w-full px-3 py-2 border border-neutral-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"drug",children:"Drug"}),e.jsx("option",{value:"food",children:"Food"}),e.jsx("option",{value:"environmental",children:"Environmental"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Severity"}),e.jsxs("select",{value:i.severity,onChange:x=>j({...i,severity:x.target.value}),className:"block w-full px-3 py-2 border border-neutral-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"mild",children:"Mild"}),e.jsx("option",{value:"moderate",children:"Moderate"}),e.jsx("option",{value:"severe",children:"Severe"})]})]}),e.jsx(y,{label:"Reaction",value:i.reaction,onChange:x=>j({...i,reaction:x.target.value}),placeholder:"e.g., Skin rash, difficulty breathing",required:!0}),e.jsx(y,{label:"Onset Date (Optional)",type:"date",value:i.onsetDate,onChange:x=>j({...i,onsetDate:x.target.value})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Notes (Optional)"}),e.jsx("textarea",{value:i.notes,onChange:x=>j({...i,notes:x.target.value}),rows:3,className:"block w-full px-3 py-2 border border-neutral-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Additional information..."})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(m,{variant:"secondary",onClick:()=>n(!1),className:"flex-1",children:"Cancel"}),e.jsx(m,{onClick:o,className:"flex-1",children:"Add Allergy"})]})]})})]})}function Zs(){const{records:l,inventory:s}=C(t=>t.immunization),a=P(),[d,r]=p.useState(!1),[n,i]=p.useState({vaccine:"",date:"",lot:""}),j=l.filter(t=>t.status==="overdue").length,c=l.filter(t=>{if(!t.nextDue)return!1;const x=Math.floor((new Date(t.nextDue).getTime()-Date.now())/864e5);return x>0&&x<=30}).length,o=()=>{const t=new Date(n.date);t.setFullYear(t.getFullYear()+1),a(ss({...n,id:Date.now().toString(),status:"completed",nextDue:t.toISOString().split("T")[0]})),r(!1),i({vaccine:"",date:"",lot:""})};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Immunization Tracker"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(m,{variant:"outline",children:"Generate Certificate"}),e.jsx(m,{onClick:()=>r(!0),children:"+ Record Vaccine"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs(h,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:j}),e.jsx("div",{className:"text-sm text-gray-600",children:"Overdue"})]}),e.jsxs(h,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-600",children:c}),e.jsx("div",{className:"text-sm text-gray-600",children:"Due in 30 Days"})]}),e.jsxs(h,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:l.filter(t=>t.status==="completed").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Immunization Records"}),e.jsx("div",{className:"space-y-3",children:l.map(t=>e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:t.vaccine}),t.date&&e.jsxs("p",{className:"text-sm text-gray-600",children:["Given: ",t.date]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Next Due: ",t.nextDue]}),t.lot&&e.jsxs("p",{className:"text-sm text-gray-500",children:["Lot: ",t.lot]})]}),e.jsx("span",{className:`px-2 py-1 rounded text-xs ${t.status==="completed"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.status})]})},t.id))})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Vaccine Inventory"}),e.jsx("div",{className:"space-y-3",children:s.map(t=>e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:t.vaccine}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Min Stock: ",t.minStock]})]}),e.jsx("div",{className:`text-2xl font-bold ${t.stock<t.minStock?"text-red-600":"text-green-600"}`,children:t.stock})]})},t.vaccine))})]})]}),e.jsx(k,{isOpen:d,onClose:()=>r(!1),title:"Record Vaccination",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(y,{label:"Vaccine Name",value:n.vaccine,onChange:t=>i({...n,vaccine:t.target.value})}),e.jsx(y,{label:"Date Given",type:"date",value:n.date,onChange:t=>i({...n,date:t.target.value})}),e.jsx(y,{label:"Lot Number",value:n.lot,onChange:t=>i({...n,lot:t.target.value})}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(m,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),e.jsx(m,{onClick:o,children:"Record"})]})]})})]})}const ns={appointment:"ðŸ“…",prescription:"ðŸ’Š",lab:"ðŸ”¬"},rs={appointment:"blue",prescription:"green",lab:"purple"};function _s(){const{events:l}=C(i=>i.timeline),[s,a]=p.useState("all"),[d,r]=p.useState(""),n=l.filter(i=>(s==="all"||i.type===s)&&i.title.toLowerCase().includes(d.toLowerCase()));return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Patient Timeline"}),e.jsx(m,{children:"Export Timeline"})]}),e.jsx(h,{className:"mb-6 p-4",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx(y,{placeholder:"Search events...",value:d,onChange:i=>r(i.target.value),className:"flex-1"}),e.jsxs("select",{value:s,onChange:i=>a(i.target.value),className:"border rounded px-3",children:[e.jsx("option",{value:"all",children:"All Events"}),e.jsx("option",{value:"appointment",children:"Appointments"}),e.jsx("option",{value:"prescription",children:"Prescriptions"}),e.jsx("option",{value:"lab",children:"Lab Results"})]})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-gray-300"}),e.jsx("div",{className:"space-y-6",children:n.map(i=>e.jsxs("div",{className:"relative pl-16",children:[e.jsx("div",{className:`absolute left-5 w-6 h-6 rounded-full bg-${rs[i.type]}-500 flex items-center justify-center text-white text-xs`,children:ns[i.type]}),e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:i.title}),e.jsx("p",{className:"text-sm text-gray-600",children:i.date}),i.doctor&&e.jsx("p",{className:"text-sm text-gray-500",children:i.doctor}),i.result&&e.jsxs("p",{className:"text-sm text-green-600",children:["Result: ",i.result]})]}),e.jsx("span",{className:`px-2 py-1 rounded text-xs ${i.status==="completed"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:i.status})]})})]},i.id))})]})]})}function Ks(){const{problems:l}=C(t=>t.problemList),s=P(),[a,d]=p.useState("active"),[r,n]=p.useState(!1),[i,j]=p.useState({name:"",icd10:"",onset:"",notes:""}),c=l.filter(t=>a==="all"||t.status===a),o=()=>{s(Xe({...i,id:Date.now().toString(),status:"active"})),n(!1),j({name:"",icd10:"",onset:"",notes:""})};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Problem List"}),e.jsx(m,{onClick:()=>n(!0),children:"+ Add Problem"})]}),e.jsx("div",{className:"flex gap-2 mb-6",children:["active","resolved","all"].map(t=>e.jsxs("button",{onClick:()=>d(t),className:`px-4 py-2 rounded ${a===t?"bg-blue-500 text-white":"bg-gray-200"}`,children:[t.charAt(0).toUpperCase()+t.slice(1)," (",l.filter(x=>t==="all"||x.status===t).length,")"]},t))}),e.jsx("div",{className:"space-y-4",children:c.map(t=>e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:t.name}),e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-sm font-mono",children:t.icd10}),e.jsx("span",{className:`px-2 py-1 rounded text-sm ${t.status==="active"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:t.status})]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Onset: ",t.onset]}),t.resolved&&e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Resolved: ",t.resolved]}),e.jsx("p",{className:"text-sm text-gray-700",children:t.notes})]}),t.status==="active"&&e.jsx(m,{variant:"outline",size:"sm",onClick:()=>s(es({id:t.id,status:"resolved"})),children:"Mark Resolved"})]})},t.id))}),e.jsx(k,{isOpen:r,onClose:()=>n(!1),title:"Add Problem",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(y,{label:"Problem Name",value:i.name,onChange:t=>j({...i,name:t.target.value})}),e.jsx(y,{label:"ICD-10 Code",value:i.icd10,onChange:t=>j({...i,icd10:t.target.value})}),e.jsx(y,{label:"Onset Date",type:"date",value:i.onset,onChange:t=>j({...i,onset:t.target.value})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notes"}),e.jsx("textarea",{value:i.notes,onChange:t=>j({...i,notes:t.target.value}),className:"w-full border rounded p-2",rows:3})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(m,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),e.jsx(m,{onClick:o,children:"Add Problem"})]})]})})]})}export{Qs as A,Ks as B,Js as F,zs as H,Zs as I,Bs as L,Fs as M,Ts as P,Vs as R,Es as S,se as a,As as b,ws as c,us as d,Is as e,Ve as f,Ue as g,Ms as h,Ds as i,Ls as j,bs as k,js as l,Os as m,qs as n,$s as o,Cs as p,Hs as q,Rs as r,Ps as s,Us as t,Je as u,vs as v,Ws as w,Ys as x,Gs as y,_s as z};
