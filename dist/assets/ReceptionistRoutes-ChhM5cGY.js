import{j as e,B as n,C as x,a as F,h as Y,e as W,i as J,M as S,I as v,k as G,l as H,r as Q,n as X,o as q,p as U,q as L,v as _}from"./index-COZPVgkZ.js";import{a as j,u as E,h as Z,i as b}from"./vendor-pjqRyqzN.js";import{d as R,u as k}from"./redux-D34xRyNf.js";import{s as ee,T as K}from"./sanitizer-BnaRp717.js";import"./ui-CFbSXi9d.js";function se({events:a=[],onDateSelect:l,onEventClick:u,selected:g,onSelect:m,minDate:r,className:t}){const[h,o]=j.useState(new Date),[c,s]=j.useState(null),D=["January","February","March","April","May","June","July","August","September","October","November","December"],f=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A=p=>{r&&p<r||(s(p),l==null||l(p),m==null||m(p))},C=p=>{o(new Date(h.getFullYear(),h.getMonth()+p,1))},y=(()=>{const p=h.getFullYear(),w=h.getMonth(),d=new Date(p,w,1),T=new Date(p,w+1,0).getDate(),M=d.getDay(),$=[];for(let P=0;P<M;P++)$.push(null);for(let P=1;P<=T;P++)$.push(new Date(p,w,P));return $})(),N=new Date;return e.jsxs("div",{className:`bg-white rounded-small border border-neutral-200 w-full ${t||""}`,children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200",children:[e.jsxs("h3",{className:"text-h4 text-neutral-900",children:[D[h.getMonth()]," ",h.getFullYear()]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(n,{variant:"tertiary",size:"sm",onClick:()=>C(-1),children:"â†"}),e.jsx(n,{variant:"tertiary",size:"sm",onClick:()=>C(1),children:"â†’"})]})]}),e.jsxs("div",{className:"p-2 sm:p-4",children:[e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:f.map(p=>e.jsx("div",{className:"text-center text-xs sm:text-body-sm font-medium text-neutral-600 p-1 sm:p-2",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:y.map((p,w)=>{var T;if(!p)return e.jsx("div",{className:"min-h-[60px] sm:min-h-[80px]"},w);const d=p.toDateString()===N.toDateString(),B=((T=g||c)==null?void 0:T.toDateString())===p.toDateString();return e.jsxs("div",{className:`min-h-[60px] sm:min-h-[80px] p-1 border border-neutral-100 cursor-pointer hover:bg-neutral-50 ${d?"bg-primary-50":""} ${B?"bg-receptionist/10":""}`,onClick:()=>A(p),children:[e.jsx("div",{className:`text-xs sm:text-body-sm ${d?"font-semibold text-primary-600":""}`,children:p.getDate()}),e.jsx("div",{className:"space-y-1 mt-1",children:a.slice(0,1).map(M=>e.jsx("div",{className:"text-[8px] sm:text-[10px] p-1 bg-receptionist/20 text-receptionist rounded-minimal cursor-pointer",onClick:$=>{$.stopPropagation(),u==null||u(M)},children:M.time},M.id))})]},w)})})]})]})}function te(){const a=E(),l=R(),{appointments:u}=k(r=>r.appointments),g=u.filter(r=>r.date===new Date().toISOString().split("T")[0]).slice(0,5),m=(r,t)=>{l(Y({id:r,status:"in-progress"})),l(W({type:"success",title:"Patient Checked In",message:`${t} has been checked in`,priority:"medium",category:"patient"})),l(J({role:"nurse",type:"info",title:"Patient Arrived",message:`${t} has checked in and is waiting`,priority:"high",category:"patient"}))};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Receptionist Dashboard"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(x,{className:"text-center",children:[e.jsx("div",{className:"text-h2 text-receptionist",children:"24"}),e.jsx("div",{className:"text-body text-neutral-600",children:"Today's Appointments"})]}),e.jsxs(x,{className:"text-center",children:[e.jsx("div",{className:"text-h2 text-success",children:"18"}),e.jsx("div",{className:"text-body text-neutral-600",children:"Confirmed"})]}),e.jsxs(x,{className:"text-center",children:[e.jsx("div",{className:"text-h2 text-warning",children:"4"}),e.jsx("div",{className:"text-body text-neutral-600",children:"Pending"})]}),e.jsxs(x,{className:"text-center",children:[e.jsx("div",{className:"text-h2 text-neutral-700",children:"2"}),e.jsx("div",{className:"text-body text-neutral-600",children:"Cancelled"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[e.jsxs(x,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-h4 text-neutral-900",children:"Today's Appointments"}),e.jsx(n,{onClick:()=>a("/receptionist/appointments"),children:"View All"})]}),e.jsx("div",{className:"space-y-3",children:g.map(r=>e.jsxs("div",{className:"flex justify-between items-center p-3 bg-neutral-50 rounded-small",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-body font-medium",children:r.patientName}),e.jsxs("p",{className:"text-body-sm text-neutral-600",children:[r.time," â€¢ ",r.doctorName]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{status:r.status==="confirmed"?"delivered":r.status==="in-progress"?"pending":"sent",children:r.status}),r.status==="scheduled"&&e.jsx(n,{size:"sm",onClick:()=>m(r.id,r.patientName),children:"Check In"})]})]},r.id))})]}),e.jsxs(x,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsx(n,{variant:"secondary",className:"justify-start",onClick:()=>a("/receptionist/appointments/new"),children:"ðŸ“… Book Appointment"}),e.jsx(n,{variant:"secondary",className:"justify-start",onClick:()=>a("/receptionist/patients/register"),children:"ðŸ‘¤ Register Patient"}),e.jsx(n,{variant:"secondary",className:"justify-start",onClick:()=>a("/receptionist/billing"),children:"ðŸ’° Process Payment"}),e.jsx(n,{variant:"secondary",className:"justify-start",onClick:()=>a("/receptionist/patients"),children:"ðŸ“‹ Patient Records"})]})]})]})]})]})}const O=[{id:"1",title:"John Smith",time:"09:00",doctor:"Dr. Wilson",status:"confirmed"},{id:"2",title:"Sarah Johnson",time:"10:30",doctor:"Dr. Brown",status:"pending"},{id:"3",title:"Mike Davis",time:"14:00",doctor:"Dr. Wilson",status:"confirmed"}],z=[{id:"1",name:"Dr. Sarah Wilson",specialization:"Cardiologist",availability:["09:00","10:00","11:00","14:00","15:00"]},{id:"2",name:"Dr. John Brown",specialization:"General Medicine",availability:["08:00","09:30","11:30","13:00","16:00"]},{id:"3",name:"Dr. Emily Davis",specialization:"Pediatrics",availability:["10:00","11:00","14:30","15:30","16:30"]}];function V(){const a=R(),[l,u]=j.useState(null),[g,m]=j.useState(!1),[r,t]=j.useState(""),[h,o]=j.useState(""),[c,s]=j.useState(""),[D,f]=j.useState(!1),[A,C]=j.useState(150),[i,y]=j.useState("cash"),N=z.find(d=>d.id===r),p=(N==null?void 0:N.availability)||[],w=()=>{const d={patientId:"P001",patientName:h,doctorId:r,doctorName:(N==null?void 0:N.name)||"",date:(l==null?void 0:l.toISOString().split("T")[0])||"",time:c,type:"Consultation",status:"scheduled"};a(G(d)),a(W({type:"success",title:"Appointment Booked",message:`Appointment for ${h} booked successfully`,priority:"medium",category:"appointment"})),a(J({role:"doctor",type:"info",title:"New Appointment Scheduled",message:`Appointment with ${h} scheduled for ${l==null?void 0:l.toLocaleDateString()} at ${c}`,category:"appointment",priority:"medium"})),m(!1),f(!1),o(""),t(""),s(""),C(150),y("cash")};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Appointment Calendar"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-h3 text-neutral-900",children:"Appointment Calendar"}),e.jsx("p",{className:"text-body text-neutral-600",children:"Manage and schedule patient appointments"})]}),e.jsx(n,{onClick:()=>m(!0),children:"+ Book New Appointment"})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-6",children:[e.jsx("div",{className:"xl:col-span-3",children:e.jsx(se,{events:O,onDateSelect:u,onEventClick:d=>console.log("Event clicked:",ee.forLog(d.id))})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(x,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-4",children:"Today's Schedule"}),e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:O.map(d=>e.jsxs("div",{className:"p-3 border border-neutral-200 rounded-small",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start mb-2 space-y-2 sm:space-y-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-body font-medium",children:d.title}),e.jsxs("p",{className:"text-body-sm text-neutral-600",children:[d.time," â€¢ ",d.doctor]})]}),e.jsx(F,{status:d.status==="confirmed"?"delivered":"pending",children:d.status})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[e.jsx(n,{variant:"tertiary",size:"sm",className:"w-full sm:w-auto",children:"Reschedule"}),e.jsx(n,{variant:"tertiary",size:"sm",className:"text-error w-full sm:w-auto",children:"Cancel"})]})]},d.id))})]}),e.jsxs(x,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-4",children:"Available Doctors"}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:z.map(d=>e.jsxs("div",{className:"p-2 bg-neutral-50 rounded-small",children:[e.jsx("p",{className:"text-body font-medium",children:d.name}),e.jsx("p",{className:"text-body-sm text-neutral-600",children:d.specialization})]},d.id))})]})]})]})]}),e.jsx(S,{isOpen:g,onClose:()=>m(!1),title:"Book New Appointment",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(v,{label:"Patient Name",value:h,onChange:d=>o(d.target.value),placeholder:"Enter patient name"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-body font-medium text-neutral-700 mb-1",children:"Doctor"}),e.jsxs("select",{value:r,onChange:d=>t(d.target.value),className:"block w-full px-3 py-2 border border-neutral-300 rounded-minimal shadow-sm text-body focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"Select a doctor"}),z.map(d=>e.jsxs("option",{value:d.id,children:[d.name," - ",d.specialization]},d.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-body font-medium text-neutral-700 mb-1",children:"Available Time Slots"}),e.jsxs("select",{value:c,onChange:d=>s(d.target.value),className:"block w-full px-3 py-2 border border-neutral-300 rounded-minimal shadow-sm text-body focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",disabled:!r,children:[e.jsx("option",{value:"",children:"Select time slot"}),p.map(d=>e.jsx("option",{value:d,children:d},d))]}),r&&p.length===0&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:"No available slots for selected doctor"})]}),l&&e.jsxs("div",{className:"p-3 bg-neutral-50 rounded-small",children:[e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Selected Date:"}),e.jsx("p",{className:"text-body font-medium",children:l.toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(n,{variant:"secondary",onClick:()=>m(!1),children:"Cancel"}),e.jsx(n,{onClick:()=>f(!0),disabled:!h||!r||!c,children:"Proceed to Payment"})]})]})}),e.jsx(S,{isOpen:D,onClose:()=>f(!1),title:"Payment Collection",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Appointment Summary"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Patient: ",h]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Doctor: ",N==null?void 0:N.name]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",l==null?void 0:l.toLocaleDateString()]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Time: ",c]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-body font-medium text-neutral-700 mb-1",children:"Consultation Fee"}),e.jsx(v,{type:"number",value:A,onChange:d=>C(Number(d.target.value)),placeholder:"Enter amount"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-body font-medium text-neutral-700 mb-1",children:"Payment Method"}),e.jsxs("select",{value:i,onChange:d=>y(d.target.value),className:"block w-full px-3 py-2 border border-neutral-300 rounded-minimal shadow-sm text-body focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"cash",children:"Cash"}),e.jsx("option",{value:"card",children:"Credit/Debit Card"}),e.jsx("option",{value:"insurance",children:"Insurance"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(n,{variant:"secondary",onClick:()=>f(!1),children:"Back"}),e.jsx(n,{onClick:w,children:"Collect Payment & Book"})]})]})})]})}const ae=a=>{if(!a)return a;const l=a.replace(/\D/g,"");return l.length<4?a:l.length===10?`(${l.substring(0,3)}) ${l.substring(3,6)}-${"*".repeat(4)}`:"*".repeat(Math.max(0,l.length-4))+l.substring(l.length-4)};function ne(){const[a,l]=j.useState(""),u=E(),{patients:g}=k(t=>t.patients),m=g.filter(t=>t.name.toLowerCase().includes(a.toLowerCase())||t.id.toLowerCase().includes(a.toLowerCase())).map(t=>({id:t.id,name:t.name,age:t.age,phone:ae(t.phone),lastVisit:new Date().toISOString().split("T")[0],status:"active"})),r=[{key:"id",header:"Patient ID"},{key:"name",header:"Name"},{key:"age",header:"Age"},{key:"phone",header:"Phone"},{key:"lastVisit",header:"Last Visit"},{key:"status",header:"Status",render:t=>e.jsx(F,{status:t==="active"?"delivered":"pending",children:t})},{key:"actions",header:"Actions",render:()=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(n,{variant:"tertiary",size:"sm",children:"View"}),e.jsx(n,{variant:"tertiary",size:"sm",children:"Edit"})]})}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Patient Records"})}),e.jsx("div",{className:"space-y-6",children:e.jsxs(x,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-h3 text-neutral-900",children:"Patient Records"}),e.jsx("p",{className:"text-body text-neutral-600",children:"Manage patient information and records"})]}),e.jsx(n,{onClick:()=>u("/receptionist/patients/register"),children:"+ Register New Patient"})]}),e.jsx("div",{className:"mb-4",children:e.jsx(v,{placeholder:"Search patients by name or ID...",value:a,onChange:t=>l(t.target.value),className:"max-w-md"})}),e.jsx(K,{columns:r,data:m})]})})]})}function ie(){const{entries:a}=k(s=>s.waitlist),l=R(),[u,g]=j.useState(!1),[m,r]=j.useState("all"),[t,h]=j.useState({patientName:"",phone:"",doctor:"",reason:"",priority:"medium",preferredDates:""}),o=a.filter(s=>m==="all"||s.priority===m),c=()=>{l(X({...t,id:Date.now().toString(),addedDate:new Date().toISOString().split("T")[0],preferredDates:t.preferredDates.split(",").map(s=>s.trim()).filter(Boolean)})),g(!1),h({patientName:"",phone:"",doctor:"",reason:"",priority:"medium",preferredDates:""})};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Waitlist Management"}),e.jsx(n,{onClick:()=>g(!0),children:"+ Add to Waitlist"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs(x,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:a.filter(s=>s.priority==="high").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"High Priority"})]}),e.jsxs(x,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-600",children:a.filter(s=>s.priority==="medium").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Medium Priority"})]}),e.jsxs(x,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:a.filter(s=>s.priority==="low").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Low Priority"})]})]}),e.jsx("div",{className:"flex gap-2 mb-6",children:["all","high","medium","low"].map(s=>e.jsx("button",{onClick:()=>r(s),className:`px-4 py-2 rounded ${m===s?"bg-blue-500 text-white":"bg-gray-200"}`,children:s.charAt(0).toUpperCase()+s.slice(1)},s))}),e.jsx("div",{className:"space-y-3",children:o.map(s=>e.jsx(x,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.patientName}),e.jsx("span",{className:`px-2 py-1 rounded text-xs ${s.priority==="high"?"bg-red-100 text-red-800":s.priority==="medium"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"}`,children:s.priority})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["ðŸ“ž ",s.phone," â€¢ ðŸ‘¨â€âš•ï¸ ",s.doctor]}),e.jsxs("p",{className:"text-sm text-gray-700",children:["Reason: ",s.reason]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Added: ",s.addedDate]}),s.preferredDates.length>0&&e.jsxs("p",{className:"text-sm text-gray-500",children:["Preferred: ",s.preferredDates.join(", ")]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{size:"sm",onClick:()=>l(H(s.id)),children:"Book Appointment"}),e.jsx(n,{variant:"outline",size:"sm",onClick:()=>l(Q(s.id)),children:"Remove"})]})]})},s.id))}),e.jsx(S,{isOpen:u,onClose:()=>g(!1),title:"Add to Waitlist",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(v,{label:"Patient Name",value:t.patientName,onChange:s=>h({...t,patientName:s.target.value})}),e.jsx(v,{label:"Phone",value:t.phone,onChange:s=>h({...t,phone:s.target.value})}),e.jsx(v,{label:"Doctor",value:t.doctor,onChange:s=>h({...t,doctor:s.target.value})}),e.jsx(v,{label:"Reason",value:t.reason,onChange:s=>h({...t,reason:s.target.value})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Priority"}),e.jsxs("select",{value:t.priority,onChange:s=>h({...t,priority:s.target.value}),className:"w-full border rounded p-2",children:[e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"low",children:"Low"})]})]}),e.jsx(v,{label:"Preferred Dates (comma-separated)",value:t.preferredDates,onChange:s=>h({...t,preferredDates:s.target.value}),placeholder:"2024-02-15, 2024-02-16"}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(n,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),e.jsx(n,{onClick:c,children:"Add"})]})]})})]})}const I=[{id:"INV-001",patient:"John Smith",amount:250,status:"paid",date:"2024-01-15",services:"Consultation, Lab Tests"},{id:"INV-002",patient:"Sarah Johnson",amount:180,status:"pending",date:"2024-01-14",services:"Follow-up Visit"},{id:"INV-003",patient:"Mike Davis",amount:320,status:"overdue",date:"2024-01-10",services:"Consultation, X-Ray"}],le=[{id:"1",name:"General Consultation",price:100},{id:"2",name:"Follow-up Visit",price:75},{id:"3",name:"Lab Tests (Basic)",price:150},{id:"4",name:"X-Ray",price:200},{id:"5",name:"ECG",price:120}];function re(){const[a,l]=j.useState(""),[,u]=j.useState(!1),g=I.filter(o=>o.patient.toLowerCase().includes(a.toLowerCase())||o.id.toLowerCase().includes(a.toLowerCase())),m=[{key:"id",header:"Invoice ID"},{key:"patient",header:"Patient"},{key:"services",header:"Services"},{key:"amount",header:"Amount",render:o=>`$${o.toFixed(2)}`},{key:"date",header:"Date"},{key:"status",header:"Status",render:o=>e.jsx(F,{status:o==="paid"?"delivered":o==="pending"?"pending":"error",children:o})},{key:"actions",header:"Actions",render:(o,c)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(n,{variant:"tertiary",size:"sm",children:"View"}),e.jsx(n,{variant:"tertiary",size:"sm",children:"Print"}),c.status==="pending"&&e.jsx(n,{variant:"tertiary",size:"sm",className:"text-success",children:"Collect"})]})}],r=I.reduce((o,c)=>o+c.amount,0),t=I.filter(o=>o.status==="pending").reduce((o,c)=>o+c.amount,0),h=I.filter(o=>o.status==="overdue").reduce((o,c)=>o+c.amount,0);return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Billing Dashboard"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(x,{className:"text-center",children:[e.jsxs("div",{className:"text-h2 text-success",children:["$",r.toFixed(2)]}),e.jsx("div",{className:"text-body text-neutral-600",children:"Total Revenue"})]}),e.jsxs(x,{className:"text-center",children:[e.jsxs("div",{className:"text-h2 text-warning",children:["$",t.toFixed(2)]}),e.jsx("div",{className:"text-body text-neutral-600",children:"Pending Payments"})]}),e.jsxs(x,{className:"text-center",children:[e.jsxs("div",{className:"text-h2 text-error",children:["$",h.toFixed(2)]}),e.jsx("div",{className:"text-body text-neutral-600",children:"Overdue Amount"})]}),e.jsxs(x,{className:"text-center",children:[e.jsx("div",{className:"text-h2 text-receptionist",children:I.length}),e.jsx("div",{className:"text-body text-neutral-600",children:"Total Invoices"})]})]}),e.jsxs(x,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-h4 text-neutral-900",children:"Invoice Management"}),e.jsx("p",{className:"text-body text-neutral-600",children:"Manage patient billing and payments"})]}),e.jsx(n,{onClick:()=>u(!0),children:"+ Create Invoice"})]}),e.jsx("div",{className:"mb-4",children:e.jsx(v,{placeholder:"Search invoices by patient name or invoice ID...",value:a,onChange:o=>l(o.target.value),className:"max-w-md"})}),e.jsx(K,{columns:m,data:g})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[e.jsxs(x,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-4",children:"Service Pricing"}),e.jsx("div",{className:"space-y-3",children:le.map(o=>e.jsxs("div",{className:"flex justify-between items-center p-3 bg-neutral-50 rounded-small",children:[e.jsx("span",{className:"text-body",children:o.name}),e.jsxs("span",{className:"text-body font-medium",children:["$",o.price.toFixed(2)]})]},o.id))}),e.jsx(n,{variant:"secondary",className:"w-full mt-4",children:"Manage Pricing"})]}),e.jsxs(x,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsx(n,{variant:"secondary",className:"justify-start",children:"ðŸ’° Process Payment"}),e.jsx(n,{variant:"secondary",className:"justify-start",children:"ðŸ“§ Send Invoice"}),e.jsx(n,{variant:"secondary",className:"justify-start",children:"ðŸ“Š Payment Report"}),e.jsx(n,{variant:"secondary",className:"justify-start",children:"ðŸ” Outstanding Bills"})]})]})]})]})]})}function de(){const{plans:a,payments:l}=k(i=>i.paymentPlan),u=R(),[g,m]=j.useState(!1),[r,t]=j.useState(!1),[h,o]=j.useState(null),[c,s]=j.useState({patientName:"",totalAmount:"",downPayment:"",installments:"3"}),D=a.filter(i=>i.status==="active").length,f=a.filter(i=>{const y=Math.floor((Date.now()-new Date(i.startDate).getTime())/2592e6),N=i.downPayment+y*i.monthlyAmount;return i.paid<N&&i.status==="active"}).length,A=()=>{const i=parseFloat(c.totalAmount),y=parseFloat(c.downPayment),N=parseInt(c.installments),p=(i-y)/N;u(q({id:`PP${Date.now()}`,...c,totalAmount:i,downPayment:y,installments:N,monthlyAmount:p,startDate:new Date().toISOString().split("T")[0],status:"active",paid:y})),m(!1),s({patientName:"",totalAmount:"",downPayment:"",installments:"3"})},C=()=>{h&&(u(U({id:`PAY${Date.now()}`,planId:h.id,amount:h.monthlyAmount,date:new Date().toISOString().split("T")[0],method:"card",status:"completed"})),t(!1),o(null))};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Payment Plans"}),e.jsx(n,{onClick:()=>m(!0),children:"+ Create Plan"})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[e.jsxs(x,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:D}),e.jsx("div",{className:"text-sm text-gray-600",children:"Active Plans"})]}),e.jsxs(x,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:f}),e.jsx("div",{className:"text-sm text-gray-600",children:"Overdue"})]}),e.jsxs(x,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:a.filter(i=>i.status==="completed").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]}),e.jsxs(x,{className:"p-4",children:[e.jsxs("div",{className:"text-3xl font-bold text-gray-700",children:["$",a.reduce((i,y)=>i+y.totalAmount,0)]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Value"})]})]}),e.jsx("div",{className:"space-y-3",children:a.map(i=>{const y=i.paid/i.totalAmount*100;return e.jsx(x,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:i.patientName}),e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-sm",children:i.id}),e.jsx("span",{className:`px-2 py-1 rounded text-xs ${i.status==="active"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:i.status})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Total: $",i.totalAmount," | Down: $",i.downPayment," | Monthly: $",i.monthlyAmount]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Paid: $",i.paid," / $",i.totalAmount," (",i.installments," installments)"]}),e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"w-full bg-gray-200 rounded h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded",style:{width:`${y}%`}})})})]}),i.status==="active"&&e.jsx(n,{size:"sm",onClick:()=>{o(i),t(!0)},children:"Record Payment"})]})},i.id)})}),e.jsx(S,{isOpen:g,onClose:()=>m(!1),title:"Create Payment Plan",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(v,{label:"Patient Name",value:c.patientName,onChange:i=>s({...c,patientName:i.target.value})}),e.jsx(v,{label:"Total Amount",type:"number",value:c.totalAmount,onChange:i=>s({...c,totalAmount:i.target.value})}),e.jsx(v,{label:"Down Payment",type:"number",value:c.downPayment,onChange:i=>s({...c,downPayment:i.target.value})}),e.jsx(v,{label:"Number of Installments",type:"number",value:c.installments,onChange:i=>s({...c,installments:i.target.value})}),c.totalAmount&&c.downPayment&&c.installments&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:e.jsxs("p",{className:"text-sm text-blue-800",children:["Monthly Payment: $",((parseFloat(c.totalAmount)-parseFloat(c.downPayment))/parseInt(c.installments)).toFixed(2)]})}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(n,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),e.jsx(n,{onClick:A,children:"Create Plan"})]})]})}),e.jsx(S,{isOpen:r,onClose:()=>t(!1),title:"Record Payment",children:h&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Patient"}),e.jsx("p",{className:"font-semibold",children:h.patientName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Payment Amount"}),e.jsxs("p",{className:"font-semibold",children:["$",h.monthlyAmount]})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(n,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),e.jsx(n,{onClick:C,children:"Record Payment"})]})]})})]})}function ce(){const{summary:a,paymentMethods:l}=k(u=>u.revenue);return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Revenue Reports"}),e.jsx(n,{children:"Export Report"})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[e.jsxs(x,{className:"p-4",children:[e.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["$",(a.daily/1e3).toFixed(1),"K"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Today's Revenue"})]}),e.jsxs(x,{className:"p-4",children:[e.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:["$",(a.monthly/1e3).toFixed(0),"K"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Monthly Revenue"})]}),e.jsxs(x,{className:"p-4",children:[e.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:["$",(a.collected/1e3).toFixed(0),"K"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Collected"})]}),e.jsxs(x,{className:"p-4",children:[e.jsxs("div",{className:"text-3xl font-bold text-red-600",children:["$",(a.outstanding/1e3).toFixed(0),"K"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Outstanding"})]})]}),e.jsxs(x,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Payment Methods Breakdown"}),e.jsx("div",{className:"space-y-4",children:l.map(u=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"font-medium",children:u.method}),e.jsxs("span",{className:"text-gray-600",children:["$",(u.amount/1e3).toFixed(0),"K (",u.percentage,"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded h-3",children:e.jsx("div",{className:"bg-blue-500 h-3 rounded",style:{width:`${u.percentage}%`}})})]},u.method))})]})]})}function oe(){const{claims:a}=k(s=>s.insurance),l=R(),[u,g]=j.useState(!1),[m,r]=j.useState({patientName:"",provider:"",amount:"",service:""}),t=a.filter(s=>s.status==="pending").length,h=a.filter(s=>s.status==="approved").length,o=a.filter(s=>s.status==="rejected").length,c=()=>{l(_({id:`CLM${Date.now()}`,...m,amount:parseFloat(m.amount),status:"pending",date:new Date().toISOString().split("T")[0]})),g(!1),r({patientName:"",provider:"",amount:"",service:""})};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Insurance Claims"}),e.jsx(n,{onClick:()=>g(!0),children:"+ Submit Claim"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs(x,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:t}),e.jsx("div",{className:"text-sm text-gray-600",children:"Pending Claims"})]}),e.jsxs(x,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:h}),e.jsx("div",{className:"text-sm text-gray-600",children:"Approved"})]}),e.jsxs(x,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:o}),e.jsx("div",{className:"text-sm text-gray-600",children:"Rejected"})]})]}),e.jsx("div",{className:"space-y-3",children:a.map(s=>e.jsx(x,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.id}),e.jsx("span",{className:`px-2 py-1 rounded text-xs ${s.status==="pending"?"bg-yellow-100 text-yellow-800":s.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.status})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.patientName," â€¢ ",s.provider]}),e.jsxs("p",{className:"text-sm text-gray-700",children:["Service: ",s.service," â€¢ $",s.amount]}),e.jsx("p",{className:"text-sm text-gray-500",children:s.date}),s.reason&&e.jsxs("p",{className:"text-sm text-red-600 mt-1",children:["Reason: ",s.reason]})]}),s.status==="pending"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{size:"sm",onClick:()=>l(L({id:s.id,status:"approved"})),children:"Approve"}),e.jsx(n,{variant:"outline",size:"sm",onClick:()=>l(L({id:s.id,status:"rejected",reason:"Documentation incomplete"})),children:"Reject"})]})]})},s.id))}),e.jsx(S,{isOpen:u,onClose:()=>g(!1),title:"Submit Insurance Claim",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(v,{label:"Patient Name",value:m.patientName,onChange:s=>r({...m,patientName:s.target.value})}),e.jsx(v,{label:"Insurance Provider",value:m.provider,onChange:s=>r({...m,provider:s.target.value})}),e.jsx(v,{label:"Service Description",value:m.service,onChange:s=>r({...m,service:s.target.value})}),e.jsx(v,{label:"Claim Amount",type:"number",value:m.amount,onChange:s=>r({...m,amount:s.target.value})}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(n,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),e.jsx(n,{onClick:c,children:"Submit Claim"})]})]})})]})}function je(){return e.jsxs(Z,{children:[e.jsx(b,{index:!0,element:e.jsx(te,{})}),e.jsx(b,{path:"appointments",element:e.jsx(V,{})}),e.jsx(b,{path:"recurring-appointments",element:e.jsx(V,{})}),e.jsx(b,{path:"waitlist",element:e.jsx(ie,{})}),e.jsx(b,{path:"patients",element:e.jsx(ne,{})}),e.jsx(b,{path:"billing",element:e.jsx(re,{})}),e.jsx(b,{path:"billing/payment-plans",element:e.jsx(de,{})}),e.jsx(b,{path:"billing/revenue-reports",element:e.jsx(ce,{})}),e.jsx(b,{path:"billing/insurance-claims",element:e.jsx(oe,{})})]})}export{je as default};
