import{j as e,C as d,I as R,B as m,G as k,H as $}from"./index-Br-Gz1Ol.js";import{u as T,d as L}from"./redux-29f41A6q.js";import{a as o,f as P,h as p}from"./vendor-Co8sLtJy.js";import{C as A,T as E,a as S,b as g,S as I,P as O,d as V,D as G}from"./ui-Bub52LCX.js";import{y as F,F as u,H as K,R as f,B as v,E as b}from"./generateCategoricalChart-DIZ-udEm.js";import{X as N,Y as y,L as H,C as w,a as C}from"./LineChart-TP_WCD2y.js";var J=F({chartName:"BarChart",GraphicalChild:u,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:N},{axisType:"yAxis",AxisComp:y}],formatAxisMap:K});const z=()=>{const{orders:n}=T(t=>t.lab),c={pending:n.filter(t=>t.status==="ordered").length,inProgress:n.filter(t=>t.status==="processing").length,completed:n.filter(t=>t.status==="completed").length,critical:n.filter(t=>t.priority==="urgent").length};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Laboratory Dashboard"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(d,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(A,{className:"w-8 h-8 text-yellow-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.pending}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pending Orders"})]})]})}),e.jsx(d,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(E,{className:"w-8 h-8 text-blue-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.inProgress}),e.jsx("p",{className:"text-sm text-gray-600",children:"In Progress"})]})]})}),e.jsx(d,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(S,{className:"w-8 h-8 text-green-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.completed}),e.jsx("p",{className:"text-sm text-gray-600",children:"Completed Today"})]})]})}),e.jsx(d,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(g,{className:"w-8 h-8 text-red-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.critical}),e.jsx("p",{className:"text-sm text-gray-600",children:"Critical Results"})]})]})})]}),e.jsxs(d,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Orders"}),e.jsx("div",{className:"space-y-3",children:n.slice(0,5).map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:t.patientName}),e.jsx("p",{className:"text-sm text-gray-600",children:t.tests.map(a=>a.name).join(", ")})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${t.status==="completed"?"bg-green-100 text-green-800":t.status==="processing"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:t.status.replace("_"," ")}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.orderDate})]})]},t.id))})]})]})},M=()=>{const n=L(),{orders:c}=T(s=>s.lab),[t,a]=o.useState(""),[i,x]=o.useState("all"),h=c.filter(s=>{const r=s.patientName.toLowerCase().includes(t.toLowerCase())||s.tests.some(D=>D.name.toLowerCase().includes(t.toLowerCase())),B=i==="all"||s.status===i;return r&&B}),j=(s,r)=>{n(k({id:s,status:r}))},l=s=>s==="urgent"?e.jsx(g,{className:"w-4 h-4 text-red-500"}):e.jsx(A,{className:"w-4 h-4 text-yellow-500"});return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Lab Order Queue"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(I,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(R,{placeholder:"Search orders...",value:t,onChange:s=>a(s.target.value),className:"pl-10 w-64"})]}),e.jsxs("select",{value:i,onChange:s=>x(s.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"ordered",children:"Ordered"}),e.jsx("option",{value:"processing",children:"Processing"}),e.jsx("option",{value:"completed",children:"Completed"})]})]})]}),e.jsx("div",{className:"grid gap-4",children:h.map(s=>e.jsx(d,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l(s.priority),e.jsx("h3",{className:"font-semibold text-gray-900",children:s.patientName}),e.jsxs("span",{className:"text-sm text-gray-500",children:["#",s.id]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Tests"}),e.jsx("p",{className:"font-medium",children:s.tests.map(r=>r.name).join(", ")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Ordered Date"}),e.jsx("p",{className:"font-medium",children:s.orderDate})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Doctor"}),e.jsx("p",{className:"font-medium",children:s.doctorName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Priority"}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${s.priority==="urgent"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:s.priority})]})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2 ml-6",children:[s.status==="ordered"&&e.jsx(m,{variant:"primary",size:"sm",onClick:()=>j(s.id,"processing"),children:"Start Processing"}),s.status==="processing"&&e.jsx(m,{variant:"primary",size:"sm",onClick:()=>j(s.id,"completed"),children:"Mark Complete"}),e.jsx("span",{className:`px-3 py-1 text-xs rounded-full text-center ${s.status==="completed"?"bg-green-100 text-green-800":s.status==="processing"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:s.status.replace("_"," ")})]})]})},s.id))})]})},X=({values:n,patientName:c,onNotifyDoctor:t,onAcknowledge:a})=>{if(n.length===0)return null;const i=n.some(x=>x.severity==="critical");return e.jsx("div",{className:`border rounded-lg p-4 ${i?"border-red-200 bg-red-50":"border-yellow-200 bg-yellow-50"}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(g,{className:`w-6 h-6 ${i?"text-red-600":"text-yellow-600"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:`font-semibold ${i?"text-red-900":"text-yellow-900"}`,children:["Critical Values Detected - ",c]}),e.jsx("div",{className:"mt-3 space-y-2",children:n.map((x,h)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium",children:[x.testName,":"]}),e.jsx("span",{className:`ml-2 ${x.severity==="critical"?"text-red-700":"text-yellow-700"}`,children:x.value})]}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Normal: ",x.normalRange]})]},h))}),e.jsxs("div",{className:"flex space-x-3 mt-4",children:[e.jsxs(m,{variant:"primary",size:"sm",onClick:t,className:"flex items-center space-x-1",children:[e.jsx(O,{className:"w-4 h-4"}),e.jsx("span",{children:"Notify Doctor"})]}),e.jsx(m,{variant:"secondary",size:"sm",onClick:a,children:"Acknowledge"})]})]})]})})},q=()=>{const n=L(),[c]=o.useState("LAB001"),[t]=o.useState("John Doe"),[a,i]=o.useState([{name:"Hemoglobin",value:"",unit:"g/dL",normalRange:"12.0-15.5",status:"normal"},{name:"White Blood Count",value:"",unit:"10³/μL",normalRange:"4.5-11.0",status:"normal"},{name:"Glucose",value:"",unit:"mg/dL",normalRange:"70-100",status:"normal"}]),x=(l,s)=>{const r=[...a];r[l].value=s,r[l].name==="Glucose"&&parseFloat(s)>200||r[l].name==="Hemoglobin"&&parseFloat(s)<8?r[l].status="critical":r[l].status="normal",i(r)},h=a.filter(l=>l.status==="critical"&&l.value).map(l=>({testName:l.name,value:`${l.value} ${l.unit}`,normalRange:l.normalRange,severity:"critical"})),j=()=>{const l=a.filter(s=>s.value).reduce((s,r)=>(s[r.name]={value:r.value,status:r.status},s),{});n($({orderId:c,results:l}))};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Result Entry"}),e.jsxs("p",{className:"text-gray-600",children:["Order #",c," - ",t]})]})}),h.length>0&&e.jsx(X,{values:h,patientName:t,onNotifyDoctor:()=>alert("Doctor notified"),onAcknowledge:()=>alert("Acknowledged")}),e.jsxs(d,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Test Results"}),e.jsx("div",{className:"space-y-4",children:a.map((l,s)=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Normal: ",l.normalRange]})]}),e.jsx(R,{type:"number",placeholder:"Enter value",value:l.value,onChange:r=>x(s,r.target.value),className:l.status==="critical"?"border-red-500":""}),e.jsx("span",{className:"text-sm text-gray-600",children:l.unit}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${l.status==="critical"?"bg-red-100 text-red-800":l.status==="abnormal"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:l.status})]},l.name))}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx(m,{variant:"secondary",children:"Save Draft"}),e.jsx(m,{variant:"primary",onClick:j,disabled:!a.some(l=>l.value),children:"Submit Results"})]})]})]})},Q=()=>{const[n]=o.useState([{id:"1",orderId:"LAB-001",patientName:"John Doe",testName:"Complete Blood Count",result:"12.5 g/dL",normalRange:"13.5-17.5 g/dL",status:"pending",enteredBy:"Tech A",enteredAt:"2024-01-20 10:30",critical:!1},{id:"2",orderId:"LAB-002",patientName:"Jane Smith",testName:"Blood Glucose",result:"250 mg/dL",normalRange:"70-100 mg/dL",status:"pending",enteredBy:"Tech B",enteredAt:"2024-01-20 11:15",critical:!0},{id:"3",orderId:"LAB-003",patientName:"Bob Johnson",testName:"Lipid Panel",result:"Normal",normalRange:"Within limits",status:"pending",enteredBy:"Tech A",enteredAt:"2024-01-20 09:45",critical:!1}]),c=a=>{alert(`Result ${a} verified`)},t=a=>{const i=prompt("Enter rejection reason:");i&&alert(`Result ${a} rejected: ${i}`)};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Result Verification"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Review and verify lab results before release"})]}),e.jsx("div",{className:"space-y-4",children:n.map(a=>e.jsxs(d,{className:`p-6 ${a.critical?"border-red-300 bg-red-50":""}`,children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:a.testName}),a.critical&&e.jsxs("span",{className:"px-2 py-1 bg-red-600 text-white text-xs font-medium rounded-full flex items-center space-x-1",children:[e.jsx(g,{className:"w-3 h-3"}),e.jsx("span",{children:"CRITICAL"})]})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Order: ",a.orderId," • Patient: ",a.patientName]})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4 p-4 bg-white rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Result"}),e.jsx("p",{className:"font-semibold text-gray-900",children:a.result})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Normal Range"}),e.jsx("p",{className:"font-semibold text-gray-900",children:a.normalRange})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Entered By"}),e.jsx("p",{className:"font-semibold text-gray-900",children:a.enteredBy}),e.jsx("p",{className:"text-xs text-gray-500",children:a.enteredAt})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs(m,{variant:"primary",onClick:()=>c(a.id),className:"flex items-center space-x-2",children:[e.jsx(S,{className:"w-4 h-4"}),e.jsx("span",{children:"Verify & Release"})]}),e.jsxs(m,{variant:"secondary",onClick:()=>t(a.id),className:"flex items-center space-x-2",children:[e.jsx(V,{className:"w-4 h-4"}),e.jsx("span",{children:"Reject"})]})]})]},a.id))})]})},U=()=>{const[n,c]=o.useState("volume"),t=[{month:"Jan",tests:450,critical:12},{month:"Feb",tests:480,critical:15},{month:"Mar",tests:520,critical:10},{month:"Apr",tests:495,critical:18}],a=[{test:"CBC",avgTime:2.5,target:3},{test:"Glucose",avgTime:1.8,target:2},{test:"Lipid Panel",avgTime:4.2,target:4},{test:"Thyroid",avgTime:5.5,target:6}];return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Lab Reports"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Analytics and performance metrics"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-md",children:[e.jsx("option",{children:"Last 30 days"}),e.jsx("option",{children:"Last 90 days"}),e.jsx("option",{children:"Last year"})]}),e.jsxs(m,{variant:"primary",children:[e.jsx(G,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(d,{className:"p-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Tests"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:"1,945"}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"↑ 12% from last month"})]}),e.jsxs(d,{className:"p-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Avg Turnaround"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:"3.5h"}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"↓ 8% improvement"})]}),e.jsxs(d,{className:"p-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Critical Results"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:"55"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"2.8% of total"})]}),e.jsxs(d,{className:"p-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pending Verification"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:"12"}),e.jsx("p",{className:"text-sm text-yellow-600 mt-1",children:"Requires attention"})]})]}),e.jsx("div",{className:"flex space-x-2",children:["volume","turnaround","quality"].map(i=>e.jsxs("button",{onClick:()=>c(i),className:`px-4 py-2 rounded-md text-sm font-medium ${n===i?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[i.charAt(0).toUpperCase()+i.slice(1)," Report"]},i))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(d,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Test Volume Trend"}),e.jsx(f,{width:"100%",height:300,children:e.jsxs(H,{data:t,children:[e.jsx(w,{strokeDasharray:"3 3"}),e.jsx(N,{dataKey:"month"}),e.jsx(y,{}),e.jsx(v,{}),e.jsx(b,{}),e.jsx(C,{type:"monotone",dataKey:"tests",stroke:"#3b82f6",name:"Total Tests"}),e.jsx(C,{type:"monotone",dataKey:"critical",stroke:"#ef4444",name:"Critical Results"})]})})]}),e.jsxs(d,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Turnaround Time by Test"}),e.jsx(f,{width:"100%",height:300,children:e.jsxs(J,{data:a,children:[e.jsx(w,{strokeDasharray:"3 3"}),e.jsx(N,{dataKey:"test"}),e.jsx(y,{label:{value:"Hours",angle:-90,position:"insideLeft"}}),e.jsx(v,{}),e.jsx(b,{}),e.jsx(u,{dataKey:"avgTime",fill:"#3b82f6",name:"Actual"}),e.jsx(u,{dataKey:"target",fill:"#10b981",name:"Target"})]})})]})]})]})};function te(){return e.jsxs(P,{children:[e.jsx(p,{index:!0,element:e.jsx(z,{})}),e.jsx(p,{path:"orders",element:e.jsx(M,{})}),e.jsx(p,{path:"results",element:e.jsx(q,{})}),e.jsx(p,{path:"verification",element:e.jsx(Q,{})}),e.jsx(p,{path:"reports",element:e.jsx(U,{})})]})}export{te as default};
