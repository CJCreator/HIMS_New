import{c as v,u as x,r as h,j as s}from"./vendor-react-DtsOz5pv.js";import{C as c,a as n}from"./components-shared-yLUaqag5.js";import{t as o}from"./vendor-other-DG8If0Tp.js";import"./vendor-utils-DvtxXjqu.js";import"./vendor-redux-CxpqfPS-.js";import"./vendor-ui-B-dksMZM.js";function T(){const r=v(),{appointments:u}=x(e=>e.appointments),{patients:j}=x(e=>e.patients),[l,d]=h.useState({}),[a,f]=h.useState({}),m=u.filter(e=>e.status==="confirmed"||e.status==="scheduled").map(e=>{const t=j.find(i=>i.id===e.patientId);return{id:e.patientId,name:e.patientName,age:(t==null?void 0:t.age)||0,appointment:e.time,vitalsBy:"Nurse Sarah",vitalsTime:e.time,chiefComplaint:e.type,priority:e.status==="confirmed"?"urgent":"normal",waitTime:"5 min"}}),p=async e=>{d(t=>({...t,[e]:!0})),await new Promise(t=>setTimeout(t,500)),f(t=>({...t,[e]:"in-progress"})),d(t=>({...t,[e]:!1})),o.success("Consultation started"),r(`/doctor/consultation/${e}`)},y=e=>{r(`/doctor/patients/${e}`)},N=e=>{const t=a[e];if(t!=="in-progress"&&t!=="completed"){o.error("Please start consultation first");return}r(`/doctor/consultation/${e}?tab=prescription`)},g=async e=>{if(a[e]!=="completed"){o.error("Please complete consultation first");return}d(i=>({...i,[`handoff-${e}`]:!0})),await new Promise(i=>setTimeout(i,500)),d(i=>({...i,[`handoff-${e}`]:!1})),o.success("Patient handed off successfully")};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Patient Queue"}),s.jsx("p",{className:"text-gray-600",children:"Patients with completed pre-consultation preparation"})]}),s.jsxs(c,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-h3 text-neutral-900",children:"Ready for Consultation"}),s.jsx("p",{className:"text-body text-neutral-600",children:"Patients with completed pre-consultation preparation"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-h4 text-doctor",children:m.length}),s.jsx("div",{className:"text-body-sm text-neutral-600",children:"Patients Ready"})]})]}),s.jsx("div",{className:"space-y-4",children:m.map(e=>s.jsx(c,{className:"hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center space-y-4 lg:space-y-0",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h3",{className:"text-h4 text-neutral-900",children:e.name}),s.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${e.priority==="urgent"?"bg-red-100 text-red-800":e.priority==="normal"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:e.priority}),s.jsxs("span",{className:"text-body-sm text-neutral-500",children:["Age: ",e.age]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 text-body-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-neutral-600",children:"Appointment:"}),s.jsx("div",{className:"font-medium",children:e.appointment})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-neutral-600",children:"Chief Complaint:"}),s.jsx("div",{className:"font-medium",children:e.chiefComplaint})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-neutral-600",children:"Vitals by:"}),s.jsx("div",{className:"font-medium",children:e.vitalsBy}),s.jsx("div",{className:"text-neutral-500",children:e.vitalsTime})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-neutral-600",children:"Waiting:"}),s.jsx("div",{className:"font-medium text-warning",children:e.waitTime})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:[s.jsx(n,{variant:"secondary",size:"sm",onClick:()=>y(e.id),disabled:l[e.id],children:"View Summary"}),s.jsx(n,{variant:a[e.id]==="in-progress"?"secondary":"primary",onClick:()=>p(e.id),disabled:l[e.id]||a[e.id]==="in-progress",children:l[e.id]?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"animate-spin",children:"â³"})," Starting..."]}):a[e.id]==="in-progress"?"In Progress":"Start Consultation"}),s.jsx(n,{variant:"secondary",size:"sm",onClick:()=>N(e.id),disabled:!a[e.id]||a[e.id]==="ready",children:"Write Prescription"}),s.jsx(n,{variant:"secondary",size:"sm",onClick:()=>g(e.id),disabled:a[e.id]!=="completed"||l[`handoff-${e.id}`],children:l[`handoff-${e.id}`]?"Handing off...":"Handoff"})]})]})},e.id))})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(c,{children:[s.jsx("h3",{className:"text-h4 text-neutral-900 mb-4",children:"Workflow Status"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-body",children:"Registered by Reception"}),s.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800",children:"8 patients"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-body",children:"Vitals by Nursing"}),s.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800",children:"5 complete"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-body",children:"Ready for Doctor"}),s.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:"3 waiting"})]})]})]}),s.jsxs(c,{children:[s.jsx("h3",{className:"text-h4 text-neutral-900 mb-4",children:"Today's Progress"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-body",children:"Consultations Complete"}),s.jsx("span",{className:"text-h4 text-success",children:"6"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-body",children:"Average Consultation"}),s.jsx("span",{className:"text-body font-medium",children:"18 min"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-body",children:"Patient Satisfaction"}),s.jsx("span",{className:"text-body font-medium",children:"4.8/5"})]})]})]}),s.jsxs(c,{children:[s.jsx("h3",{className:"text-h4 text-neutral-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(n,{variant:"secondary",className:"w-full justify-start",onClick:()=>r("/doctor/appointments"),children:"ðŸ“‹ View All Patients"}),s.jsx(n,{variant:"secondary",className:"w-full justify-start",onClick:()=>r("/doctor/appointments"),children:"ðŸ“Š Today's Schedule"}),s.jsx(n,{variant:"secondary",className:"w-full justify-start",onClick:()=>r("/doctor/prescriptions"),children:"ðŸ’Š Pending Prescriptions"})]})]})]})]})}export{T as PatientQueue};
