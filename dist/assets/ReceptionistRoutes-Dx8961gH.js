import{j as e,B as i,C as m,a as F,h as Y,c as W,i as J,M as S,I as g,k as G,l as H,r as Q,n as X,o as q,p as U,q as L,t as _}from"./index-Br-Gz1Ol.js";import{a as p,u as E,f as Z,h as b}from"./vendor-Co8sLtJy.js";import{d as R,u as k}from"./redux-29f41A6q.js";import{s as ee,T as K}from"./sanitizer-BnDn1gC7.js";import"./ui-Bub52LCX.js";function se({events:n=[],onDateSelect:r,onEventClick:h,selected:j,onSelect:o,minDate:d,className:a}){const[x,y]=p.useState(new Date),[t,s]=p.useState(null),D=["January","February","March","April","May","June","July","August","September","October","November","December"],f=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A=u=>{d&&u<d||(s(u),r==null||r(u),o==null||o(u))},C=u=>{y(new Date(x.getFullYear(),x.getMonth()+u,1))},N=(()=>{const u=x.getFullYear(),w=x.getMonth(),c=new Date(u,w,1),T=new Date(u,w+1,0).getDate(),M=c.getDay(),$=[];for(let P=0;P<M;P++)$.push(null);for(let P=1;P<=T;P++)$.push(new Date(u,w,P));return $})(),v=new Date;return e.jsxs("div",{className:`bg-white rounded-small border border-neutral-200 w-full ${a||""}`,children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-neutral-200",children:[e.jsxs("h3",{className:"text-h4 text-neutral-900",children:[D[x.getMonth()]," ",x.getFullYear()]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(i,{variant:"tertiary",size:"sm",onClick:()=>C(-1),children:"â†"}),e.jsx(i,{variant:"tertiary",size:"sm",onClick:()=>C(1),children:"â†’"})]})]}),e.jsxs("div",{className:"p-2 sm:p-4",children:[e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:f.map(u=>e.jsx("div",{className:"text-center text-xs sm:text-body-sm font-medium text-neutral-600 p-1 sm:p-2",children:u},u))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N.map((u,w)=>{var T;if(!u)return e.jsx("div",{className:"min-h-[60px] sm:min-h-[80px]"},w);const c=u.toDateString()===v.toDateString(),B=((T=j||t)==null?void 0:T.toDateString())===u.toDateString();return e.jsxs("div",{className:`min-h-[60px] sm:min-h-[80px] p-1 border border-neutral-100 cursor-pointer hover:bg-neutral-50 ${c?"bg-primary-50":""} ${B?"bg-receptionist/10":""}`,onClick:()=>A(u),children:[e.jsx("div",{className:`text-xs sm:text-body-sm ${c?"font-semibold text-primary-600":""}`,children:u.getDate()}),e.jsx("div",{className:"space-y-1 mt-1",children:n.slice(0,1).map(M=>e.jsx("div",{className:"text-[8px] sm:text-[10px] p-1 bg-receptionist/20 text-receptionist rounded-minimal cursor-pointer",onClick:$=>{$.stopPropagation(),h==null||h(M)},children:M.time},M.id))})]},w)})})]})]})}function te(){const n=E(),r=R(),{appointments:h}=k(d=>d.appointments),j=h.filter(d=>d.date===new Date().toISOString().split("T")[0]).slice(0,5),o=(d,a)=>{r(Y({id:d,status:"in-progress"})),r(W({type:"success",title:"Patient Checked In",message:`${a} has been checked in`,priority:"medium",category:"patient"})),r(J({role:"nurse",type:"info",title:"Patient Arrived",message:`${a} has checked in and is waiting`,priority:"high",category:"patient"}))};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Receptionist Dashboard"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(m,{className:"text-center",children:[e.jsx("div",{className:"text-h2 text-receptionist",children:"24"}),e.jsx("div",{className:"text-body text-neutral-600",children:"Today's Appointments"})]}),e.jsxs(m,{className:"text-center",children:[e.jsx("div",{className:"text-h2 text-success",children:"18"}),e.jsx("div",{className:"text-body text-neutral-600",children:"Confirmed"})]}),e.jsxs(m,{className:"text-center",children:[e.jsx("div",{className:"text-h2 text-warning",children:"4"}),e.jsx("div",{className:"text-body text-neutral-600",children:"Pending"})]}),e.jsxs(m,{className:"text-center",children:[e.jsx("div",{className:"text-h2 text-neutral-700",children:"2"}),e.jsx("div",{className:"text-body text-neutral-600",children:"Cancelled"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[e.jsxs(m,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-h4 text-neutral-900",children:"Today's Appointments"}),e.jsx(i,{onClick:()=>n("/receptionist/appointments"),children:"View All"})]}),e.jsx("div",{className:"space-y-3",children:j.map(d=>e.jsxs("div",{className:"flex justify-between items-center p-3 bg-neutral-50 rounded-small",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-body font-medium",children:d.patientName}),e.jsxs("p",{className:"text-body-sm text-neutral-600",children:[d.time," â€¢ ",d.doctorName]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{status:d.status==="confirmed"?"delivered":d.status==="in-progress"?"pending":"sent",children:d.status}),d.status==="scheduled"&&e.jsx(i,{size:"sm",onClick:()=>o(d.id,d.patientName),children:"Check In"})]})]},d.id))})]}),e.jsxs(m,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsx(i,{variant:"secondary",className:"justify-start",onClick:()=>n("/receptionist/appointments/new"),children:"ðŸ“… Book Appointment"}),e.jsx(i,{variant:"secondary",className:"justify-start",onClick:()=>n("/receptionist/patients/register"),children:"ðŸ‘¤ Register Patient"}),e.jsx(i,{variant:"secondary",className:"justify-start",onClick:()=>n("/receptionist/billing"),children:"ðŸ’° Process Payment"}),e.jsx(i,{variant:"secondary",className:"justify-start",onClick:()=>n("/receptionist/patients"),children:"ðŸ“‹ Patient Records"})]})]})]})]})]})}const O=[{id:"1",title:"John Smith",time:"09:00",doctor:"Dr. Wilson",status:"confirmed"},{id:"2",title:"Sarah Johnson",time:"10:30",doctor:"Dr. Brown",status:"pending"},{id:"3",title:"Mike Davis",time:"14:00",doctor:"Dr. Wilson",status:"confirmed"}],z=[{id:"1",name:"Dr. Sarah Wilson",specialization:"Cardiologist",availability:["09:00","10:00","11:00","14:00","15:00"]},{id:"2",name:"Dr. John Brown",specialization:"General Medicine",availability:["08:00","09:30","11:30","13:00","16:00"]},{id:"3",name:"Dr. Emily Davis",specialization:"Pediatrics",availability:["10:00","11:00","14:30","15:30","16:30"]}];function V(){const n=R(),[r,h]=p.useState(null),[j,o]=p.useState(!1),[d,a]=p.useState(""),[x,y]=p.useState(""),[t,s]=p.useState(""),[D,f]=p.useState(!1),[A,C]=p.useState(150),[l,N]=p.useState("cash"),v=z.find(c=>c.id===d),u=(v==null?void 0:v.availability)||[],w=()=>{const c={patientId:"P001",patientName:x,doctorId:d,doctorName:(v==null?void 0:v.name)||"",date:(r==null?void 0:r.toISOString().split("T")[0])||"",time:t,type:"Consultation",status:"scheduled"};n(G(c)),n(W({type:"success",title:"Appointment Booked",message:`Appointment for ${x} booked successfully`,priority:"medium",category:"appointment"})),n(J({role:"doctor",type:"info",title:"New Appointment Scheduled",message:`Appointment with ${x} scheduled for ${r==null?void 0:r.toLocaleDateString()} at ${t}`,category:"appointment",priority:"medium"})),o(!1),f(!1),y(""),a(""),s(""),C(150),N("cash")};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Appointment Calendar"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-h3 text-neutral-900",children:"Appointment Calendar"}),e.jsx("p",{className:"text-body text-neutral-600",children:"Manage and schedule patient appointments"})]}),e.jsx(i,{onClick:()=>o(!0),children:"+ Book New Appointment"})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-6",children:[e.jsx("div",{className:"xl:col-span-3",children:e.jsx(se,{events:O,onDateSelect:h,onEventClick:c=>console.log("Event clicked:",ee.forLog(c.id))})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(m,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-4",children:"Today's Schedule"}),e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:O.map(c=>e.jsxs("div",{className:"p-3 border border-neutral-200 rounded-small",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start mb-2 space-y-2 sm:space-y-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-body font-medium",children:c.title}),e.jsxs("p",{className:"text-body-sm text-neutral-600",children:[c.time," â€¢ ",c.doctor]})]}),e.jsx(F,{status:c.status==="confirmed"?"delivered":"pending",children:c.status})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[e.jsx(i,{variant:"tertiary",size:"sm",className:"w-full sm:w-auto",children:"Reschedule"}),e.jsx(i,{variant:"tertiary",size:"sm",className:"text-error w-full sm:w-auto",children:"Cancel"})]})]},c.id))})]}),e.jsxs(m,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-4",children:"Available Doctors"}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:z.map(c=>e.jsxs("div",{className:"p-2 bg-neutral-50 rounded-small",children:[e.jsx("p",{className:"text-body font-medium",children:c.name}),e.jsx("p",{className:"text-body-sm text-neutral-600",children:c.specialization})]},c.id))})]})]})]})]}),e.jsx(S,{isOpen:j,onClose:()=>o(!1),title:"Book New Appointment",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(g,{label:"Patient Name",value:x,onChange:c=>y(c.target.value),placeholder:"Enter patient name"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-body font-medium text-neutral-700 mb-1",children:"Doctor"}),e.jsxs("select",{value:d,onChange:c=>a(c.target.value),className:"block w-full px-3 py-2 border border-neutral-300 rounded-minimal shadow-sm text-body focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"Select a doctor"}),z.map(c=>e.jsxs("option",{value:c.id,children:[c.name," - ",c.specialization]},c.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-body font-medium text-neutral-700 mb-1",children:"Available Time Slots"}),e.jsxs("select",{value:t,onChange:c=>s(c.target.value),className:"block w-full px-3 py-2 border border-neutral-300 rounded-minimal shadow-sm text-body focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",disabled:!d,children:[e.jsx("option",{value:"",children:"Select time slot"}),u.map(c=>e.jsx("option",{value:c,children:c},c))]}),d&&u.length===0&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:"No available slots for selected doctor"})]}),r&&e.jsxs("div",{className:"p-3 bg-neutral-50 rounded-small",children:[e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Selected Date:"}),e.jsx("p",{className:"text-body font-medium",children:r.toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(i,{variant:"secondary",onClick:()=>o(!1),children:"Cancel"}),e.jsx(i,{onClick:()=>f(!0),disabled:!x||!d||!t,children:"Proceed to Payment"})]})]})}),e.jsx(S,{isOpen:D,onClose:()=>f(!1),title:"Payment Collection",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Appointment Summary"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Patient: ",x]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Doctor: ",v==null?void 0:v.name]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",r==null?void 0:r.toLocaleDateString()]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Time: ",t]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-body font-medium text-neutral-700 mb-1",children:"Consultation Fee"}),e.jsx(g,{type:"number",value:A,onChange:c=>C(Number(c.target.value)),placeholder:"Enter amount"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-body font-medium text-neutral-700 mb-1",children:"Payment Method"}),e.jsxs("select",{value:l,onChange:c=>N(c.target.value),className:"block w-full px-3 py-2 border border-neutral-300 rounded-minimal shadow-sm text-body focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"cash",children:"Cash"}),e.jsx("option",{value:"card",children:"Credit/Debit Card"}),e.jsx("option",{value:"insurance",children:"Insurance"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(i,{variant:"secondary",onClick:()=>f(!1),children:"Back"}),e.jsx(i,{onClick:w,children:"Collect Payment & Book"})]})]})})]})}const ae=n=>{if(!n)return n;const r=n.replace(/\D/g,"");return r.length<4?n:r.length===10?`(${r.substring(0,3)}) ${r.substring(3,6)}-${"*".repeat(4)}`:"*".repeat(Math.max(0,r.length-4))+r.substring(r.length-4)};function ne(){const[n,r]=p.useState(""),h=E(),{patients:j}=k(a=>a.patients),o=j.filter(a=>a.name.toLowerCase().includes(n.toLowerCase())||a.id.toLowerCase().includes(n.toLowerCase())).map(a=>({id:a.id,name:a.name,age:a.age,phone:ae(a.phone),lastVisit:new Date().toISOString().split("T")[0],status:"active"})),d=[{key:"id",header:"Patient ID"},{key:"name",header:"Name"},{key:"age",header:"Age"},{key:"phone",header:"Phone"},{key:"lastVisit",header:"Last Visit"},{key:"status",header:"Status",render:a=>e.jsx(F,{status:a==="active"?"delivered":"pending",children:a})},{key:"actions",header:"Actions",render:()=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(i,{variant:"tertiary",size:"sm",children:"View"}),e.jsx(i,{variant:"tertiary",size:"sm",children:"Edit"})]})}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Patient Records"})}),e.jsx("div",{className:"space-y-6",children:e.jsxs(m,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-h3 text-neutral-900",children:"Patient Records"}),e.jsx("p",{className:"text-body text-neutral-600",children:"Manage patient information and records"})]}),e.jsx(i,{onClick:()=>h("/receptionist/patients/register"),children:"+ Register New Patient"})]}),e.jsx("div",{className:"mb-4",children:e.jsx(g,{placeholder:"Search patients by name or ID...",value:n,onChange:a=>r(a.target.value),className:"max-w-md"})}),e.jsx(K,{columns:d,data:o})]})})]})}function ie(){const{entries:n}=k(s=>s.waitlist),r=R(),[h,j]=p.useState(!1),[o,d]=p.useState("all"),[a,x]=p.useState({patientName:"",phone:"",doctor:"",reason:"",priority:"medium",preferredDates:""}),y=n.filter(s=>o==="all"||s.priority===o),t=()=>{r(X({...a,id:Date.now().toString(),addedDate:new Date().toISOString().split("T")[0],preferredDates:a.preferredDates.split(",").map(s=>s.trim()).filter(Boolean)})),j(!1),x({patientName:"",phone:"",doctor:"",reason:"",priority:"medium",preferredDates:""})};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Waitlist Management"}),e.jsx(i,{onClick:()=>j(!0),children:"+ Add to Waitlist"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs(m,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:n.filter(s=>s.priority==="high").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"High Priority"})]}),e.jsxs(m,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-600",children:n.filter(s=>s.priority==="medium").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Medium Priority"})]}),e.jsxs(m,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:n.filter(s=>s.priority==="low").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Low Priority"})]})]}),e.jsx("div",{className:"flex gap-2 mb-6",children:["all","high","medium","low"].map(s=>e.jsx("button",{onClick:()=>d(s),className:`px-4 py-2 rounded ${o===s?"bg-blue-500 text-white":"bg-gray-200"}`,children:s.charAt(0).toUpperCase()+s.slice(1)},s))}),e.jsx("div",{className:"space-y-3",children:y.map(s=>e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.patientName}),e.jsx("span",{className:`px-2 py-1 rounded text-xs ${s.priority==="high"?"bg-red-100 text-red-800":s.priority==="medium"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"}`,children:s.priority})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["ðŸ“ž ",s.phone," â€¢ ðŸ‘¨â€âš•ï¸ ",s.doctor]}),e.jsxs("p",{className:"text-sm text-gray-700",children:["Reason: ",s.reason]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Added: ",s.addedDate]}),s.preferredDates.length>0&&e.jsxs("p",{className:"text-sm text-gray-500",children:["Preferred: ",s.preferredDates.join(", ")]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{size:"sm",onClick:()=>r(H(s.id)),children:"Book Appointment"}),e.jsx(i,{variant:"outline",size:"sm",onClick:()=>r(Q(s.id)),children:"Remove"})]})]})},s.id))}),e.jsx(S,{isOpen:h,onClose:()=>j(!1),title:"Add to Waitlist",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(g,{label:"Patient Name",value:a.patientName,onChange:s=>x({...a,patientName:s.target.value})}),e.jsx(g,{label:"Phone",value:a.phone,onChange:s=>x({...a,phone:s.target.value})}),e.jsx(g,{label:"Doctor",value:a.doctor,onChange:s=>x({...a,doctor:s.target.value})}),e.jsx(g,{label:"Reason",value:a.reason,onChange:s=>x({...a,reason:s.target.value})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Priority"}),e.jsxs("select",{value:a.priority,onChange:s=>x({...a,priority:s.target.value}),className:"w-full border rounded p-2",children:[e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"low",children:"Low"})]})]}),e.jsx(g,{label:"Preferred Dates (comma-separated)",value:a.preferredDates,onChange:s=>x({...a,preferredDates:s.target.value}),placeholder:"2024-02-15, 2024-02-16"}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(i,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),e.jsx(i,{onClick:t,children:"Add"})]})]})})]})}const I=[{id:"INV-001",patient:"John Smith",amount:250,status:"paid",date:"2024-01-15",services:"Consultation, Lab Tests"},{id:"INV-002",patient:"Sarah Johnson",amount:180,status:"pending",date:"2024-01-14",services:"Follow-up Visit"},{id:"INV-003",patient:"Mike Davis",amount:320,status:"overdue",date:"2024-01-10",services:"Consultation, X-Ray"}],le=[{id:"1",name:"General Consultation",price:100},{id:"2",name:"Follow-up Visit",price:75},{id:"3",name:"Lab Tests (Basic)",price:150},{id:"4",name:"X-Ray",price:200},{id:"5",name:"ECG",price:120}];function re(){const[n,r]=p.useState(""),[h,j]=p.useState(!1),o=I.filter(t=>t.patient.toLowerCase().includes(n.toLowerCase())||t.id.toLowerCase().includes(n.toLowerCase())),d=[{key:"id",header:"Invoice ID"},{key:"patient",header:"Patient"},{key:"services",header:"Services"},{key:"amount",header:"Amount",render:t=>`$${t.toFixed(2)}`},{key:"date",header:"Date"},{key:"status",header:"Status",render:t=>e.jsx(F,{status:t==="paid"?"delivered":t==="pending"?"pending":"error",children:t})},{key:"actions",header:"Actions",render:(t,s)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(i,{variant:"tertiary",size:"sm",children:"View"}),e.jsx(i,{variant:"tertiary",size:"sm",children:"Print"}),s.status==="pending"&&e.jsx(i,{variant:"tertiary",size:"sm",className:"text-success",children:"Collect"})]})}],a=I.reduce((t,s)=>t+s.amount,0),x=I.filter(t=>t.status==="pending").reduce((t,s)=>t+s.amount,0),y=I.filter(t=>t.status==="overdue").reduce((t,s)=>t+s.amount,0);return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Billing Dashboard"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(m,{className:"text-center",children:[e.jsxs("div",{className:"text-h2 text-success",children:["$",a.toFixed(2)]}),e.jsx("div",{className:"text-body text-neutral-600",children:"Total Revenue"})]}),e.jsxs(m,{className:"text-center",children:[e.jsxs("div",{className:"text-h2 text-warning",children:["$",x.toFixed(2)]}),e.jsx("div",{className:"text-body text-neutral-600",children:"Pending Payments"})]}),e.jsxs(m,{className:"text-center",children:[e.jsxs("div",{className:"text-h2 text-error",children:["$",y.toFixed(2)]}),e.jsx("div",{className:"text-body text-neutral-600",children:"Overdue Amount"})]}),e.jsxs(m,{className:"text-center",children:[e.jsx("div",{className:"text-h2 text-receptionist",children:I.length}),e.jsx("div",{className:"text-body text-neutral-600",children:"Total Invoices"})]})]}),e.jsxs(m,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-h4 text-neutral-900",children:"Invoice Management"}),e.jsx("p",{className:"text-body text-neutral-600",children:"Manage patient billing and payments"})]}),e.jsx(i,{onClick:()=>j(!0),children:"+ Create Invoice"})]}),e.jsx("div",{className:"mb-4",children:e.jsx(g,{placeholder:"Search invoices by patient name or invoice ID...",value:n,onChange:t=>r(t.target.value),className:"max-w-md"})}),e.jsx(K,{columns:d,data:o})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[e.jsxs(m,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-4",children:"Service Pricing"}),e.jsx("div",{className:"space-y-3",children:le.map(t=>e.jsxs("div",{className:"flex justify-between items-center p-3 bg-neutral-50 rounded-small",children:[e.jsx("span",{className:"text-body",children:t.name}),e.jsxs("span",{className:"text-body font-medium",children:["$",t.price.toFixed(2)]})]},t.id))}),e.jsx(i,{variant:"secondary",className:"w-full mt-4",children:"Manage Pricing"})]}),e.jsxs(m,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsx(i,{variant:"secondary",className:"justify-start",children:"ðŸ’° Process Payment"}),e.jsx(i,{variant:"secondary",className:"justify-start",children:"ðŸ“§ Send Invoice"}),e.jsx(i,{variant:"secondary",className:"justify-start",children:"ðŸ“Š Payment Report"}),e.jsx(i,{variant:"secondary",className:"justify-start",children:"ðŸ” Outstanding Bills"})]})]})]})]})]})}function de(){const{plans:n,payments:r}=k(l=>l.paymentPlan),h=R(),[j,o]=p.useState(!1),[d,a]=p.useState(!1),[x,y]=p.useState(null),[t,s]=p.useState({patientName:"",totalAmount:"",downPayment:"",installments:"3"}),D=n.filter(l=>l.status==="active").length,f=n.filter(l=>{const N=Math.floor((Date.now()-new Date(l.startDate).getTime())/2592e6),v=l.downPayment+N*l.monthlyAmount;return l.paid<v&&l.status==="active"}).length,A=()=>{const l=parseFloat(t.totalAmount),N=parseFloat(t.downPayment),v=parseInt(t.installments),u=(l-N)/v;h(q({id:`PP${Date.now()}`,...t,totalAmount:l,downPayment:N,installments:v,monthlyAmount:u,startDate:new Date().toISOString().split("T")[0],status:"active",paid:N})),o(!1),s({patientName:"",totalAmount:"",downPayment:"",installments:"3"})},C=()=>{x&&(h(U({id:`PAY${Date.now()}`,planId:x.id,amount:x.monthlyAmount,date:new Date().toISOString().split("T")[0],method:"card",status:"completed"})),a(!1),y(null))};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Payment Plans"}),e.jsx(i,{onClick:()=>o(!0),children:"+ Create Plan"})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[e.jsxs(m,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:D}),e.jsx("div",{className:"text-sm text-gray-600",children:"Active Plans"})]}),e.jsxs(m,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:f}),e.jsx("div",{className:"text-sm text-gray-600",children:"Overdue"})]}),e.jsxs(m,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:n.filter(l=>l.status==="completed").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]}),e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"text-3xl font-bold text-gray-700",children:["$",n.reduce((l,N)=>l+N.totalAmount,0)]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Value"})]})]}),e.jsx("div",{className:"space-y-3",children:n.map(l=>{const N=l.paid/l.totalAmount*100;return e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:l.patientName}),e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-sm",children:l.id}),e.jsx("span",{className:`px-2 py-1 rounded text-xs ${l.status==="active"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:l.status})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Total: $",l.totalAmount," | Down: $",l.downPayment," | Monthly: $",l.monthlyAmount]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Paid: $",l.paid," / $",l.totalAmount," (",l.installments," installments)"]}),e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"w-full bg-gray-200 rounded h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded",style:{width:`${N}%`}})})})]}),l.status==="active"&&e.jsx(i,{size:"sm",onClick:()=>{y(l),a(!0)},children:"Record Payment"})]})},l.id)})}),e.jsx(S,{isOpen:j,onClose:()=>o(!1),title:"Create Payment Plan",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(g,{label:"Patient Name",value:t.patientName,onChange:l=>s({...t,patientName:l.target.value})}),e.jsx(g,{label:"Total Amount",type:"number",value:t.totalAmount,onChange:l=>s({...t,totalAmount:l.target.value})}),e.jsx(g,{label:"Down Payment",type:"number",value:t.downPayment,onChange:l=>s({...t,downPayment:l.target.value})}),e.jsx(g,{label:"Number of Installments",type:"number",value:t.installments,onChange:l=>s({...t,installments:l.target.value})}),t.totalAmount&&t.downPayment&&t.installments&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:e.jsxs("p",{className:"text-sm text-blue-800",children:["Monthly Payment: $",((parseFloat(t.totalAmount)-parseFloat(t.downPayment))/parseInt(t.installments)).toFixed(2)]})}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(i,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),e.jsx(i,{onClick:A,children:"Create Plan"})]})]})}),e.jsx(S,{isOpen:d,onClose:()=>a(!1),title:"Record Payment",children:x&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Patient"}),e.jsx("p",{className:"font-semibold",children:x.patientName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Payment Amount"}),e.jsxs("p",{className:"font-semibold",children:["$",x.monthlyAmount]})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(i,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),e.jsx(i,{onClick:C,children:"Record Payment"})]})]})})]})}function ce(){const{summary:n,paymentMethods:r}=k(h=>h.revenue);return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Revenue Reports"}),e.jsx(i,{children:"Export Report"})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["$",(n.daily/1e3).toFixed(1),"K"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Today's Revenue"})]}),e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:["$",(n.monthly/1e3).toFixed(0),"K"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Monthly Revenue"})]}),e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:["$",(n.collected/1e3).toFixed(0),"K"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Collected"})]}),e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"text-3xl font-bold text-red-600",children:["$",(n.outstanding/1e3).toFixed(0),"K"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Outstanding"})]})]}),e.jsxs(m,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Payment Methods Breakdown"}),e.jsx("div",{className:"space-y-4",children:r.map(h=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"font-medium",children:h.method}),e.jsxs("span",{className:"text-gray-600",children:["$",(h.amount/1e3).toFixed(0),"K (",h.percentage,"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded h-3",children:e.jsx("div",{className:"bg-blue-500 h-3 rounded",style:{width:`${h.percentage}%`}})})]},h.method))})]})]})}function oe(){const{claims:n}=k(s=>s.insurance),r=R(),[h,j]=p.useState(!1),[o,d]=p.useState({patientName:"",provider:"",amount:"",service:""}),a=n.filter(s=>s.status==="pending").length,x=n.filter(s=>s.status==="approved").length,y=n.filter(s=>s.status==="rejected").length,t=()=>{r(_({id:`CLM${Date.now()}`,...o,amount:parseFloat(o.amount),status:"pending",date:new Date().toISOString().split("T")[0]})),j(!1),d({patientName:"",provider:"",amount:"",service:""})};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Insurance Claims"}),e.jsx(i,{onClick:()=>j(!0),children:"+ Submit Claim"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs(m,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:a}),e.jsx("div",{className:"text-sm text-gray-600",children:"Pending Claims"})]}),e.jsxs(m,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:x}),e.jsx("div",{className:"text-sm text-gray-600",children:"Approved"})]}),e.jsxs(m,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:y}),e.jsx("div",{className:"text-sm text-gray-600",children:"Rejected"})]})]}),e.jsx("div",{className:"space-y-3",children:n.map(s=>e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.id}),e.jsx("span",{className:`px-2 py-1 rounded text-xs ${s.status==="pending"?"bg-yellow-100 text-yellow-800":s.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.status})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.patientName," â€¢ ",s.provider]}),e.jsxs("p",{className:"text-sm text-gray-700",children:["Service: ",s.service," â€¢ $",s.amount]}),e.jsx("p",{className:"text-sm text-gray-500",children:s.date}),s.reason&&e.jsxs("p",{className:"text-sm text-red-600 mt-1",children:["Reason: ",s.reason]})]}),s.status==="pending"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{size:"sm",onClick:()=>r(L({id:s.id,status:"approved"})),children:"Approve"}),e.jsx(i,{variant:"outline",size:"sm",onClick:()=>r(L({id:s.id,status:"rejected",reason:"Documentation incomplete"})),children:"Reject"})]})]})},s.id))}),e.jsx(S,{isOpen:h,onClose:()=>j(!1),title:"Submit Insurance Claim",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(g,{label:"Patient Name",value:o.patientName,onChange:s=>d({...o,patientName:s.target.value})}),e.jsx(g,{label:"Insurance Provider",value:o.provider,onChange:s=>d({...o,provider:s.target.value})}),e.jsx(g,{label:"Service Description",value:o.service,onChange:s=>d({...o,service:s.target.value})}),e.jsx(g,{label:"Claim Amount",type:"number",value:o.amount,onChange:s=>d({...o,amount:s.target.value})}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(i,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),e.jsx(i,{onClick:t,children:"Submit Claim"})]})]})})]})}function je(){return e.jsxs(Z,{children:[e.jsx(b,{index:!0,element:e.jsx(te,{})}),e.jsx(b,{path:"appointments",element:e.jsx(V,{})}),e.jsx(b,{path:"recurring-appointments",element:e.jsx(V,{})}),e.jsx(b,{path:"waitlist",element:e.jsx(ie,{})}),e.jsx(b,{path:"patients",element:e.jsx(ne,{})}),e.jsx(b,{path:"billing",element:e.jsx(re,{})}),e.jsx(b,{path:"billing/payment-plans",element:e.jsx(de,{})}),e.jsx(b,{path:"billing/revenue-reports",element:e.jsx(ce,{})}),e.jsx(b,{path:"billing/insurance-claims",element:e.jsx(oe,{})})]})}export{je as default};
