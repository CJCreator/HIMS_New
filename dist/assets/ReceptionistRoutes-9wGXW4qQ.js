import{c as E,g as F,u as A,r as x,j as e,W as ee,Y as D}from"./vendor-react-DgLHP6bv.js";import{C as u,a as c,b as T,N as te,d as I,f as q,I as j,w as se,c as R,T as Q}from"./components-shared-xUUHivoC.js";import{t as P}from"./vendor-other-GA8idrW8.js";import{u as _,f as J,g as ae,h as ne}from"./feature-patient-CwIgoHzQ.js";import{a as le,b as ie,c as re,r as oe,d as ce,e as de,u as W,s as me}from"./index-Cdqg4OM2.js";import"./vendor-utils-BK7WLMRy.js";import"./vendor-redux-Bm7kM3lO.js";import"./vendor-ui-B-dksMZM.js";import"./feature-laboratory-CrtyfW6q.js";import"./vendor-charts-CR2zRRjt.js";import"./feature-pharmacy--tAhxErE.js";import"./feature-admin-Cc9aQ-62.js";import"./feature-analytics-C1J43PNm.js";function xe(){const r=E(),m=F(),{appointments:h}=A(t=>t.appointments),{notifications:N}=A(t=>t.notifications),[p,b]=x.useState(null),[a,y]=x.useState(!1),d=new Date().toISOString().split("T")[0],g=x.useMemo(()=>h.filter(t=>t.date===d).slice(0,5),[h,d]),i=x.useMemo(()=>({total:h.filter(t=>t.date===d).length,confirmed:h.filter(t=>t.date===d&&t.status==="confirmed").length,pending:h.filter(t=>t.date===d&&t.status==="scheduled").length,cancelled:h.filter(t=>t.date===d&&t.status==="cancelled").length}),[h,d]),v=async(t,l)=>{y(!0);try{m(_({id:t,status:"in-progress"})),m(I({type:"success",title:"Patient Checked In",message:`${l} has been checked in`,priority:"medium",category:"patient"})),m(q({role:"nurse",type:"info",title:"Patient Arrived",message:`${l} has checked in and is waiting`,priority:"high",category:"patient"}))}finally{y(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Receptionist Dashboard"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(u,{className:"text-center",children:[e.jsx("div",{className:"text-h2 text-receptionist",children:i.total}),e.jsx("div",{className:"text-body text-neutral-600",children:"Today's Appointments"})]}),e.jsxs(u,{className:"text-center",children:[e.jsx("div",{className:"text-h2 text-success",children:i.confirmed}),e.jsx("div",{className:"text-body text-neutral-600",children:"Confirmed"})]}),e.jsxs(u,{className:"text-center",children:[e.jsx("div",{className:"text-h2 text-warning",children:i.pending}),e.jsx("div",{className:"text-body text-neutral-600",children:"Pending"})]}),e.jsxs(u,{className:"text-center",children:[e.jsx("div",{className:"text-h2 text-neutral-700",children:i.cancelled}),e.jsx("div",{className:"text-body text-neutral-600",children:"Cancelled"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[e.jsxs(u,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-h4 text-neutral-900",children:"Today's Appointments"}),e.jsx(c,{onClick:()=>r("/receptionist/appointments"),children:"View All"})]}),e.jsx("div",{className:"space-y-3",children:g.map(t=>e.jsxs("div",{className:"flex justify-between items-center p-3 bg-neutral-50 rounded-small",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-body font-medium",children:t.patientName}),e.jsxs("p",{className:"text-body-sm text-neutral-600",children:[t.time," â€¢ ",t.doctorName]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{status:t.status==="confirmed"?"delivered":t.status==="in-progress"?"pending":"sent",children:t.status}),t.status==="scheduled"&&e.jsx(c,{size:"sm",onClick:()=>v(t.id,t.patientName),loading:a,children:"Check In"})]})]},t.id))})]}),e.jsxs(u,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsx(c,{variant:"secondary",className:"justify-start",onClick:()=>r("/receptionist/appointments"),children:"ðŸ“… Book Appointment"}),e.jsx(c,{variant:"secondary",className:"justify-start",onClick:()=>r("/receptionist/patients/register"),children:"ðŸ‘¤ Register Patient"}),e.jsx(c,{variant:"secondary",className:"justify-start",onClick:()=>r("/receptionist/billing"),children:"ðŸ’° Process Payment"}),e.jsx(c,{variant:"secondary",className:"justify-start",onClick:()=>r("/receptionist/patients"),children:"ðŸ“‹ Patient Records"})]})]})]})]}),p&&e.jsx(te,{notification:p,isOpen:!!p,onClose:()=>b(null)})]})}const z=[{id:"DR001",name:"Dr. Sarah Wilson",specialization:"Cardiologist"},{id:"DR002",name:"Dr. John Brown",specialization:"General Medicine"},{id:"DR003",name:"Dr. Emily Davis",specialization:"Pediatrics"}],K=["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","14:00","14:30","15:00","15:30","16:00","16:30"];function Y(){const r=F(),{appointments:m}=A(s=>s.appointments),{patients:h}=A(s=>s.patients),[N,p]=x.useState(new Date),[b,a]=x.useState(!1),[y,d]=x.useState(!1),[g,i]=x.useState(!1),[v,t]=x.useState(null),[l,C]=x.useState(!1),[n,f]=x.useState({patientId:"",patientName:"",doctorId:"",date:"",time:"",type:"Consultation"}),[w,$]=x.useState({date:"",time:""}),[B,O]=x.useState(""),[o,k]=x.useState("all"),L=x.useMemo(()=>m.filter(s=>{const S=s.patientName.toLowerCase().includes(B.toLowerCase())||s.doctorName.toLowerCase().includes(B.toLowerCase()),M=o==="all"||s.status===o;return S&&M}),[m,B,o]),H=x.useMemo(()=>{const s=new Date().toISOString().split("T")[0];return L.filter(S=>S.date===s)},[L]),U=async()=>{if(!n.patientName||!n.doctorId||!n.date||!n.time){P.error("Please fill all required fields");return}C(!0);try{const s=z.find(M=>M.id===n.doctorId),S={patientId:n.patientId||`P${Date.now()}`,patientName:n.patientName,doctorId:n.doctorId,doctorName:(s==null?void 0:s.name)||"",date:n.date,time:n.time,type:n.type,status:"scheduled"};r(J(S)),r(I({type:"success",title:"Appointment Booked",message:`Appointment for ${n.patientName} booked successfully`,priority:"medium",category:"appointment"})),r(q({role:"doctor",type:"info",title:"New Appointment Scheduled",message:`Appointment with ${n.patientName} scheduled for ${n.date} at ${n.time}`,category:"appointment",priority:"medium"})),P.success("Appointment booked successfully"),a(!1),f({patientId:"",patientName:"",doctorId:"",date:"",time:"",type:"Consultation"})}finally{C(!1)}},X=async()=>{if(!w.date||!w.time){P.error("Please select date and time");return}C(!0);try{r(ae({...v,date:w.date,time:w.time})),r(I({type:"info",title:"Appointment Rescheduled",message:`Appointment rescheduled to ${w.date} at ${w.time}`,priority:"medium",category:"appointment"})),P.success("Appointment rescheduled successfully"),i(!1),$({date:"",time:""})}finally{C(!1)}},Z=async(s,S)=>{if(confirm(`Cancel appointment for ${S}?`)){C(!0);try{r(_({id:s,status:"cancelled"})),r(I({type:"warning",title:"Appointment Cancelled",message:`Appointment for ${S} has been cancelled`,priority:"medium",category:"appointment"})),P.success("Appointment cancelled")}finally{C(!1)}}},G=s=>{t(s),$({date:s.date,time:s.time}),i(!0)},V=s=>{t(s),d(!0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Appointment Calendar"})}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex-1 flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[e.jsx(j,{placeholder:"Search by patient or doctor...",value:B,onChange:s=>O(s.target.value),className:"w-full sm:w-64"}),e.jsxs("select",{value:o,onChange:s=>k(s.target.value),className:"px-3 py-2 border border-neutral-300 rounded-minimal text-body focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"confirmed",children:"Confirmed"}),e.jsx("option",{value:"in-progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsx(c,{onClick:()=>a(!0),children:"+ Book New Appointment"})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-6",children:[e.jsx("div",{className:"xl:col-span-3",children:e.jsx(se,{events:L.map(s=>({id:s.id,title:s.patientName,time:s.time,doctor:s.doctorName,status:s.status})),onDateSelect:p,onEventClick:s=>{const S=m.find(M=>M.id===s.id);S&&V(S)}})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(u,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-4",children:"Today's Schedule"}),e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:H.length===0?e.jsx("p",{className:"text-body-sm text-neutral-500 text-center py-4",children:"No appointments today"}):H.map(s=>e.jsxs("div",{className:"p-3 border border-neutral-200 rounded-small",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-body font-medium",children:s.patientName}),e.jsxs("p",{className:"text-body-sm text-neutral-600",children:[s.time," â€¢ ",s.doctorName]})]}),e.jsx(T,{status:s.status==="confirmed"?"delivered":s.status==="cancelled"?"error":"pending",children:s.status})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{variant:"tertiary",size:"sm",onClick:()=>V(s),children:"View"}),s.status!=="cancelled"&&s.status!=="completed"&&e.jsxs(e.Fragment,{children:[e.jsx(c,{variant:"tertiary",size:"sm",onClick:()=>G(s),children:"Reschedule"}),e.jsx(c,{variant:"tertiary",size:"sm",className:"text-error",onClick:()=>Z(s.id,s.patientName),children:"Cancel"})]})]})]},s.id))})]}),e.jsxs(u,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-4",children:"Available Doctors"}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:z.map(s=>e.jsxs("div",{className:"p-2 bg-neutral-50 rounded-small",children:[e.jsx("p",{className:"text-body font-medium",children:s.name}),e.jsx("p",{className:"text-body-sm text-neutral-600",children:s.specialization})]},s.id))})]})]})]}),e.jsx(R,{isOpen:b,onClose:()=>a(!1),title:"Book New Appointment",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-body font-medium text-neutral-700 mb-1",children:"Select Patient"}),e.jsxs("select",{value:n.patientId,onChange:s=>{const S=h.find(M=>M.id===s.target.value);f({...n,patientId:s.target.value,patientName:(S==null?void 0:S.name)||""})},className:"block w-full px-3 py-2 border border-neutral-300 rounded-minimal text-body focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"Select existing patient"}),h.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsx(j,{label:"Or Enter New Patient Name *",value:n.patientName,onChange:s=>f({...n,patientName:s.target.value,patientId:""}),placeholder:"Enter patient name"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-body font-medium text-neutral-700 mb-1",children:"Doctor *"}),e.jsxs("select",{value:n.doctorId,onChange:s=>f({...n,doctorId:s.target.value}),className:"block w-full px-3 py-2 border border-neutral-300 rounded-minimal text-body focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"Select a doctor"}),z.map(s=>e.jsxs("option",{value:s.id,children:[s.name," - ",s.specialization]},s.id))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(j,{label:"Date *",type:"date",value:n.date,onChange:s=>f({...n,date:s.target.value}),min:new Date().toISOString().split("T")[0]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-body font-medium text-neutral-700 mb-1",children:"Time *"}),e.jsxs("select",{value:n.time,onChange:s=>f({...n,time:s.target.value}),className:"block w-full px-3 py-2 border border-neutral-300 rounded-minimal text-body focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"Select time"}),K.map(s=>e.jsx("option",{value:s,children:s},s))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-body font-medium text-neutral-700 mb-1",children:"Appointment Type"}),e.jsxs("select",{value:n.type,onChange:s=>f({...n,type:s.target.value}),className:"block w-full px-3 py-2 border border-neutral-300 rounded-minimal text-body focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"Consultation",children:"Consultation"}),e.jsx("option",{value:"Follow-up",children:"Follow-up"}),e.jsx("option",{value:"Check-up",children:"Check-up"}),e.jsx("option",{value:"Emergency",children:"Emergency"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(c,{variant:"secondary",onClick:()=>a(!1),children:"Cancel"}),e.jsx(c,{onClick:U,loading:l,children:"Book Appointment"})]})]})}),v&&e.jsx(R,{isOpen:y,onClose:()=>d(!1),title:"Appointment Details",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Patient"}),e.jsx("p",{className:"text-body font-medium",children:v.patientName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Doctor"}),e.jsx("p",{className:"text-body font-medium",children:v.doctorName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Date"}),e.jsx("p",{className:"text-body font-medium",children:v.date})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Time"}),e.jsx("p",{className:"text-body font-medium",children:v.time})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Type"}),e.jsx("p",{className:"text-body font-medium",children:v.type})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Status"}),e.jsx(T,{status:v.status==="confirmed"?"delivered":v.status==="cancelled"?"error":"pending",children:v.status})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(c,{variant:"secondary",onClick:()=>d(!1),children:"Close"}),v.status!=="cancelled"&&v.status!=="completed"&&e.jsx(c,{onClick:()=>{d(!1),G(v)},children:"Reschedule"})]})]})}),v&&e.jsx(R,{isOpen:g,onClose:()=>i(!1),title:"Reschedule Appointment",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-neutral-50 rounded-small",children:[e.jsxs("p",{className:"text-body-sm text-neutral-600",children:["Patient: ",e.jsx("span",{className:"font-medium",children:v.patientName})]}),e.jsxs("p",{className:"text-body-sm text-neutral-600",children:["Doctor: ",e.jsx("span",{className:"font-medium",children:v.doctorName})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(j,{label:"New Date *",type:"date",value:w.date,onChange:s=>$({...w,date:s.target.value}),min:new Date().toISOString().split("T")[0]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-body font-medium text-neutral-700 mb-1",children:"New Time *"}),e.jsxs("select",{value:w.time,onChange:s=>$({...w,time:s.target.value}),className:"block w-full px-3 py-2 border border-neutral-300 rounded-minimal text-body focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"Select time"}),K.map(s=>e.jsx("option",{value:s,children:s},s))]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(c,{variant:"secondary",onClick:()=>i(!1),children:"Cancel"}),e.jsx(c,{onClick:X,loading:l,children:"Confirm Reschedule"})]})]})})]})}const ue=r=>{if(!r)return r;const m=r.replace(/\D/g,"");return m.length<4?r:m.length===10?`(${m.substring(0,3)}) ${m.substring(3,6)}-${"*".repeat(4)}`:"*".repeat(Math.max(0,m.length-4))+m.substring(m.length-4)};function he(){const[r,m]=x.useState(""),[h,N]=x.useState(null),[p,b]=x.useState(!1),a=E(),{patients:y}=A(t=>t.patients),d=y.filter(t=>t.name.toLowerCase().includes(r.toLowerCase())||t.id.toLowerCase().includes(r.toLowerCase())).map(t=>({id:t.id,name:t.name,age:t.age,phone:ue(t.phone),lastVisit:new Date().toISOString().split("T")[0],status:"active"})),g=t=>{const l=y.find(C=>C.id===t);l&&(N(l),b(!0))},i=()=>{b(!1)},v=[{key:"id",header:"Patient ID"},{key:"name",header:"Name"},{key:"age",header:"Age"},{key:"phone",header:"Phone"},{key:"lastVisit",header:"Last Visit"},{key:"status",header:"Status",render:t=>e.jsx(T,{status:t==="active"?"delivered":"pending",children:t})},{key:"actions",header:"Actions",render:(t,l)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(c,{variant:"tertiary",size:"sm",onClick:()=>g(l.id),children:"View"}),e.jsx(c,{variant:"tertiary",size:"sm",children:"Edit"})]})}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Patient Records"})}),e.jsx("div",{className:"space-y-6",children:e.jsxs(u,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-h3 text-neutral-900",children:"Patient Records"}),e.jsx("p",{className:"text-body text-neutral-600",children:"Manage patient information and records"})]}),e.jsx(c,{onClick:()=>a("/receptionist/patients/register"),children:"+ Register New Patient"})]}),e.jsx("div",{className:"mb-4",children:e.jsx(j,{placeholder:"Search patients by name or ID...",value:r,onChange:t=>m(t.target.value),className:"max-w-md"})}),e.jsx(Q,{columns:v,data:d})]})}),h&&e.jsx(ne,{patient:h,isOpen:p,onClose:()=>b(!1),onEdit:i})]})}async function pe(r,m){return console.log("Syncing patient registration:",r),m!=null&&m.notifyRoles&&console.log("Notifying roles:",m.notifyRoles),new Promise(h=>{setTimeout(h,100)})}function je(){const r=F(),m=E(),[h,N]=x.useState(1),[p,b]=x.useState(!1),[a,y]=x.useState({personalDetails:{firstName:"",lastName:"",dateOfBirth:"",gender:"",bloodGroup:""},contactInfo:{phone:"",email:"",address:"",city:"",zipCode:""},emergencyContact:{name:"",relationship:"",phone:""},insurance:{provider:"",policyNumber:"",groupNumber:""},medicalHistory:{allergies:"",medications:"",conditions:""}}),d=(l,C,n)=>{y(f=>({...f,[l]:{...f[l],[C]:n}}))},g=()=>N(l=>Math.min(l+1,5)),i=()=>N(l=>Math.max(l-1,1)),v=async()=>{b(!0);try{const C={name:`${a.personalDetails.firstName} ${a.personalDetails.lastName}`,age:new Date().getFullYear()-new Date(a.personalDetails.dateOfBirth).getFullYear(),gender:a.personalDetails.gender,phone:a.contactInfo.phone,email:a.contactInfo.email,address:`${a.contactInfo.address}, ${a.contactInfo.city}, ${a.contactInfo.zipCode}`,emergencyContact:`${a.emergencyContact.phone} (${a.emergencyContact.name} - ${a.emergencyContact.relationship})`,medicalHistory:a.medicalHistory.conditions?a.medicalHistory.conditions.split(",").map(n=>n.trim()):[],currentMedications:a.medicalHistory.medications?a.medicalHistory.medications.split(",").map(n=>n.trim()):[],allergies:a.medicalHistory.allergies?a.medicalHistory.allergies.split(",").map(n=>n.trim()):[]};r(le(C)),await pe(C,{notifyRoles:["doctor","nurse"],createInitialAppointment:!1}),m("/receptionist/patients")}catch{r(I({type:"error",title:"Registration Failed",message:"Failed to register patient. Please try again.",priority:"high",category:"system"}))}finally{b(!1)}},t=()=>{switch(h){case 1:return e.jsxs(u,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-6",children:"Personal Details"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(j,{label:"First Name *",value:a.personalDetails.firstName,onChange:l=>d("personalDetails","firstName",l.target.value),placeholder:"Enter first name"}),e.jsx(j,{label:"Last Name *",value:a.personalDetails.lastName,onChange:l=>d("personalDetails","lastName",l.target.value),placeholder:"Enter last name"}),e.jsx(j,{label:"Date of Birth *",type:"date",value:a.personalDetails.dateOfBirth,onChange:l=>d("personalDetails","dateOfBirth",l.target.value)}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-body font-medium text-neutral-700 mb-1",children:"Gender *"}),e.jsxs("select",{value:a.personalDetails.gender,onChange:l=>d("personalDetails","gender",l.target.value),className:"block w-full px-3 py-2 border border-neutral-300 rounded-minimal shadow-sm text-body focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"Select gender"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-body font-medium text-neutral-700 mb-1",children:"Blood Group"}),e.jsxs("select",{value:a.personalDetails.bloodGroup,onChange:l=>d("personalDetails","bloodGroup",l.target.value),className:"block w-full px-3 py-2 border border-neutral-300 rounded-minimal shadow-sm text-body focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"Select blood group"}),e.jsx("option",{value:"A+",children:"A+"}),e.jsx("option",{value:"A-",children:"A-"}),e.jsx("option",{value:"B+",children:"B+"}),e.jsx("option",{value:"B-",children:"B-"}),e.jsx("option",{value:"AB+",children:"AB+"}),e.jsx("option",{value:"AB-",children:"AB-"}),e.jsx("option",{value:"O+",children:"O+"}),e.jsx("option",{value:"O-",children:"O-"})]})]})]})]});case 2:return e.jsxs(u,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-6",children:"Contact Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(j,{label:"Phone Number *",value:a.contactInfo.phone,onChange:l=>d("contactInfo","phone",l.target.value),placeholder:"+1 (555) 123-4567"}),e.jsx(j,{label:"Email Address",type:"email",value:a.contactInfo.email,onChange:l=>d("contactInfo","email",l.target.value),placeholder:"patient@email.com"})]}),e.jsx(j,{label:"Address *",value:a.contactInfo.address,onChange:l=>d("contactInfo","address",l.target.value),placeholder:"Street address"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(j,{label:"City *",value:a.contactInfo.city,onChange:l=>d("contactInfo","city",l.target.value),placeholder:"City"}),e.jsx(j,{label:"ZIP Code *",value:a.contactInfo.zipCode,onChange:l=>d("contactInfo","zipCode",l.target.value),placeholder:"12345"})]})]})]});case 3:return e.jsxs(u,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-6",children:"Emergency Contact"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(j,{label:"Contact Name *",value:a.emergencyContact.name,onChange:l=>d("emergencyContact","name",l.target.value),placeholder:"Emergency contact name"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(j,{label:"Relationship *",value:a.emergencyContact.relationship,onChange:l=>d("emergencyContact","relationship",l.target.value),placeholder:"e.g., Spouse, Parent, Sibling"}),e.jsx(j,{label:"Phone Number *",value:a.emergencyContact.phone,onChange:l=>d("emergencyContact","phone",l.target.value),placeholder:"+1 (555) 123-4567"})]})]})]});case 4:return e.jsxs(u,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-6",children:"Insurance Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(j,{label:"Insurance Provider",value:a.insurance.provider,onChange:l=>d("insurance","provider",l.target.value),placeholder:"e.g., Blue Cross Blue Shield"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(j,{label:"Policy Number",value:a.insurance.policyNumber,onChange:l=>d("insurance","policyNumber",l.target.value),placeholder:"Policy number"}),e.jsx(j,{label:"Group Number",value:a.insurance.groupNumber,onChange:l=>d("insurance","groupNumber",l.target.value),placeholder:"Group number"})]})]})]});case 5:return e.jsxs(u,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-6",children:"Medical History Summary"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-body font-medium text-neutral-700 mb-1",children:"Known Allergies"}),e.jsx("textarea",{rows:3,value:a.medicalHistory.allergies,onChange:l=>d("medicalHistory","allergies",l.target.value),placeholder:"List any known allergies (medications, food, environmental)",className:"block w-full px-3 py-2 border border-neutral-300 rounded-minimal shadow-sm text-body focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-body font-medium text-neutral-700 mb-1",children:"Current Medications"}),e.jsx("textarea",{rows:3,value:a.medicalHistory.medications,onChange:l=>d("medicalHistory","medications",l.target.value),placeholder:"List current medications and dosages",className:"block w-full px-3 py-2 border border-neutral-300 rounded-minimal shadow-sm text-body focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-body font-medium text-neutral-700 mb-1",children:"Medical Conditions"}),e.jsx("textarea",{rows:3,value:a.medicalHistory.conditions,onChange:l=>d("medicalHistory","conditions",l.target.value),placeholder:"List any chronic conditions or past medical history",className:"block w-full px-3 py-2 border border-neutral-300 rounded-minimal shadow-sm text-body focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})]});default:return null}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Patient Registration"})}),e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 px-4 sm:px-0 overflow-x-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-h3 text-neutral-900",children:"New Patient Registration"}),e.jsxs("p",{className:"text-body text-neutral-600",children:["Step ",h," of 5"]})]}),e.jsx("div",{className:"w-full sm:w-64",children:e.jsx("div",{className:"w-full bg-neutral-200 rounded-full h-2",children:e.jsx("div",{className:"bg-receptionist h-2 rounded-full transition-all duration-300",style:{width:`${h/5*100}%`}})})})]}),t(),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between space-y-3 sm:space-y-0",children:[e.jsx(c,{variant:"secondary",onClick:i,disabled:h===1,className:"w-full sm:w-auto",children:"Previous"}),h===5?e.jsx(c,{onClick:v,loading:p,className:"w-full sm:w-auto",children:"Register Patient"}):e.jsx(c,{onClick:g,className:"w-full sm:w-auto",children:"Next"})]})]})]})}function ge(){const{entries:r}=A(t=>t.waitlist),m=F(),[h,N]=x.useState(!1),[p,b]=x.useState("all"),[a,y]=x.useState({patientName:"",phone:"",doctor:"",reason:"",priority:"medium",preferredDates:""}),d=r.filter(t=>p==="all"||t.priority===p),g=()=>{if(!a.patientName||!a.phone||!a.doctor||!a.reason){P.error("Please fill all required fields");return}m(ie({...a,id:Date.now().toString(),addedDate:new Date().toISOString().split("T")[0],preferredDates:a.preferredDates.split(",").map(t=>t.trim()).filter(Boolean)})),m(I({type:"success",title:"Added to Waitlist",message:`${a.patientName} has been added to the waitlist`,priority:"medium",category:"patient"})),P.success("Patient added to waitlist"),N(!1),y({patientName:"",phone:"",doctor:"",reason:"",priority:"medium",preferredDates:""})},i=t=>{const l=t.preferredDates[0]||new Date().toISOString().split("T")[0];m(J({patientId:`P${Date.now()}`,patientName:t.patientName,doctorId:"DR001",doctorName:t.doctor,date:l,time:"09:00",type:"Consultation",status:"scheduled"})),m(re(t.id)),m(I({type:"success",title:"Appointment Booked",message:`Appointment booked for ${t.patientName}`,priority:"medium",category:"appointment"})),P.success("Appointment booked from waitlist")},v=(t,l)=>{confirm(`Remove ${l} from waitlist?`)&&(m(oe(t)),P.success("Removed from waitlist"))};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Waitlist Management"}),e.jsx(c,{onClick:()=>N(!0),children:"+ Add to Waitlist"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs(u,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:r.filter(t=>t.priority==="high").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"High Priority"})]}),e.jsxs(u,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-600",children:r.filter(t=>t.priority==="medium").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Medium Priority"})]}),e.jsxs(u,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:r.filter(t=>t.priority==="low").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Low Priority"})]})]}),e.jsx("div",{className:"flex gap-2 mb-6",children:["all","high","medium","low"].map(t=>e.jsx("button",{onClick:()=>b(t),className:`px-4 py-2 rounded ${p===t?"bg-blue-500 text-white":"bg-gray-200"}`,children:t.charAt(0).toUpperCase()+t.slice(1)},t))}),e.jsx("div",{className:"space-y-3",children:d.map(t=>e.jsx(u,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:t.patientName}),e.jsx("span",{className:`px-2 py-1 rounded text-xs ${t.priority==="high"?"bg-red-100 text-red-800":t.priority==="medium"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"}`,children:t.priority})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["ðŸ“ž ",t.phone," â€¢ ðŸ‘¨âš•ï¸ ",t.doctor]}),e.jsxs("p",{className:"text-sm text-gray-700",children:["Reason: ",t.reason]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Added: ",t.addedDate]}),t.preferredDates.length>0&&e.jsxs("p",{className:"text-sm text-gray-500",children:["Preferred: ",t.preferredDates.join(", ")]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{size:"sm",onClick:()=>i(t),children:"Book Appointment"}),e.jsx(c,{variant:"outline",size:"sm",onClick:()=>v(t.id,t.patientName),children:"Remove"})]})]})},t.id))}),e.jsx(R,{isOpen:h,onClose:()=>N(!1),title:"Add to Waitlist",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(j,{label:"Patient Name",value:a.patientName,onChange:t=>y({...a,patientName:t.target.value})}),e.jsx(j,{label:"Phone",value:a.phone,onChange:t=>y({...a,phone:t.target.value})}),e.jsx(j,{label:"Doctor",value:a.doctor,onChange:t=>y({...a,doctor:t.target.value})}),e.jsx(j,{label:"Reason",value:a.reason,onChange:t=>y({...a,reason:t.target.value})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Priority"}),e.jsxs("select",{value:a.priority,onChange:t=>y({...a,priority:t.target.value}),className:"w-full border rounded p-2",children:[e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"low",children:"Low"})]})]}),e.jsx(j,{label:"Preferred Dates (comma-separated)",value:a.preferredDates,onChange:t=>y({...a,preferredDates:t.target.value}),placeholder:"2024-02-15, 2024-02-16"}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(c,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),e.jsx(c,{onClick:g,children:"Add"})]})]})})]})}const ye=[{id:"1",name:"General Consultation",price:100},{id:"2",name:"Follow-up Visit",price:75},{id:"3",name:"Lab Tests (Basic)",price:150},{id:"4",name:"X-Ray",price:200},{id:"5",name:"ECG",price:120}];function ve(){const[r,m]=x.useState(""),[h,N]=x.useState(!1),[p,b]=x.useState(null),[a,y]=x.useState(""),[d,g]=x.useState("cash"),[i,v]=x.useState(!1),t=F(),{appointments:l}=A(o=>o.appointments),C=x.useMemo(()=>l.map(o=>({id:`INV-${o.id}`,appointmentId:o.id,patient:o.patientName,amount:150,status:o.status==="completed"?"paid":o.status==="cancelled"?"cancelled":"pending",date:o.date,services:o.type||"Consultation"})),[l]),n=x.useMemo(()=>C.filter(o=>o.patient.toLowerCase().includes(r.toLowerCase())||o.id.toLowerCase().includes(r.toLowerCase())),[C,r]),f=x.useMemo(()=>({totalRevenue:C.filter(o=>o.status==="paid").reduce((o,k)=>o+k.amount,0),pendingAmount:C.filter(o=>o.status==="pending").reduce((o,k)=>o+k.amount,0),overdueAmount:C.filter(o=>o.status==="overdue").reduce((o,k)=>o+k.amount,0),totalInvoices:C.length}),[C]),w=o=>{b(o),y(o.amount.toString()),N(!0)},$=async()=>{if(!a||parseFloat(a)<=0){P.error("Please enter valid payment amount");return}v(!0);try{t(I({type:"success",title:"Payment Collected",message:`Payment of $${a} collected from ${p.patient}`,priority:"medium",category:"billing"})),P.success("Payment processed successfully"),N(!1),b(null),y("")}finally{v(!1)}},B=o=>{P.info("Printing invoice..."),t(I({type:"info",title:"Invoice Printed",message:`Invoice ${o.id} printed`,priority:"low",category:"billing"}))},O=[{key:"id",header:"Invoice ID"},{key:"patient",header:"Patient"},{key:"services",header:"Services"},{key:"amount",header:"Amount",render:o=>`$${o.toFixed(2)}`},{key:"date",header:"Date"},{key:"status",header:"Status",render:o=>e.jsx(T,{status:o==="paid"?"delivered":o==="pending"?"pending":"error",children:o})},{key:"actions",header:"Actions",render:(o,k)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(c,{variant:"tertiary",size:"sm",onClick:()=>B(k),children:"Print"}),k.status==="pending"&&e.jsx(c,{variant:"tertiary",size:"sm",className:"text-success",onClick:()=>w(k),children:"Collect"})]})}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Billing Dashboard"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(u,{className:"text-center",children:[e.jsxs("div",{className:"text-h2 text-success",children:["$",f.totalRevenue.toFixed(2)]}),e.jsx("div",{className:"text-body text-neutral-600",children:"Total Revenue"})]}),e.jsxs(u,{className:"text-center",children:[e.jsxs("div",{className:"text-h2 text-warning",children:["$",f.pendingAmount.toFixed(2)]}),e.jsx("div",{className:"text-body text-neutral-600",children:"Pending Payments"})]}),e.jsxs(u,{className:"text-center",children:[e.jsxs("div",{className:"text-h2 text-error",children:["$",f.overdueAmount.toFixed(2)]}),e.jsx("div",{className:"text-body text-neutral-600",children:"Overdue Amount"})]}),e.jsxs(u,{className:"text-center",children:[e.jsx("div",{className:"text-h2 text-receptionist",children:f.totalInvoices}),e.jsx("div",{className:"text-body text-neutral-600",children:"Total Invoices"})]})]}),e.jsxs(u,{children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-h4 text-neutral-900",children:"Invoice Management"}),e.jsx("p",{className:"text-body text-neutral-600",children:"Manage patient billing and payments"})]})}),e.jsx("div",{className:"mb-4",children:e.jsx(j,{placeholder:"Search invoices by patient name or invoice ID...",value:r,onChange:o=>m(o.target.value),className:"max-w-md"})}),e.jsx(Q,{columns:O,data:n})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[e.jsxs(u,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-4",children:"Service Pricing"}),e.jsx("div",{className:"space-y-3",children:ye.map(o=>e.jsxs("div",{className:"flex justify-between items-center p-3 bg-neutral-50 rounded-small",children:[e.jsx("span",{className:"text-body",children:o.name}),e.jsxs("span",{className:"text-body font-medium",children:["$",o.price.toFixed(2)]})]},o.id))})]}),e.jsxs(u,{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsx(c,{variant:"secondary",className:"justify-start",onClick:()=>P.info("Feature coming soon"),children:"ðŸ’° Process Payment"}),e.jsx(c,{variant:"secondary",className:"justify-start",onClick:()=>P.info("Feature coming soon"),children:"ðŸ“§ Send Invoice"}),e.jsx(c,{variant:"secondary",className:"justify-start",onClick:()=>P.info("Feature coming soon"),children:"ðŸ“Š Payment Report"}),e.jsx(c,{variant:"secondary",className:"justify-start",onClick:()=>P.info("Feature coming soon"),children:"ðŸ” Outstanding Bills"})]})]})]})]}),p&&e.jsx(R,{isOpen:h,onClose:()=>N(!1),title:"Collect Payment",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-neutral-50 rounded-small",children:[e.jsx("h4",{className:"font-medium text-neutral-900 mb-2",children:"Invoice Details"}),e.jsxs("p",{className:"text-body-sm text-neutral-600",children:["Invoice ID: ",p.id]}),e.jsxs("p",{className:"text-body-sm text-neutral-600",children:["Patient: ",p.patient]}),e.jsxs("p",{className:"text-body-sm text-neutral-600",children:["Services: ",p.services]}),e.jsxs("p",{className:"text-body-sm text-neutral-600",children:["Amount Due: $",p.amount.toFixed(2)]})]}),e.jsx(j,{label:"Payment Amount *",type:"number",value:a,onChange:o=>y(o.target.value),placeholder:"Enter amount"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-body font-medium text-neutral-700 mb-1",children:"Payment Method *"}),e.jsxs("select",{value:d,onChange:o=>g(o.target.value),className:"block w-full px-3 py-2 border border-neutral-300 rounded-minimal text-body focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"cash",children:"Cash"}),e.jsx("option",{value:"card",children:"Credit/Debit Card"}),e.jsx("option",{value:"insurance",children:"Insurance"}),e.jsx("option",{value:"check",children:"Check"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(c,{variant:"secondary",onClick:()=>N(!1),children:"Cancel"}),e.jsx(c,{onClick:$,loading:i,children:"Process Payment"})]})]})})]})}function fe(){const{plans:r,payments:m}=A(n=>n.paymentPlan),h=F(),[N,p]=x.useState(!1),[b,a]=x.useState(!1),[y,d]=x.useState(null),[g,i]=x.useState({patientName:"",totalAmount:"",downPayment:"",installments:"3"}),v=r.filter(n=>n.status==="active").length,t=r.filter(n=>{const f=Math.floor((Date.now()-new Date(n.startDate).getTime())/2592e6),w=n.downPayment+f*n.monthlyAmount;return n.paid<w&&n.status==="active"}).length,l=()=>{const n=parseFloat(g.totalAmount),f=parseFloat(g.downPayment),w=parseInt(g.installments),$=(n-f)/w;h(ce({id:`PP${Date.now()}`,...g,totalAmount:n,downPayment:f,installments:w,monthlyAmount:$,startDate:new Date().toISOString().split("T")[0],status:"active",paid:f})),p(!1),i({patientName:"",totalAmount:"",downPayment:"",installments:"3"})},C=()=>{y&&(h(de({id:`PAY${Date.now()}`,planId:y.id,amount:y.monthlyAmount,date:new Date().toISOString().split("T")[0],method:"card",status:"completed"})),a(!1),d(null))};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Payment Plans"}),e.jsx(c,{onClick:()=>p(!0),children:"+ Create Plan"})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[e.jsxs(u,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:v}),e.jsx("div",{className:"text-sm text-gray-600",children:"Active Plans"})]}),e.jsxs(u,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:t}),e.jsx("div",{className:"text-sm text-gray-600",children:"Overdue"})]}),e.jsxs(u,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:r.filter(n=>n.status==="completed").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]}),e.jsxs(u,{className:"p-4",children:[e.jsxs("div",{className:"text-3xl font-bold text-gray-700",children:["$",r.reduce((n,f)=>n+f.totalAmount,0)]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Value"})]})]}),e.jsx("div",{className:"space-y-3",children:r.map(n=>{const f=n.paid/n.totalAmount*100;return e.jsx(u,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:n.patientName}),e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-sm",children:n.id}),e.jsx("span",{className:`px-2 py-1 rounded text-xs ${n.status==="active"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:n.status})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Total: $",n.totalAmount," | Down: $",n.downPayment," | Monthly: $",n.monthlyAmount]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Paid: $",n.paid," / $",n.totalAmount," (",n.installments," installments)"]}),e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"w-full bg-gray-200 rounded h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded",style:{width:`${f}%`}})})})]}),n.status==="active"&&e.jsx(c,{size:"sm",onClick:()=>{d(n),a(!0)},children:"Record Payment"})]})},n.id)})}),e.jsx(R,{isOpen:N,onClose:()=>p(!1),title:"Create Payment Plan",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(j,{label:"Patient Name",value:g.patientName,onChange:n=>i({...g,patientName:n.target.value})}),e.jsx(j,{label:"Total Amount",type:"number",value:g.totalAmount,onChange:n=>i({...g,totalAmount:n.target.value})}),e.jsx(j,{label:"Down Payment",type:"number",value:g.downPayment,onChange:n=>i({...g,downPayment:n.target.value})}),e.jsx(j,{label:"Number of Installments",type:"number",value:g.installments,onChange:n=>i({...g,installments:n.target.value})}),g.totalAmount&&g.downPayment&&g.installments&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:e.jsxs("p",{className:"text-sm text-blue-800",children:["Monthly Payment: $",((parseFloat(g.totalAmount)-parseFloat(g.downPayment))/parseInt(g.installments)).toFixed(2)]})}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(c,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),e.jsx(c,{onClick:l,children:"Create Plan"})]})]})}),e.jsx(R,{isOpen:b,onClose:()=>a(!1),title:"Record Payment",children:y&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Patient"}),e.jsx("p",{className:"font-semibold",children:y.patientName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Payment Amount"}),e.jsxs("p",{className:"font-semibold",children:["$",y.monthlyAmount]})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(c,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),e.jsx(c,{onClick:C,children:"Record Payment"})]})]})})]})}function Ne(){const{summary:r,paymentMethods:m}=A(h=>h.revenue);return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Revenue Reports"}),e.jsx(c,{children:"Export Report"})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[e.jsxs(u,{className:"p-4",children:[e.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["$",(r.daily/1e3).toFixed(1),"K"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Today's Revenue"})]}),e.jsxs(u,{className:"p-4",children:[e.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:["$",(r.monthly/1e3).toFixed(0),"K"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Monthly Revenue"})]}),e.jsxs(u,{className:"p-4",children:[e.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:["$",(r.collected/1e3).toFixed(0),"K"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Collected"})]}),e.jsxs(u,{className:"p-4",children:[e.jsxs("div",{className:"text-3xl font-bold text-red-600",children:["$",(r.outstanding/1e3).toFixed(0),"K"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Outstanding"})]})]}),e.jsxs(u,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Payment Methods Breakdown"}),e.jsx("div",{className:"space-y-4",children:m.map(h=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"font-medium",children:h.method}),e.jsxs("span",{className:"text-gray-600",children:["$",(h.amount/1e3).toFixed(0),"K (",h.percentage,"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded h-3",children:e.jsx("div",{className:"bg-blue-500 h-3 rounded",style:{width:`${h.percentage}%`}})})]},h.method))})]})]})}function be(){const{claims:r}=A(i=>i.insurance),m=F(),[h,N]=x.useState(!1),[p,b]=x.useState({patientName:"",provider:"",amount:"",service:""}),a=r.filter(i=>i.status==="pending").length,y=r.filter(i=>i.status==="approved").length,d=r.filter(i=>i.status==="rejected").length,g=()=>{m(me({id:`CLM${Date.now()}`,...p,amount:parseFloat(p.amount),status:"pending",date:new Date().toISOString().split("T")[0]})),N(!1),b({patientName:"",provider:"",amount:"",service:""})};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Insurance Claims"}),e.jsx(c,{onClick:()=>N(!0),children:"+ Submit Claim"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs(u,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:a}),e.jsx("div",{className:"text-sm text-gray-600",children:"Pending Claims"})]}),e.jsxs(u,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:y}),e.jsx("div",{className:"text-sm text-gray-600",children:"Approved"})]}),e.jsxs(u,{className:"p-4",children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:d}),e.jsx("div",{className:"text-sm text-gray-600",children:"Rejected"})]})]}),e.jsx("div",{className:"space-y-3",children:r.map(i=>e.jsx(u,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:i.id}),e.jsx("span",{className:`px-2 py-1 rounded text-xs ${i.status==="pending"?"bg-yellow-100 text-yellow-800":i.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:i.status})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[i.patientName," â€¢ ",i.provider]}),e.jsxs("p",{className:"text-sm text-gray-700",children:["Service: ",i.service," â€¢ $",i.amount]}),e.jsx("p",{className:"text-sm text-gray-500",children:i.date}),i.reason&&e.jsxs("p",{className:"text-sm text-red-600 mt-1",children:["Reason: ",i.reason]})]}),i.status==="pending"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{size:"sm",onClick:()=>m(W({id:i.id,status:"approved"})),children:"Approve"}),e.jsx(c,{variant:"outline",size:"sm",onClick:()=>m(W({id:i.id,status:"rejected",reason:"Documentation incomplete"})),children:"Reject"})]})]})},i.id))}),e.jsx(R,{isOpen:h,onClose:()=>N(!1),title:"Submit Insurance Claim",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(j,{label:"Patient Name",value:p.patientName,onChange:i=>b({...p,patientName:i.target.value})}),e.jsx(j,{label:"Insurance Provider",value:p.provider,onChange:i=>b({...p,provider:i.target.value})}),e.jsx(j,{label:"Service Description",value:p.service,onChange:i=>b({...p,service:i.target.value})}),e.jsx(j,{label:"Claim Amount",type:"number",value:p.amount,onChange:i=>b({...p,amount:i.target.value})}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(c,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),e.jsx(c,{onClick:g,children:"Submit Claim"})]})]})})]})}function Te(){return e.jsxs(ee,{children:[e.jsx(D,{index:!0,element:e.jsx(xe,{})}),e.jsx(D,{path:"appointments",element:e.jsx(Y,{})}),e.jsx(D,{path:"recurring-appointments",element:e.jsx(Y,{})}),e.jsx(D,{path:"waitlist",element:e.jsx(ge,{})}),e.jsx(D,{path:"patients",element:e.jsx(he,{})}),e.jsx(D,{path:"patients/register",element:e.jsx(je,{})}),e.jsx(D,{path:"billing",element:e.jsx(ve,{})}),e.jsx(D,{path:"billing/payment-plans",element:e.jsx(fe,{})}),e.jsx(D,{path:"billing/revenue-reports",element:e.jsx(Ne,{})}),e.jsx(D,{path:"billing/insurance-claims",element:e.jsx(be,{})})]})}export{Te as default};
