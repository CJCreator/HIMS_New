import{c as f,u as v,r as i,j as e}from"./vendor-react-DtsOz5pv.js";import{G as y,C as t,H as b,J as o,U as w,S,a as C,K as D}from"./components-shared-yLUaqag5.js";import"./vendor-other-DG8If0Tp.js";import"./vendor-utils-DvtxXjqu.js";import"./vendor-redux-CxpqfPS-.js";import"./vendor-ui-B-dksMZM.js";function H(){const h=f(),{user:n}=v(c=>c.auth),[r,j]=i.useState({todayCompleted:0,todayPending:0}),[d,x]=i.useState(!0),[m,p]=i.useState(!0),{updateCount:u}=y();i.useEffect(()=>{(async()=>{x(!0),await new Promise(s=>setTimeout(s,1e3));const a=D.getPatients(),g=a.filter(s=>s.status==="waiting"&&s.currentStage==="Pharmacy").length,N=a.filter(s=>s.status==="ready"||s.status==="in-progress").length;j({todayCompleted:g,todayPending:N}),p(a.length>0),x(!1)})()},[u]);const l={avgConsultationTime:10,improvement:44,satisfaction:4.8};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Enhanced Doctor Dashboard"}),e.jsxs("p",{className:"text-sm text-neutral-600 mt-1",children:["Welcome back, ",(n==null?void 0:n.name)||"Dr. Wilson"]})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:d?Array.from({length:4}).map((c,a)=>e.jsx(t,{className:"p-4",children:e.jsx(b,{lines:2})},a)):m?e.jsxs(e.Fragment,{children:[e.jsx(t,{className:"p-4 bg-success/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-neutral-600 mb-1",children:"Avg Consultation"}),e.jsxs("p",{className:"text-3xl font-semibold text-success",children:[l.avgConsultationTime,"m"]}),e.jsxs("p",{className:"text-xs text-success",children:["↓ ",l.improvement,"% faster"]})]}),e.jsx("div",{className:"w-12 h-12 bg-success/20 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"⚡"})})]})}),e.jsx(t,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-neutral-600 mb-1",children:"Completed Today"}),e.jsx("p",{className:"text-3xl font-semibold text-doctor",children:r.todayCompleted})]}),e.jsx("div",{className:"w-12 h-12 bg-doctor/10 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"✓"})})]})}),e.jsx(t,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-neutral-600 mb-1",children:"Pending"}),e.jsx("p",{className:"text-3xl font-semibold text-warning",children:r.todayPending})]}),e.jsx("div",{className:"w-12 h-12 bg-warning/10 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"⏱"})})]})}),e.jsx(t,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-neutral-600 mb-1",children:"Satisfaction"}),e.jsx("p",{className:"text-3xl font-semibold text-neutral-900",children:l.satisfaction})]}),e.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"⭐"})})]})})]}):e.jsx("div",{className:"col-span-full",children:e.jsx(o,{onRefresh:()=>window.location.reload()})})}),!m&&!d&&e.jsx(t,{className:"p-6",children:e.jsx(o,{onRefresh:()=>window.location.reload()})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(w,{})}),e.jsx("div",{children:e.jsx(S,{})})]}),e.jsx(t,{className:"p-6 bg-gradient-to-r from-primary-50 to-success-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-2",children:"System Improvements"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Time Saved"}),e.jsx("p",{className:"text-h3 text-success",children:"8 min"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Steps Reduced"}),e.jsx("p",{className:"text-h3 text-primary",children:"14 → 5"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-body-sm text-neutral-600",children:"Efficiency"}),e.jsx("p",{className:"text-h3 text-success",children:"+44%"})]})]})]}),e.jsx(C,{onClick:()=>h("/admin/system-comparison"),children:"View Comparison"})]})})]})}export{H as EnhancedDoctorDashboard};
