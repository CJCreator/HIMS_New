import{c as X,u as k,r as n,j as e,af as Y,ap as _,ae as G,ad as H,aH as J,aY as Z,aZ as W,ai as ee,i as z,S as se,T as Q,a as te,n as ae,a_ as le,D as re,aO as ie,aP as L}from"./vendor-react-DtsOz5pv.js";import{a as o,C as h,N as ne,I as U,b as D,c as T,z as ce,d as V,f as A,A as de}from"./components-shared-yLUaqag5.js";import{t as C}from"./vendor-other-DG8If0Tp.js";import{v as oe,k as me}from"./feature-patient-Dnq0Sh1C.js";import{R as I,b as xe,c as P,X as $,Y as F,T as E,L as B,e as K,B as he,f as q}from"./vendor-charts-CHnEnLA1.js";import"./vendor-utils-DvtxXjqu.js";import"./vendor-redux-CxpqfPS-.js";import"./vendor-ui-B-dksMZM.js";import"./feature-laboratory-DhpxEggP.js";const ue=()=>{const c=X(),{orders:m}=k(r=>r.lab),{notifications:l}=k(r=>r.notifications),[u,d]=n.useState(null),j=n.useMemo(()=>({pending:m.filter(r=>r.status==="ordered").length,inProgress:m.filter(r=>r.status==="processing").length,completed:m.filter(r=>r.status==="completed").length,critical:m.filter(r=>r.priority==="urgent").length}),[m]),i=n.useMemo(()=>m.slice(0,5),[m]);return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Laboratory Dashboard"}),e.jsx(o,{onClick:()=>c("/lab/orders"),children:"View All Orders"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.pending}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Pending Orders"})]}),e.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:e.jsx(Y,{className:"text-yellow-600",size:24,"aria-hidden":"true"})})]})}),e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.inProgress}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"In Progress"})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(_,{className:"text-blue-600",size:24,"aria-hidden":"true"})})]})}),e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.completed}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Completed Today"})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(G,{className:"text-green-600",size:24,"aria-hidden":"true"})})]})}),e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.critical}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Critical Results"})]}),e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(H,{className:"text-red-600",size:24,"aria-hidden":"true"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(h,{className:"lg:col-span-2 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Orders"}),e.jsx("div",{className:"space-y-3",children:i.length===0?e.jsx("p",{className:"text-body-sm text-neutral-500 text-center py-8",children:"No orders available"}):i.map(r=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer",onClick:()=>c("/lab/orders"),children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:r.patientName}),e.jsx("p",{className:"text-sm text-gray-600",children:r.tests.map(N=>N.name).join(", ")})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${r.status==="completed"?"bg-green-100 text-green-800":r.status==="processing"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:r.status.replace("_"," ")}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r.orderDate})]})]},r.id))})]}),e.jsxs(h,{className:"p-6",children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-4",children:"Recent Notifications"}),e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:l.slice(0,5).map(r=>e.jsxs("div",{className:"p-3 bg-neutral-50 rounded-small cursor-pointer hover:bg-neutral-100",onClick:()=>d(r),children:[e.jsx("p",{className:"text-body-sm font-medium",children:r.title}),e.jsx("p",{className:"text-body-sm text-neutral-600",children:r.message})]},r.id))})]})]}),e.jsxs(h,{className:"p-6",children:[e.jsx("h3",{className:"text-h4 text-neutral-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[e.jsxs(o,{variant:"secondary",className:"justify-start",onClick:()=>c("/lab/orders"),children:[e.jsx(J,{className:"mr-2",size:16,"aria-hidden":"true"}),"Order Queue"]}),e.jsxs(o,{variant:"secondary",className:"justify-start",onClick:()=>c("/lab/results"),children:[e.jsx(Z,{className:"mr-2",size:16,"aria-hidden":"true"}),"Enter Results"]}),e.jsxs(o,{variant:"secondary",className:"justify-start",onClick:()=>c("/lab/verification"),children:[e.jsx(W,{className:"mr-2",size:16,"aria-hidden":"true"}),"Verify Results"]}),e.jsxs(o,{variant:"secondary",className:"justify-start",onClick:()=>c("/lab/reports"),children:[e.jsx(ee,{className:"mr-2",size:16,"aria-hidden":"true"}),"Reports"]})]})]}),u&&e.jsx(ne,{notification:u,isOpen:!!u,onClose:()=>d(null)})]})},je=()=>{const c=z(),{orders:m}=k(t=>t.lab),[l,u]=n.useState(""),[d,j]=n.useState("all"),[i,r]=n.useState(null),[N,g]=n.useState(!1),[R,p]=n.useState(!1),[v,b]=n.useState(!1),y=n.useMemo(()=>m.filter(t=>{const f=t.patientName.toLowerCase().includes(l.toLowerCase())||t.tests.some(M=>M.name.toLowerCase().includes(l.toLowerCase())),O=d==="all"||t.status===d;return f&&O}),[m,l,d]),w=async(t,f)=>{const O=m.find(M=>M.id===t);if(O){b(!0);try{c(ce({id:t,status:f})),c(V({type:"success",title:"Order Status Updated",message:`Order ${t} status changed to ${f}`,priority:"medium",category:"lab"})),f==="completed"&&c(A({role:"doctor",type:"info",title:"Lab Results Ready",message:`Lab results for ${O.patientName} are ready for review`,priority:"high",category:"lab"})),C.success(`Order ${f}`)}finally{b(!1)}}},S=t=>{r(t),p(!0)},s=()=>{i&&(w(i.id,"processing"),C.success("Sample collected")),p(!1)},x=t=>{r(t),g(!0)},a=t=>t==="urgent"?e.jsx(Q,{className:"w-4 h-4 text-red-500"}):e.jsx(te,{className:"w-4 h-4 text-yellow-500"});return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Lab Order Queue"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(U,{placeholder:"Search orders...",value:l,onChange:t=>u(t.target.value),className:"pl-10 w-64"})]}),e.jsxs("select",{value:d,onChange:t=>j(t.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"ordered",children:"Ordered"}),e.jsx("option",{value:"processing",children:"Processing"}),e.jsx("option",{value:"completed",children:"Completed"})]})]})]}),e.jsx("div",{className:"grid gap-4",children:y.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500",children:"No orders found"})}):y.map(t=>e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a(t.priority),e.jsx("h3",{className:"font-semibold text-gray-900",children:t.patientName}),e.jsxs("span",{className:"text-sm text-gray-500",children:["#",t.id]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Tests"}),e.jsx("p",{className:"font-medium",children:t.tests.map(f=>f.name).join(", ")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Ordered Date"}),e.jsx("p",{className:"font-medium",children:t.orderDate})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Doctor"}),e.jsx("p",{className:"font-medium",children:t.doctorName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Priority"}),e.jsx(D,{status:t.priority==="urgent"?"error":"pending",children:t.priority})]})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2 ml-6",children:[e.jsx(o,{variant:"secondary",size:"sm",onClick:()=>x(t),children:"View Details"}),t.status==="ordered"&&e.jsx(o,{variant:"primary",size:"sm",onClick:()=>S(t),loading:v,children:"Collect Sample"}),t.status==="processing"&&e.jsx(o,{variant:"primary",size:"sm",onClick:()=>w(t.id,"completed"),loading:v,children:"Mark Complete"}),e.jsx(D,{status:t.status==="completed"?"delivered":t.status==="processing"?"sent":"pending",children:t.status.replace("_"," ")})]})]})},t.id))}),i&&e.jsx(T,{isOpen:N,onClose:()=>g(!1),title:"Order Details",size:"lg",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Patient"}),e.jsx("p",{className:"font-medium",children:i.patientName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Order ID"}),e.jsx("p",{className:"font-medium",children:i.id})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Doctor"}),e.jsx("p",{className:"font-medium",children:i.doctorName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Order Date"}),e.jsx("p",{className:"font-medium",children:i.orderDate})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Priority"}),e.jsx(D,{status:i.priority==="urgent"?"error":"pending",children:i.priority})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),e.jsx(D,{status:i.status==="completed"?"delivered":i.status==="processing"?"sent":"pending",children:i.status})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Ordered Tests"}),e.jsx("div",{className:"space-y-2",children:i.tests.map((t,f)=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"font-medium",children:t.name}),t.instructions&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.instructions})]},f))})]}),e.jsx("div",{className:"flex justify-end gap-3",children:e.jsx(o,{variant:"secondary",onClick:()=>g(!1),children:"Close"})})]})}),i&&e.jsx(T,{isOpen:R,onClose:()=>p(!1),title:"Collect Sample",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-body",children:["Confirm sample collection for ",i.patientName,"?"]}),e.jsxs("div",{className:"p-4 bg-neutral-50 rounded-small",children:[e.jsxs("p",{className:"text-body-sm text-neutral-600",children:["Order ID: ",i.id]}),e.jsxs("p",{className:"text-body-sm text-neutral-600",children:["Tests: ",i.tests.map(t=>t.name).join(", ")]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(o,{variant:"secondary",onClick:()=>p(!1),children:"Cancel"}),e.jsx(o,{onClick:s,loading:v,children:"Confirm Collection"})]})]})})]})},pe=()=>{const c=z(),{orders:m}=k(s=>s.lab),[l,u]=n.useState(""),[d,j]=n.useState([]),[i,r]=n.useState(!1),[N,g]=n.useState(!1),R=n.useMemo(()=>m.filter(s=>s.status==="processing"),[m]),p=n.useMemo(()=>m.find(s=>s.id===l),[m,l]),v=s=>{u(s);const x=m.find(a=>a.id===s);x&&j(x.tests.map(a=>({name:a.name,value:"",unit:a.unit||"units",normalRange:a.normalRange||"N/A",status:"normal"})))},b=(s,x)=>{const a=[...d];a[s].value=x;const t=parseFloat(x);isNaN(t)||(a[s].name.toLowerCase().includes("glucose")&&t>200||a[s].name.toLowerCase().includes("hemoglobin")&&t<8?a[s].status="critical":a[s].name.toLowerCase().includes("wbc")&&(t<4||t>11)?a[s].status="abnormal":a[s].status="normal"),j(a)},y=n.useMemo(()=>d.filter(s=>s.status==="critical"&&s.value),[d]),w=async()=>{if(!l){C.error("Please select an order");return}if(!d.some(s=>s.value)){C.error("Please enter at least one result");return}if(y.length>0){g(!0);return}await S()},S=async()=>{r(!0);try{const s=d.filter(x=>x.value).reduce((x,a)=>(x[a.name]={value:a.value,status:a.status},x),{});c(de({orderId:l,results:s})),c(V({type:"success",title:"Results Submitted",message:`Lab results for order ${l} submitted successfully`,priority:"medium",category:"lab"})),y.length>0&&c(A({role:"doctor",type:"error",title:"Critical Lab Results",message:`CRITICAL: ${p==null?void 0:p.patientName} has critical lab values requiring immediate attention`,priority:"urgent",category:"lab"})),C.success("Results submitted successfully"),u(""),j([]),g(!1)}finally{r(!1)}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Result Entry"}),p&&e.jsxs("p",{className:"text-gray-600",children:["Order #",p.id," - ",p.patientName]})]})}),l?e.jsxs(e.Fragment,{children:[y.length>0&&e.jsx(h,{className:"p-4 bg-red-50 border border-red-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:"text-2xl",children:"⚠️"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Critical Values Detected"}),e.jsx("div",{className:"mt-2 text-sm text-red-700",children:y.map((s,x)=>e.jsxs("p",{children:["• ",s.name,": ",s.value," ",s.unit," (Normal: ",s.normalRange,")"]},x))})]})]})}),e.jsxs(h,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Test Results"}),e.jsx(o,{variant:"secondary",size:"sm",onClick:()=>u(""),children:"Change Order"})]}),e.jsx("div",{className:"space-y-4",children:d.map((s,x)=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Normal: ",s.normalRange]})]}),e.jsx(U,{type:"number",placeholder:"Enter value",value:s.value,onChange:a=>b(x,a.target.value),className:s.status==="critical"?"border-red-500":""}),e.jsx("span",{className:"text-sm text-gray-600",children:s.unit}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${s.status==="critical"?"bg-red-100 text-red-800":s.status==="abnormal"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:s.status})]},s.name))}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx(o,{variant:"secondary",onClick:()=>u(""),children:"Cancel"}),e.jsx(o,{variant:"primary",onClick:w,loading:i,disabled:!d.some(s=>s.value),children:"Submit Results"})]})]})]}):e.jsxs(h,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Select Order"}),e.jsx("div",{className:"space-y-3",children:R.length===0?e.jsx("p",{className:"text-center text-gray-500 py-8",children:"No orders in processing status"}):R.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer",onClick:()=>v(s.id),children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.patientName}),e.jsx("p",{className:"text-sm text-gray-600",children:s.tests.map(x=>x.name).join(", ")})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Order: ",s.id]}),e.jsx("p",{className:"text-sm text-gray-600",children:s.orderDate})]})]},s.id))})]}),e.jsx(T,{isOpen:N,onClose:()=>g(!1),title:"Critical Values Detected",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-red-50 rounded-lg",children:[e.jsx("p",{className:"text-body font-medium text-red-900 mb-2",children:"The following critical values were detected:"}),y.map((s,x)=>e.jsxs("p",{className:"text-body-sm text-red-800",children:["• ",s.name,": ",s.value," ",s.unit," (Normal: ",s.normalRange,")"]},x))]}),e.jsx("p",{className:"text-body",children:"Doctor will be notified immediately. Do you want to proceed?"}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(o,{variant:"secondary",onClick:()=>g(!1),children:"Cancel"}),e.jsx(o,{onClick:S,loading:i,children:"Confirm & Submit"})]})]})})]})},ge=()=>{const c=z(),{results:m}=k(a=>a.labResults),[l,u]=n.useState(null),[d,j]=n.useState(!1),[i,r]=n.useState(!1),[N,g]=n.useState(""),[R,p]=n.useState(""),[v,b]=n.useState(!1),y=n.useMemo(()=>m.filter(a=>a.status==="pending"),[m]),w=a=>{u(a),j(!0)},S=a=>{u(a),r(!0)},s=async()=>{if(l){b(!0);try{c(oe(l.id)),c(V({type:"success",title:"Result Verified",message:`Lab result for ${l.patientName} verified and released`,priority:"medium",category:"lab"})),c(A({role:"doctor",type:"info",title:"Lab Results Verified",message:`Verified lab results for ${l.patientName} are now available`,priority:"high",category:"lab"})),l.critical&&c(A({role:"doctor",type:"error",title:"Critical Lab Results Verified",message:`CRITICAL: ${l.patientName} - ${l.testName} requires immediate attention`,priority:"urgent",category:"lab"})),C.success("Result verified and released"),j(!1),p(""),u(null)}finally{b(!1)}}},x=async()=>{if(!l||!N.trim()){C.error("Please provide a rejection reason");return}b(!0);try{c(me({id:l.id,reason:N})),c(V({type:"warning",title:"Result Rejected",message:`Lab result for ${l.patientName} rejected: ${N}`,priority:"high",category:"lab"})),C.warning("Result rejected"),r(!1),g(""),u(null)}finally{b(!1)}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Result Verification"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Review and verify lab results before release"})]}),e.jsx("div",{className:"space-y-4",children:y.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500",children:"No results pending verification"})}):y.map(a=>e.jsxs(h,{className:`p-6 ${a.critical?"border-red-300 bg-red-50":""}`,children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:a.testName}),a.critical&&e.jsxs("span",{className:"px-2 py-1 bg-red-600 text-white text-xs font-medium rounded-full flex items-center space-x-1",children:[e.jsx(Q,{className:"w-3 h-3"}),e.jsx("span",{children:"CRITICAL"})]})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Order: ",a.orderId," • Patient: ",a.patientName]})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4 p-4 bg-white rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Result"}),e.jsx("p",{className:"font-semibold text-gray-900",children:a.result})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Normal Range"}),e.jsx("p",{className:"font-semibold text-gray-900",children:a.normalRange})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Entered By"}),e.jsx("p",{className:"font-semibold text-gray-900",children:a.enteredBy}),e.jsx("p",{className:"text-xs text-gray-500",children:a.enteredAt})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs(o,{variant:"primary",onClick:()=>w(a),className:"flex items-center space-x-2",children:[e.jsx(ae,{className:"w-4 h-4"}),e.jsx("span",{children:"Verify & Release"})]}),e.jsxs(o,{variant:"secondary",onClick:()=>S(a),className:"flex items-center space-x-2",children:[e.jsx(le,{className:"w-4 h-4"}),e.jsx("span",{children:"Reject"})]})]})]},a.id))}),l&&e.jsx(T,{isOpen:d,onClose:()=>j(!1),title:"Verify Lab Result",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-neutral-50 rounded-lg",children:[e.jsxs("p",{className:"text-body-sm text-neutral-600",children:["Patient: ",l.patientName]}),e.jsxs("p",{className:"text-body-sm text-neutral-600",children:["Test: ",l.testName]}),e.jsxs("p",{className:"text-body-sm text-neutral-600",children:["Result: ",l.result]}),e.jsxs("p",{className:"text-body-sm text-neutral-600",children:["Normal Range: ",l.normalRange]})]}),l.critical&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-body-sm font-medium text-red-900",children:"⚠️ This is a CRITICAL result. Doctor will be notified immediately."})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-body font-medium text-neutral-700 mb-1",children:"Verification Notes (Optional)"}),e.jsx("textarea",{value:R,onChange:a=>p(a.target.value),placeholder:"Add any verification notes...",className:"w-full px-3 py-2 border border-neutral-300 rounded-minimal text-body focus:outline-none focus:ring-2 focus:ring-primary-500",rows:3})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(o,{variant:"secondary",onClick:()=>j(!1),children:"Cancel"}),e.jsx(o,{onClick:s,loading:v,children:"Verify & Release"})]})]})}),l&&e.jsx(T,{isOpen:i,onClose:()=>r(!1),title:"Reject Lab Result",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-neutral-50 rounded-lg",children:[e.jsxs("p",{className:"text-body-sm text-neutral-600",children:["Patient: ",l.patientName]}),e.jsxs("p",{className:"text-body-sm text-neutral-600",children:["Test: ",l.testName]}),e.jsxs("p",{className:"text-body-sm text-neutral-600",children:["Result: ",l.result]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-body font-medium text-neutral-700 mb-1",children:"Rejection Reason *"}),e.jsx("textarea",{value:N,onChange:a=>g(a.target.value),placeholder:"Enter reason for rejection...",className:"w-full px-3 py-2 border border-neutral-300 rounded-minimal text-body focus:outline-none focus:ring-2 focus:ring-primary-500",rows:3})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(o,{variant:"secondary",onClick:()=>r(!1),children:"Cancel"}),e.jsx(o,{onClick:x,loading:v,children:"Confirm Rejection"})]})]})})]})},ye=()=>{const[c,m]=n.useState("volume"),l=[{month:"Jan",tests:450,critical:12},{month:"Feb",tests:480,critical:15},{month:"Mar",tests:520,critical:10},{month:"Apr",tests:495,critical:18}],u=[{test:"CBC",avgTime:2.5,target:3},{test:"Glucose",avgTime:1.8,target:2},{test:"Lipid Panel",avgTime:4.2,target:4},{test:"Thyroid",avgTime:5.5,target:6}];return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Lab Reports"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Analytics and performance metrics"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-md",children:[e.jsx("option",{children:"Last 30 days"}),e.jsx("option",{children:"Last 90 days"}),e.jsx("option",{children:"Last year"})]}),e.jsxs(o,{variant:"primary",children:[e.jsx(re,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(h,{className:"p-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Tests"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:"1,945"}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"↑ 12% from last month"})]}),e.jsxs(h,{className:"p-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Avg Turnaround"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:"3.5h"}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"↓ 8% improvement"})]}),e.jsxs(h,{className:"p-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Critical Results"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:"55"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"2.8% of total"})]}),e.jsxs(h,{className:"p-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pending Verification"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:"12"}),e.jsx("p",{className:"text-sm text-yellow-600 mt-1",children:"Requires attention"})]})]}),e.jsx("div",{className:"flex space-x-2",children:["volume","turnaround","quality"].map(d=>e.jsxs("button",{onClick:()=>m(d),className:`px-4 py-2 rounded-md text-sm font-medium ${c===d?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[d.charAt(0).toUpperCase()+d.slice(1)," Report"]},d))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(h,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Test Volume Trend"}),e.jsx(I,{width:"100%",height:300,children:e.jsxs(xe,{data:l,children:[e.jsx(P,{strokeDasharray:"3 3"}),e.jsx($,{dataKey:"month"}),e.jsx(F,{}),e.jsx(E,{}),e.jsx(B,{}),e.jsx(K,{type:"monotone",dataKey:"tests",stroke:"#3b82f6",name:"Total Tests"}),e.jsx(K,{type:"monotone",dataKey:"critical",stroke:"#ef4444",name:"Critical Results"})]})})]}),e.jsxs(h,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Turnaround Time by Test"}),e.jsx(I,{width:"100%",height:300,children:e.jsxs(he,{data:u,children:[e.jsx(P,{strokeDasharray:"3 3"}),e.jsx($,{dataKey:"test"}),e.jsx(F,{label:{value:"Hours",angle:-90,position:"insideLeft"}}),e.jsx(E,{}),e.jsx(B,{}),e.jsx(q,{dataKey:"avgTime",fill:"#3b82f6",name:"Actual"}),e.jsx(q,{dataKey:"target",fill:"#10b981",name:"Target"})]})})]})]})]})};function ke(){return e.jsxs(ie,{children:[e.jsx(L,{index:!0,element:e.jsx(ue,{})}),e.jsx(L,{path:"orders",element:e.jsx(je,{})}),e.jsx(L,{path:"results",element:e.jsx(pe,{})}),e.jsx(L,{path:"verification",element:e.jsx(ge,{})}),e.jsx(L,{path:"reports",element:e.jsx(ye,{})})]})}export{ke as default};
